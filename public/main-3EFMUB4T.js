var lN=Object.defineProperty,uN=Object.defineProperties;var dN=Object.getOwnPropertyDescriptors;var $v=Object.getOwnPropertySymbols,hN=Object.getPrototypeOf,fN=Object.prototype.hasOwnProperty,pN=Object.prototype.propertyIsEnumerable,gN=Reflect.get;var Bv=(t,e,n)=>e in t?lN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,x=(t,e)=>{for(var n in e||={})fN.call(e,n)&&Bv(t,n,e[n]);if($v)for(var n of $v(e))pN.call(e,n)&&Bv(t,n,e[n]);return t},he=(t,e)=>uN(t,dN(e));var ir=(t,e,n)=>gN(hN(t),n,e);var I=(t,e,n)=>new Promise((r,i)=>{var s=l=>{try{c(n.next(l))}catch(u){i(u)}},o=l=>{try{c(n.throw(l))}catch(u){i(u)}},c=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);c((n=n.apply(t,e)).next())});function Hv(t,e){return Object.is(t,e)}var Me=null,xc=!1,vh=1,ki=Symbol("SIGNAL");function ae(t){let e=Me;return Me=t,e}function wh(){return Me}var Oc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ih(t){if(xc)throw new Error("");if(Me===null)return;Me.consumerOnSignalRead(t);let e=Me.nextProducerIndex++;if(Fc(Me),e<Me.producerNode.length&&Me.producerNode[e]!==t&&vo(Me)){let n=Me.producerNode[e];Lc(n,Me.producerIndexOfThis[e])}Me.producerNode[e]!==t&&(Me.producerNode[e]=t,Me.producerIndexOfThis[e]=vo(Me)?Kv(t,Me,e):0),Me.producerLastReadVersion[e]=t.version}function qv(){vh++}function zv(t){if(!(vo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===vh)){if(!t.producerMustRecompute(t)&&!bh(t)){_h(t);return}t.producerRecomputeValue(t),_h(t)}}function Eh(t){if(t.liveConsumerNode===void 0)return;let e=xc;xc=!0;try{for(let n of t.liveConsumerNode)n.dirty||mN(n)}finally{xc=e}}function Wv(){return Me?.consumerAllowSignalWrites!==!1}function mN(t){t.dirty=!0,Eh(t),t.consumerMarkedDirty?.(t)}function _h(t){t.dirty=!1,t.lastCleanEpoch=vh}function Th(t){return t&&(t.nextProducerIndex=0),ae(t)}function Gv(t,e){if(ae(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(vo(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Lc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function bh(t){Fc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(zv(n),r!==n.version))return!0}return!1}function Sh(t){if(Fc(t),vo(t))for(let e=0;e<t.producerNode.length;e++)Lc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Kv(t,e,n){if(Qv(t),t.liveConsumerNode.length===0&&Yv(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Kv(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Lc(t,e){if(Qv(t),t.liveConsumerNode.length===1&&Yv(t))for(let r=0;r<t.producerNode.length;r++)Lc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Fc(i),i.producerIndexOfThis[r]=e}}function vo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Fc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Qv(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Yv(t){return t.producerNode!==void 0}function yN(){throw new Error}var Zv=yN;function _N(t){Zv(t)}function Ch(t){Zv=t}var vN=null;function Ah(t,e){Wv()||_N(t),t.equal(t.value,e)||(t.value=e,wN(t))}var Rh=he(x({},Oc),{equal:Hv,value:void 0,kind:"signal"});function wN(t){t.version++,qv(),Eh(t),vN?.()}var Dh;function wo(){return Dh}function kn(t){let e=Dh;return Dh=t,e}var Vc=Symbol("NotFound");function H(t){return typeof t=="function"}function Pi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Uc=Pi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function xr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ae=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(H(r))try{r()}catch(s){e=s instanceof Uc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{Xv(s)}catch(o){e=e??[],o instanceof Uc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Uc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Xv(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&xr(n,e)}remove(e){let{_finalizers:n}=this;n&&xr(n,e),e instanceof t&&e._removeParent(this)}};Ae.EMPTY=(()=>{let t=new Ae;return t.closed=!0,t})();var Nh=Ae.EMPTY;function jc(t){return t instanceof Ae||t&&"closed"in t&&H(t.remove)&&H(t.add)&&H(t.unsubscribe)}function Xv(t){H(t)?t():t.unsubscribe()}var en={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Mi={setTimeout(t,e,...n){let{delegate:r}=Mi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Mi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function $c(t){Mi.setTimeout(()=>{let{onUnhandledError:e}=en;if(e)e(t);else throw t})}function Io(){}var Jv=kh("C",void 0,void 0);function ew(t){return kh("E",void 0,t)}function tw(t){return kh("N",t,void 0)}function kh(t,e,n){return{kind:t,value:e,error:n}}var Or=null;function xi(t){if(en.useDeprecatedSynchronousErrorHandling){let e=!Or;if(e&&(Or={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Or;if(Or=null,n)throw r}}else t()}function nw(t){en.useDeprecatedSynchronousErrorHandling&&Or&&(Or.errorThrown=!0,Or.error=t)}var Lr=class extends Ae{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,jc(e)&&e.add(this)):this.destination=NN}static create(e,n,r){return new Oi(e,n,r)}next(e){this.isStopped?Mh(tw(e),this):this._next(e)}error(e){this.isStopped?Mh(ew(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Mh(Jv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},RN=Function.prototype.bind;function Ph(t,e){return RN.call(t,e)}var xh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Bc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Bc(r)}else Bc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Bc(n)}}},Oi=class extends Lr{constructor(e,n,r){super();let i;if(H(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&en.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ph(e.next,s),error:e.error&&Ph(e.error,s),complete:e.complete&&Ph(e.complete,s)}):i=e}this.destination=new xh(i)}};function Bc(t){en.useDeprecatedSynchronousErrorHandling?nw(t):$c(t)}function DN(t){throw t}function Mh(t,e){let{onStoppedNotification:n}=en;n&&Mi.setTimeout(()=>n(t,e))}var NN={closed:!0,next:Io,error:DN,complete:Io};var Li=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ht(t){return t}function Oh(...t){return Lh(t)}function Lh(t){return t.length===0?ht:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Z=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=PN(n)?n:new Oi(n,r,i);return xi(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=rw(r),new r((i,s)=>{let o=new Oi({next:c=>{try{n(c)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Li](){return this}pipe(...n){return Lh(n)(this)}toPromise(n){return n=rw(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function rw(t){var e;return(e=t??en.Promise)!==null&&e!==void 0?e:Promise}function kN(t){return t&&H(t.next)&&H(t.error)&&H(t.complete)}function PN(t){return t&&t instanceof Lr||kN(t)&&jc(t)}function Fh(t){return H(t?.lift)}function K(t){return e=>{if(Fh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Q(t,e,n,r,i){return new Eo(t,e,n,r,i)}var Eo=class extends Lr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(c){try{n(c)}catch(l){e.error(l)}}:super._next,this._error=i?function(c){try{i(c)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Fi(){return K((t,e)=>{let n=null;t._refCount++;let r=Q(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Vi=class extends Z{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Fh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ae;let n=this.getSubject();e.add(this.source.subscribe(Q(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ae.EMPTY)}return e}refCount(){return Fi()(this)}};var iw=Pi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var xe=(()=>{class t extends Z{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Hc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new iw}next(n){xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Nh:(this.currentObservers=null,s.push(n),new Ae(()=>{this.currentObservers=null,xr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new Z;return n.source=this,n}}return t.create=(e,n)=>new Hc(e,n),t})(),Hc=class extends xe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Nh}};var We=class extends xe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Vh={now(){return(Vh.delegate||Date).now()},delegate:void 0};var qc=class extends Ae{constructor(e,n){super()}schedule(e,n=0){return this}};var To={setInterval(t,e,...n){let{delegate:r}=To;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=To;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ui=class extends qc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return To.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&To.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,xr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ji=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ji.now=Vh.now;var $i=class extends ji{constructor(e,n=ji.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Uh=new $i(Ui);var zc=class extends Ui{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Wc=class extends $i{};var jh=new Wc(zc);var It=new Z(t=>t.complete());function sw(t){return t&&H(t.schedule)}function ow(t){return t[t.length-1]}function aw(t){return H(ow(t))?t.pop():void 0}function sr(t){return sw(ow(t))?t.pop():void 0}function $h(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function lw(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(f){try{u(r.next(f))}catch(p){o(p)}}function l(f){try{u(r.throw(f))}catch(p){o(p)}}function u(f){f.done?s(f.value):i(f.value).then(c,l)}u((r=r.apply(t,e||[])).next())})}function cw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fr(t){return this instanceof Fr?(this.v=t,this):new Fr(t)}function uw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(y){return function(C){return Promise.resolve(C).then(y,p)}}function c(y,C){r[y]&&(i[y]=function(D){return new Promise(function(N,j){s.push([y,D,N,j])>1||l(y,D)})},C&&(i[y]=C(i[y])))}function l(y,C){try{u(r[y](C))}catch(D){m(s[0][3],D)}}function u(y){y.value instanceof Fr?Promise.resolve(y.value.v).then(f,p):m(s[0][2],y)}function f(y){l("next",y)}function p(y){l("throw",y)}function m(y,C){y(C),s.shift(),s.length&&l(s[0][0],s[0][1])}}function dw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof cw=="function"?cw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(c,l){o=t[s](o),i(c,l,o.done,o.value)})}}function i(s,o,c,l){Promise.resolve(l).then(function(u){s({value:u,done:c})},o)}}var Gc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Kc(t){return H(t?.then)}function Qc(t){return H(t[Li])}function Yc(t){return Symbol.asyncIterator&&H(t?.[Symbol.asyncIterator])}function Zc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function MN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Xc=MN();function Jc(t){return H(t?.[Xc])}function el(t){return uw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Fr(n.read());if(i)return yield Fr(void 0);yield yield Fr(r)}}finally{n.releaseLock()}})}function tl(t){return H(t?.getReader)}function ke(t){if(t instanceof Z)return t;if(t!=null){if(Qc(t))return xN(t);if(Gc(t))return ON(t);if(Kc(t))return LN(t);if(Yc(t))return hw(t);if(Jc(t))return FN(t);if(tl(t))return VN(t)}throw Zc(t)}function xN(t){return new Z(e=>{let n=t[Li]();if(H(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ON(t){return new Z(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function LN(t){return new Z(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,$c)})}function FN(t){return new Z(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function hw(t){return new Z(e=>{UN(t,e).catch(n=>e.error(n))})}function VN(t){return hw(el(t))}function UN(t,e){var n,r,i,s;return lw(this,void 0,void 0,function*(){try{for(n=dw(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Et(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function or(t,e=0){return K((n,r)=>{n.subscribe(Q(r,i=>Et(r,t,()=>r.next(i),e),()=>Et(r,t,()=>r.complete(),e),i=>Et(r,t,()=>r.error(i),e)))})}function ar(t,e=0){return K((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function fw(t,e){return ke(t).pipe(ar(e),or(e))}function pw(t,e){return ke(t).pipe(ar(e),or(e))}function gw(t,e){return new Z(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function mw(t,e){return new Z(n=>{let r;return Et(n,e,()=>{r=t[Xc](),Et(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>H(r?.return)&&r.return()})}function nl(t,e){if(!t)throw new Error("Iterable cannot be null");return new Z(n=>{Et(n,e,()=>{let r=t[Symbol.asyncIterator]();Et(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function yw(t,e){return nl(el(t),e)}function _w(t,e){if(t!=null){if(Qc(t))return fw(t,e);if(Gc(t))return gw(t,e);if(Kc(t))return pw(t,e);if(Yc(t))return nl(t,e);if(Jc(t))return mw(t,e);if(tl(t))return yw(t,e)}throw Zc(t)}function Re(t,e){return e?_w(t,e):ke(t)}function V(...t){let e=sr(t);return Re(t,e)}function Bi(t,e){let n=H(t)?t:()=>t,r=i=>i.error(n());return new Z(e?i=>e.schedule(r,0,i):r)}function Bh(t){return!!t&&(t instanceof Z||H(t.lift)&&H(t.subscribe))}var Pn=Pi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function J(t,e){return K((n,r)=>{let i=0;n.subscribe(Q(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:jN}=Array;function $N(t,e){return jN(e)?t(...e):t(e)}function vw(t){return J(e=>$N(t,e))}var{isArray:BN}=Array,{getPrototypeOf:HN,prototype:qN,keys:zN}=Object;function ww(t){if(t.length===1){let e=t[0];if(BN(e))return{args:e,keys:null};if(WN(e)){let n=zN(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function WN(t){return t&&typeof t=="object"&&HN(t)===qN}function Iw(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function rl(...t){let e=sr(t),n=aw(t),{args:r,keys:i}=ww(t);if(r.length===0)return Re([],e);let s=new Z(GN(r,e,i?o=>Iw(i,o):ht));return n?s.pipe(vw(n)):s}function GN(t,e,n=ht){return r=>{Ew(e,()=>{let{length:i}=t,s=new Array(i),o=i,c=i;for(let l=0;l<i;l++)Ew(e,()=>{let u=Re(t[l],e),f=!1;u.subscribe(Q(r,p=>{s[l]=p,f||(f=!0,c--),c||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function Ew(t,e,n){t?Et(n,t,e):e()}function Tw(t,e,n,r,i,s,o,c){let l=[],u=0,f=0,p=!1,m=()=>{p&&!l.length&&!u&&e.complete()},y=D=>u<r?C(D):l.push(D),C=D=>{s&&e.next(D),u++;let N=!1;ke(n(D,f++)).subscribe(Q(e,j=>{i?.(j),s?y(j):e.next(j)},()=>{N=!0},void 0,()=>{if(N)try{for(u--;l.length&&u<r;){let j=l.shift();o?Et(e,o,()=>C(j)):C(j)}m()}catch(j){e.error(j)}}))};return t.subscribe(Q(e,y,()=>{p=!0,m()})),()=>{c?.()}}function De(t,e,n=1/0){return H(e)?De((r,i)=>J((s,o)=>e(r,s,i,o))(ke(t(r,i))),n):(typeof e=="number"&&(n=e),K((r,i)=>Tw(r,i,t,n)))}function bw(t=1/0){return De(ht,t)}function Sw(){return bw(1)}function Hi(...t){return Sw()(Re(t,sr(t)))}function il(t){return new Z(e=>{ke(t()).subscribe(e)})}function Tt(t,e){return K((n,r)=>{let i=0;n.subscribe(Q(r,s=>t.call(e,s,i++)&&r.next(s)))})}function cr(t){return K((e,n)=>{let r=null,i=!1,s;r=e.subscribe(Q(n,void 0,void 0,o=>{s=ke(t(o,cr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Cw(t,e,n,r,i){return(s,o)=>{let c=n,l=e,u=0;s.subscribe(Q(o,f=>{let p=u++;l=c?t(l,f,p):(c=!0,f),r&&o.next(l)},i&&(()=>{c&&o.next(l),o.complete()})))}}function Vr(t,e){return H(e)?De(t,e,1):De(t,1)}function lr(t){return K((e,n)=>{let r=!1;e.subscribe(Q(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Mn(t){return t<=0?()=>It:K((e,n)=>{let r=0;e.subscribe(Q(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Hh(t,e=ht){return t=t??KN,K((n,r)=>{let i,s=!0;n.subscribe(Q(r,o=>{let c=e(o);(s||!t(i,c))&&(s=!1,i=c,r.next(o))}))})}function KN(t,e){return t===e}function sl(t=QN){return K((e,n)=>{let r=!1;e.subscribe(Q(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function QN(){return new Pn}function bo(t){return K((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function xn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Tt((i,s)=>t(i,s,r)):ht,Mn(1),n?lr(e):sl(()=>new Pn))}function qh(t,e,n,r){return K((i,s)=>{let o;!e||typeof e=="function"?o=e:{duration:n,element:o,connector:r}=e;let c=new Map,l=C=>{c.forEach(C),C(s)},u=C=>l(D=>D.error(C)),f=0,p=!1,m=new Eo(s,C=>{try{let D=t(C),N=c.get(D);if(!N){c.set(D,N=r?r():new xe);let j=y(D,N);if(s.next(j),n){let G=Q(N,()=>{N.complete(),G?.unsubscribe()},void 0,void 0,()=>c.delete(D));m.add(ke(n(j)).subscribe(G))}}N.next(o?o(C):C)}catch(D){u(D)}},()=>l(C=>C.complete()),u,()=>c.clear(),()=>(p=!0,f===0));i.subscribe(m);function y(C,D){let N=new Z(j=>{f++;let G=D.subscribe(j);return()=>{G.unsubscribe(),--f===0&&p&&m.unsubscribe()}});return N.key=C,N}})}function qi(t){return t<=0?()=>It:K((e,n)=>{let r=[];e.subscribe(Q(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function zh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Tt((i,s)=>t(i,s,r)):ht,qi(1),n?lr(e):sl(()=>new Pn))}function Wh(){return K((t,e)=>{let n,r=!1;t.subscribe(Q(e,i=>{let s=n;n=i,r&&e.next([s,i]),r=!0}))})}function Gh(t,e){return K(Cw(t,e,arguments.length>=2,!0))}function So(...t){let e=sr(t);return K((n,r)=>{(e?Hi(t,n,e):Hi(t,n)).subscribe(r)})}function bt(t,e){return K((n,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();n.subscribe(Q(r,l=>{i?.unsubscribe();let u=0,f=s++;ke(t(l,f)).subscribe(i=Q(r,p=>r.next(e?e(l,p,f,u++):p),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function Kh(t){return K((e,n)=>{ke(t).subscribe(Q(n,()=>n.complete(),Io)),!n.closed&&e.subscribe(n)})}function Ge(t,e,n){let r=H(t)||e||n?{next:t,error:e,complete:n}:t;return r?K((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(Q(s,l=>{var u;(u=r.next)===null||u===void 0||u.call(r,l),s.next(l)},()=>{var l;c=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},l=>{var u;c=!1,(u=r.error)===null||u===void 0||u.call(r,l),s.error(l)},()=>{var l,u;c&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):ht}var fI="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",L=class extends Error{code;constructor(e,n){super(ZN(e,n)),this.code=e}};function YN(t){return`NG0${Math.abs(t)}`}function ZN(t,e){return`${YN(t)}${e?": "+e:""}`}var pI=Symbol("InputSignalNode#UNSET"),XN=he(x({},Rh),{transformFn:void 0,applyValueToInputSignal(t,e){Ah(t,e)}});function gI(t,e){let n=Object.create(XN);n.value=t,n.transformFn=e?.transform;function r(){if(Ih(n),n.value===pI){let i=null;throw new L(-950,i)}return n.value}return r[ki]=n,r}function Ol(t){return{toString:t}.toString()}var ol="__parameters__";function JN(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function ek(t,e,n){return Ol(()=>{let r=JN(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(l,u,f){let p=l.hasOwnProperty(ol)?l[ol]:Object.defineProperty(l,ol,{value:[]})[ol];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(o),l}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function _e(t){for(let e in t)if(t[e]===_e)return e;throw Error("Could not find renamed property on target object.")}function Ot(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Ot).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Aw(t,e){return t?e?`${t} ${e}`:t:e||""}var tk=_e({__forward_ref__:_e});function mI(t){return t.__forward_ref__=mI,t.toString=function(){return Ot(this())},t}function zt(t){return yI(t)?t():t}function yI(t){return typeof t=="function"&&t.hasOwnProperty(tk)&&t.__forward_ref__===mI}function F(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ll(t){return Rw(t,vI)||Rw(t,wI)}function _I(t){return Ll(t)!==null}function Rw(t,e){return t.hasOwnProperty(e)?t[e]:null}function nk(t){let e=t&&(t[vI]||t[wI]);return e||null}function Dw(t){return t&&(t.hasOwnProperty(Nw)||t.hasOwnProperty(rk))?t[Nw]:null}var vI=_e({\u0275prov:_e}),Nw=_e({\u0275inj:_e}),wI=_e({ngInjectableDef:_e}),rk=_e({ngInjectorDef:_e}),O=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=F({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function II(t){return t&&!!t.\u0275providers}var ik=_e({\u0275cmp:_e}),sk=_e({\u0275dir:_e}),ok=_e({\u0275pipe:_e}),ak=_e({\u0275mod:_e}),hl=_e({\u0275fac:_e}),Do=_e({__NG_ELEMENT_ID__:_e}),kw=_e({__NG_ENV_ID__:_e});function Bf(t){return typeof t=="string"?t:t==null?"":String(t)}function ck(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Bf(t)}function EI(t,e){throw new L(-200,t)}function Hf(t,e){throw new L(-201,!1)}var W=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(W||{}),sf;function TI(){return sf}function qt(t){let e=sf;return sf=t,e}function bI(t,e,n){let r=Ll(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&W.Optional)return null;if(e!==void 0)return e;Hf(t,"Injector")}var lk={},Ur=lk,of="__NG_DI_FLAG__",fl=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=n;return this.injector.get(e,r.optional?Vc:Ur,r)}},pl="ngTempTokenPath",uk="ngTokenPath",dk=/\n/gm,hk="\u0275",Pw="__source";function fk(t,e=W.Default){if(wo()===void 0)throw new L(-203,!1);if(wo()===null)return bI(t,void 0,e);{let n=wo(),r;return n instanceof fl?r=n.injector:r=n,r.get(t,e&W.Optional?null:void 0,e)}}function U(t,e=W.Default){return(TI()||fk)(zt(t),e)}function k(t,e=W.Default){return U(t,Fl(e))}function Fl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function af(t){let e=[];for(let n=0;n<t.length;n++){let r=zt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new L(900,!1);let i,s=W.Default;for(let o=0;o<r.length;o++){let c=r[o],l=gk(c);typeof l=="number"?l===-1?i=c.token:s|=l:i=c}e.push(U(i,s))}else e.push(U(r))}return e}function pk(t,e){return t[of]=e,t.prototype[of]=e,t}function gk(t){return t[of]}function mk(t,e,n,r){let i=t[pl];throw e[Pw]&&i.unshift(e[Pw]),t.message=yk(`
`+t.message,i,n,r),t[uk]=i,t[pl]=null,t}function yk(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==hk?t.slice(2):t;let i=Ot(e);if(Array.isArray(e))i=e.map(Ot).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):Ot(c)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(dk,`
  `)}`}var fe=pk(ek("Optional"),8);function Qi(t,e){let n=t.hasOwnProperty(hl);return n?t[hl]:null}function qf(t,e){t.forEach(n=>Array.isArray(n)?qf(n,e):e(n))}function SI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function gl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var Yi={},Zi=[],No=new O(""),CI=new O("",-1),AI=new O(""),ml=class{get(e,n=Ur){if(n===Ur){let r=new Error(`NullInjectorError: No provider for ${Ot(e)}!`);throw r.name="NullInjectorError",r}return n}};function RI(t,e){let n=t[ak]||null;if(!n&&e===!0)throw new Error(`Type ${Ot(t)} does not have '\u0275mod' property.`);return n}function Xi(t){return t[ik]||null}function _k(t){return t[sk]||null}function vk(t){return t[ok]||null}function Ke(t){return{\u0275providers:t}}function wk(...t){return{\u0275providers:DI(!0,t),\u0275fromNgModule:!0}}function DI(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return qf(e,o=>{let c=o;cf(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&NI(i,s),n}function NI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];zf(i,s=>{e(s,r)})}}function cf(t,e,n,r){if(t=zt(t),!t)return!1;let i=null,s=Dw(t),o=!s&&Xi(t);if(!s&&!o){let l=t.ngModule;if(s=Dw(l),s)i=l;else return!1}else{if(o&&!o.standalone)return!1;i=t}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of l)cf(u,e,n,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let u;try{qf(s.imports,f=>{cf(f,e,n,r)&&(u||=[],u.push(f))})}finally{}u!==void 0&&NI(u,e)}if(!c){let u=Qi(i)||(()=>new i);e({provide:i,useFactory:u,deps:Zi},i),e({provide:AI,useValue:i,multi:!0},i),e({provide:No,useValue:()=>U(i),multi:!0},i)}let l=s.providers;if(l!=null&&!c){let u=t;zf(l,f=>{e(f,u)})}}else return!1;return i!==t&&t.providers!==void 0}function zf(t,e){for(let n of t)II(n)&&(n=n.\u0275providers),Array.isArray(n)?zf(n,e):e(n)}var Ik=_e({provide:String,useValue:_e});function kI(t){return t!==null&&typeof t=="object"&&Ik in t}function Ek(t){return!!(t&&t.useExisting)}function Tk(t){return!!(t&&t.useFactory)}function lf(t){return typeof t=="function"}var Vl=new O(""),al={},Mw={},Qh;function Wf(){return Qh===void 0&&(Qh=new ml),Qh}var Ct=class{},ko=class extends Ct{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,df(e,o=>this.processProvider(o)),this.records.set(CI,zi(void 0,this)),i.has("environment")&&this.records.set(Ct,zi(void 0,this));let s=this.records.get(Vl);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(AI,Zi,W.Self))}retrieve(e,n){let r=n;return this.get(e,r.optional?Vc:Ur,r)}destroy(){Ao(this),this._destroyed=!0;let e=ae(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ae(e)}}onDestroy(e){return Ao(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ao(this);let n=kn(this),r=qt(void 0),i;try{return e()}finally{kn(n),qt(r)}}get(e,n=Ur,r=W.Default){if(Ao(this),e.hasOwnProperty(kw))return e[kw](this);r=Fl(r);let i,s=kn(this),o=qt(void 0);try{if(!(r&W.SkipSelf)){let l=this.records.get(e);if(l===void 0){let u=Dk(e)&&Ll(e);u&&this.injectableDefInScope(u)?l=zi(uf(e),al):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,r)}let c=r&W.Self?Wf():this.parent;return n=r&W.Optional&&n===Ur?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[pl]=c[pl]||[]).unshift(Ot(e)),s)throw c;return mk(c,e,"R3InjectorError",this.source)}else throw c}finally{qt(o),kn(s)}}resolveInjectorInitializers(){let e=ae(null),n=kn(this),r=qt(void 0),i;try{let s=this.get(No,Zi,W.Self);for(let o of s)o()}finally{kn(n),qt(r),ae(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ot(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=zt(e);let n=lf(e)?e:zt(e&&e.provide),r=Sk(e);if(!lf(e)&&e.multi===!0){let i=this.records.get(n);i||(i=zi(void 0,al,!0),i.factory=()=>af(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=ae(null);try{return n.value===Mw?EI(Ot(e)):n.value===al&&(n.value=Mw,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&Rk(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ae(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=zt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function uf(t){let e=Ll(t),n=e!==null?e.factory:Qi(t);if(n!==null)return n;if(t instanceof O)throw new L(204,!1);if(t instanceof Function)return bk(t);throw new L(204,!1)}function bk(t){if(t.length>0)throw new L(204,!1);let n=nk(t);return n!==null?()=>n.factory(t):()=>new t}function Sk(t){if(kI(t))return zi(void 0,t.useValue);{let e=Ck(t);return zi(e,al)}}function Ck(t,e,n){let r;if(lf(t)){let i=zt(t);return Qi(i)||uf(i)}else if(kI(t))r=()=>zt(t.useValue);else if(Tk(t))r=()=>t.useFactory(...af(t.deps||[]));else if(Ek(t))r=(i,s)=>U(zt(t.useExisting),s!==void 0&&s&W.Optional?W.Optional:void 0);else{let i=zt(t&&(t.useClass||t.provide));if(Ak(t))r=()=>new i(...af(t.deps));else return Qi(i)||uf(i)}return r}function Ao(t){if(t.destroyed)throw new L(205,!1)}function zi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ak(t){return!!t.deps}function Rk(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Dk(t){return typeof t=="function"||typeof t=="object"&&t instanceof O}function df(t,e){for(let n of t)Array.isArray(n)?df(n,e):n&&II(n)?df(n.\u0275providers,e):e(n)}function mt(t,e){let n;t instanceof ko?(Ao(t),n=t):n=new fl(t);let r,i=kn(n),s=qt(void 0);try{return e()}finally{kn(i),qt(s)}}function PI(){return TI()!==void 0||wo()!=null}function MI(t){if(!PI())throw new L(-203,!1)}function Nk(t){return typeof t=="function"}var Fn=0,te=1,q=2,gt=3,nn=4,sn=5,Po=6,xw=7,ft=8,Mo=9,On=10,Lt=11,xo=12,Ow=13,$o=14,rn=15,Ji=16,Wi=17,es=18,Ul=19,xI=20,ur=21,Yh=22,yl=23,Wt=24,Zh=25,pn=26,OI=1;var Br=7,_l=8,vl=9,pt=10;function jr(t){return Array.isArray(t)&&typeof t[OI]=="object"}function Vn(t){return Array.isArray(t)&&t[OI]===!0}function LI(t){return(t.flags&4)!==0}function Bo(t){return t.componentOffset>-1}function FI(t){return(t.flags&1)===1}function Wr(t){return!!t.template}function wl(t){return(t[q]&512)!==0}function is(t){return(t[q]&256)===256}var hf=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function VI(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var UI=(()=>{let t=()=>jI;return t.ngInherit=!0,t})();function jI(t){return t.type.prototype.ngOnChanges&&(t.setInput=Pk),kk}function kk(){let t=BI(this),e=t?.current;if(e){let n=t.previous;if(n===Yi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Pk(t,e,n,r,i){let s=this.declaredInputs[r],o=BI(t)||Mk(t,{previous:Yi,current:null}),c=o.current||(o.current={}),l=o.previous,u=l[s];c[s]=new hf(u&&u.currentValue,n,l===Yi),VI(t,e,i,n)}var $I="__ngSimpleChanges__";function BI(t){return t[$I]||null}function Mk(t,e){return t[$I]=e}var Lw=null;var Te=function(t,e=null,n){Lw?.(t,e,n)},HI="svg",xk="math";function Ln(t){for(;Array.isArray(t);)t=t[Fn];return t}function Ok(t,e){return Ln(e[t])}function fr(t,e){return Ln(e[t.index])}function Gf(t,e){return t.data[e]}function dr(t,e){let n=e[t];return jr(n)?n:n[Fn]}function Kf(t){return(t[q]&128)===128}function Lk(t){return Vn(t[gt])}function Oo(t,e){return e==null?null:t[e]}function qI(t){t[Wi]=0}function zI(t){t[q]&1024||(t[q]|=1024,Kf(t)&&$l(t))}function jl(t){return!!(t[q]&9216||t[Wt]?.dirty)}function ff(t){t[On].changeDetectionScheduler?.notify(8),t[q]&64&&(t[q]|=1024),jl(t)&&$l(t)}function $l(t){t[On].changeDetectionScheduler?.notify(0);let e=Hr(t);for(;e!==null&&!(e[q]&8192||(e[q]|=8192,!Kf(e)));)e=Hr(e)}function WI(t,e){if(is(t))throw new L(911,!1);t[ur]===null&&(t[ur]=[]),t[ur].push(e)}function Fk(t,e){if(t[ur]===null)return;let n=t[ur].indexOf(e);n!==-1&&t[ur].splice(n,1)}function Hr(t){let e=t[gt];return Vn(e)?e[gt]:e}var ce={lFrame:tE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var pf=!1;function Vk(){return ce.lFrame.elementDepthCount}function Uk(){ce.lFrame.elementDepthCount++}function jk(){ce.lFrame.elementDepthCount--}function GI(){return ce.bindingsEnabled}function $k(){return ce.skipHydrationRootTNode!==null}function Bk(t){return ce.skipHydrationRootTNode===t}function Hk(){ce.skipHydrationRootTNode=null}function Oe(){return ce.lFrame.lView}function ss(){return ce.lFrame.tView}function Gr(){let t=KI();for(;t!==null&&t.type===64;)t=t.parent;return t}function KI(){return ce.lFrame.currentTNode}function qk(){let t=ce.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ho(t,e){let n=ce.lFrame;n.currentTNode=t,n.isParent=e}function QI(){return ce.lFrame.isParent}function zk(){ce.lFrame.isParent=!1}function YI(){return pf}function Fw(t){let e=pf;return pf=t,e}function ZI(){let t=ce.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Wk(t){return ce.lFrame.bindingIndex=t}function Qf(){return ce.lFrame.bindingIndex++}function Gk(){return ce.lFrame.inI18n}function Kk(t,e){let n=ce.lFrame;n.bindingIndex=n.bindingRootIndex=t,gf(e)}function Qk(){return ce.lFrame.currentDirectiveIndex}function gf(t){ce.lFrame.currentDirectiveIndex=t}function XI(t){ce.lFrame.currentQueryIndex=t}function Yk(t){let e=t[te];return e.type===2?e.declTNode:e.type===1?t[sn]:null}function JI(t,e,n){if(n&W.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&W.Host);)if(i=Yk(s),i===null||(s=s[$o],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ce.lFrame=eE();return r.currentTNode=e,r.lView=t,!0}function Yf(t){let e=eE(),n=t[te];ce.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function eE(){let t=ce.lFrame,e=t===null?null:t.child;return e===null?tE(t):e}function tE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function nE(){let t=ce.lFrame;return ce.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var rE=nE;function Zf(){let t=nE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Bl(){return ce.lFrame.selectedIndex}function qr(t){ce.lFrame.selectedIndex=t}function Zk(){let t=ce.lFrame;return Gf(t.tView,t.selectedIndex)}function os(){ce.lFrame.currentNamespace=HI}function qo(){Xk()}function Xk(){ce.lFrame.currentNamespace=null}function Jk(){return ce.lFrame.currentNamespace}var iE=!0;function Xf(){return iE}function Jf(t){iE=t}function eP(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=jI(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function sE(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:f}=s;o&&(t.contentHooks??=[]).push(-n,o),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),l&&(t.viewHooks??=[]).push(-n,l),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function cl(t,e,n){oE(t,e,3,n)}function ll(t,e,n,r){(t[q]&3)===n&&oE(t,e,n,r)}function Xh(t,e){let n=t[q];(n&3)===e&&(n&=16383,n+=1,t[q]=n)}function oE(t,e,n,r){let i=r!==void 0?t[Wi]&65535:0,s=r??-1,o=e.length-1,c=0;for(let l=i;l<o;l++)if(typeof e[l+1]=="number"){if(c=e[l],r!=null&&c>=r)break}else e[l]<0&&(t[Wi]+=65536),(c<s||s==-1)&&(tP(t,n,e,l),t[Wi]=(t[Wi]&4294901760)+l+2),l++}function Vw(t,e){Te(4,t,e);let n=ae(null);try{e.call(t)}finally{ae(n),Te(5,t,e)}}function tP(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],c=t[o];i?t[q]>>14<t[Wi]>>16&&(t[q]&3)===e&&(t[q]+=16384,Vw(c,s)):Vw(c,s)}var Ki=-1,Lo=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function nP(t){return(t.flags&8)!==0}function rP(t){return(t.flags&16)!==0}function iP(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],c=n[r++];t.setAttribute(e,o,c,s)}else{let s=i,o=n[++r];oP(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function sP(t){return t===3||t===4||t===6}function oP(t){return t.charCodeAt(0)===64}function ep(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Uw(t,n,i,null,e[++r]):Uw(t,n,i,null,null))}}return t}function Uw(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let c=t[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<t.length;){let c=t[s];if(typeof c=="number")break;if(c===n){i!==null&&(t[s+1]=i);return}s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),i!==null&&t.splice(s++,0,i)}function aE(t){return t!==Ki}function Il(t){return t&32767}function aP(t){return t>>16}function El(t,e){let n=aP(t),r=e;for(;n>0;)r=r[$o],n--;return r}var mf=!0;function jw(t){let e=mf;return mf=t,e}var cP=256,cE=cP-1,lE=5,lP=0,fn={};function uP(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Do)&&(r=n[Do]),r==null&&(r=n[Do]=lP++);let i=r&cE,s=1<<i;e.data[t+(i>>lE)]|=s}function uE(t,e){let n=dE(t,e);if(n!==-1)return n;let r=e[te];r.firstCreatePass&&(t.injectorIndex=e.length,Jh(r.data,t),Jh(e,null),Jh(r.blueprint,null));let i=tp(t,e),s=t.injectorIndex;if(aE(i)){let o=Il(i),c=El(i,e),l=c[te].data;for(let u=0;u<8;u++)e[s+u]=c[o+u]|l[o+u]}return e[s+8]=i,s}function Jh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function dE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function tp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=mE(i),r===null)return Ki;if(n++,i=i[$o],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ki}function dP(t,e,n){uP(t,e,n)}function hE(t,e,n){if(n&W.Optional||t!==void 0)return t;Hf(e,"NodeInjector")}function fE(t,e,n,r){if(n&W.Optional&&r===void 0&&(r=null),(n&(W.Self|W.Host))===0){let i=t[Mo],s=qt(void 0);try{return i?i.get(e,r,n&W.Optional):bI(e,r,n&W.Optional)}finally{qt(s)}}return hE(r,e,n)}function pE(t,e,n,r=W.Default,i){if(t!==null){if(e[q]&2048&&!(r&W.Self)){let o=mP(t,e,n,r,fn);if(o!==fn)return o}let s=gE(t,e,n,r,fn);if(s!==fn)return s}return fE(e,n,r,i)}function gE(t,e,n,r,i){let s=pP(n);if(typeof s=="function"){if(!JI(e,t,r))return r&W.Host?hE(i,n,r):fE(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&W.Optional))Hf(n);else return o}finally{rE()}}else if(typeof s=="number"){let o=null,c=dE(t,e),l=Ki,u=r&W.Host?e[rn][sn]:null;for((c===-1||r&W.SkipSelf)&&(l=c===-1?tp(t,e):e[c+8],l===Ki||!Bw(r,!1)?c=-1:(o=e[te],c=Il(l),e=El(l,e)));c!==-1;){let f=e[te];if($w(s,c,f.data)){let p=hP(c,e,n,o,r,u);if(p!==fn)return p}l=e[c+8],l!==Ki&&Bw(r,e[te].data[c+8]===u)&&$w(s,c,e)?(o=f,c=Il(l),e=El(l,e)):c=-1}}return i}function hP(t,e,n,r,i,s){let o=e[te],c=o.data[t+8],l=r==null?Bo(c)&&mf:r!=o&&(c.type&3)!==0,u=i&W.Host&&s===c,f=fP(c,o,n,l,u);return f!==null?yf(e,o,f,c,i):fn}function fP(t,e,n,r,i){let s=t.providerIndexes,o=e.data,c=s&1048575,l=t.directiveStart,u=t.directiveEnd,f=s>>20,p=r?c:c+f,m=i?c+f:u;for(let y=p;y<m;y++){let C=o[y];if(y<l&&n===C||y>=l&&C.type===n)return y}if(i){let y=o[l];if(y&&Wr(y)&&y.type===n)return l}return null}function yf(t,e,n,r,i){let s=t[n],o=e.data;if(s instanceof Lo){let c=s;c.resolving&&EI(ck(o[n]));let l=jw(c.canSeeViewProviders);c.resolving=!0;let u,f=c.injectImpl?qt(c.injectImpl):null,p=JI(t,r,W.Default);try{s=t[n]=c.factory(void 0,i,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&eP(n,o[n],e)}finally{f!==null&&qt(f),jw(l),c.resolving=!1,rE()}}return s}function pP(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Do)?t[Do]:void 0;return typeof e=="number"?e>=0?e&cE:gP:e}function $w(t,e,n){let r=1<<t;return!!(n[e+(t>>lE)]&r)}function Bw(t,e){return!(t&W.Self)&&!(t&W.Host&&e)}var $r=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return pE(this._tNode,this._lView,e,Fl(r),n)}};function gP(){return new $r(Gr(),Oe())}function np(t){return Ol(()=>{let e=t.prototype.constructor,n=e[hl]||_f(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[hl]||_f(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function _f(t){return yI(t)?()=>{let e=_f(zt(t));return e&&e()}:Qi(t)}function mP(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[q]&2048&&!wl(o);){let c=gE(s,o,n,r|W.Self,fn);if(c!==fn)return c;let l=s.parent;if(!l){let u=o[xI];if(u){let f=u.get(n,fn,r);if(f!==fn)return f}l=mE(o),o=o[$o]}s=l}return i}function mE(t){let e=t[te],n=e.type;return n===2?e.declTNode:n===1?t[sn]:null}function Hw(t,e=null,n=null,r){let i=yE(t,e,n,r);return i.resolveInjectorInitializers(),i}function yE(t,e=null,n=null,r,i=new Set){let s=[n||Zi,wk(t)];return r=r||(typeof t=="object"?void 0:Ot(t)),new ko(s,e||Wf(),r||null,i)}var ve=class t{static THROW_IF_NOT_FOUND=Ur;static NULL=new ml;static create(e,n){if(Array.isArray(e))return Hw({name:""},n,e,"");{let r=e.name??"";return Hw({name:r},e.parent,e.providers,r)}}static \u0275prov=F({token:t,providedIn:"any",factory:()=>U(CI)});static __NG_ELEMENT_ID__=-1};var yP=new O("");yP.__NG_ELEMENT_ID__=t=>{let e=Gr();if(e===null)throw new L(204,!1);if(e.type&2)return e.value;if(t&W.Optional)return null;throw new L(204,!1)};var _E=!1,zo=(()=>{class t{static __NG_ELEMENT_ID__=_P;static __NG_ENV_ID__=n=>n}return t})(),vf=class extends zo{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let n=this._lView;return is(n)?(e(),()=>{}):(WI(n,e),()=>Fk(n,e))}};function _P(){return new vf(Oe())}var ts=class{},rp=new O("",{providedIn:"root",factory:()=>!1});var vE=new O(""),wE=new O(""),Kr=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new We(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=F({token:t,providedIn:"root",factory:()=>new t})}return t})(),Hl=(()=>{class t{internalPendingTasks=k(Kr);scheduler=k(ts);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return I(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=F({token:t,providedIn:"root",factory:()=>new t})}return t})(),wf=class extends xe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,PI()&&(this.destroyRef=k(zo,{optional:!0})??void 0,this.pendingTasks=k(Kr,{optional:!0})??void 0)}emit(e){let n=ae(null);try{super.next(e)}finally{ae(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof Ae&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},St=wf;function Tl(...t){}function IE(t){let e,n;function r(){t=Tl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function qw(t){return queueMicrotask(()=>t()),()=>{t=Tl}}var ip="isAngularZone",bl=ip+"_ID",vP=0,Y=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new St(!1);onMicrotaskEmpty=new St(!1);onStable=new St(!1);onError=new St(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=_E}=e;if(typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,EP(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ip)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new L(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,wP,Tl,Tl);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},wP={};function sp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function IP(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){IE(()=>{t.callbackScheduled=!1,If(t),t.isCheckStableRunning=!0,sp(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),If(t)}function EP(t){let e=()=>{IP(t)},n=vP++;t._inner=t._inner.fork({name:"angular",properties:{[ip]:!0,[bl]:n,[bl+n]:!0},onInvokeTask:(r,i,s,o,c,l)=>{if(TP(l))return r.invokeTask(s,o,c,l);try{return zw(t),r.invokeTask(s,o,c,l)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Ww(t)}},onInvoke:(r,i,s,o,c,l,u)=>{try{return zw(t),r.invoke(s,o,c,l,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!bP(l)&&e(),Ww(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,If(t),sp(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function If(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function zw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ww(t){t._nesting--,sp(t)}var Ef=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new St;onMicrotaskEmpty=new St;onStable=new St;onError=new St;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function TP(t){return EE(t,"__ignore_ng_zone__")}function bP(t){return EE(t,"__scheduler_tick__")}function EE(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var hr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},SP=new O("",{providedIn:"root",factory:()=>{let t=k(Y),e=k(hr);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function Gw(t,e){return gI(t,e)}function CP(t){return gI(pI,t)}var TE=(Gw.required=CP,Gw);function AP(){return op(Gr(),Oe())}function op(t,e){return new RP(fr(t,e))}var RP=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=AP}return t})();function bE(t){return(t.flags&128)===128}var SE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(SE||{}),CE=new Map,DP=0;function NP(){return DP++}function kP(t){CE.set(t[Ul],t)}function Tf(t){CE.delete(t[Ul])}var Kw="__ngContext__";function Wo(t,e){jr(e)?(t[Kw]=e[Ul],kP(e)):t[Kw]=e}function AE(t){return DE(t[xo])}function RE(t){return DE(t[nn])}function DE(t){for(;t!==null&&!Vn(t);)t=t[nn];return t}var bf;function NE(t){bf=t}function PP(){if(bf!==void 0)return bf;if(typeof document<"u")return document;throw new L(210,!1)}var ap=new O("",{providedIn:"root",factory:()=>MP}),MP="ng",cp=new O(""),Ft=new O("",{providedIn:"platform",factory:()=>"unknown"});var lp=new O("",{providedIn:"root",factory:()=>PP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var xP="h",OP="b";var kE=!1,LP=new O("",{providedIn:"root",factory:()=>kE});var PE=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(PE||{}),ql=new O(""),Qw=new Set;function zl(t){Qw.has(t)||(Qw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var FP=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=F({token:t,providedIn:"root",factory:()=>new t})}return t})();var VP=()=>null;function ME(t,e,n=!1){return VP(t,e,n)}function xE(t,e){let n=t.contentQueries;if(n!==null){let r=ae(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let c=t.data[o];XI(s),c.contentQueries(2,e[o],o)}}}finally{ae(r)}}}function Sf(t,e,n){XI(0);let r=ae(null);try{e(t,n)}finally{ae(r)}}function OE(t,e,n){if(LI(e)){let r=ae(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=t.data[o];if(c.contentQueries){let l=n[o];c.contentQueries(1,l,o)}}}finally{ae(r)}}}var gn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(gn||{});var Sl=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${fI})`}};function UP(t){return t instanceof Sl?t.changingThisBreaksApplicationSecurity:t}function jP(t,e){let n=$P(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${fI})`)}return n===e}function $P(t){return t instanceof Sl&&t.getTypeName()||null}var BP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function HP(t){return t=String(t),t.match(BP)?t:"unsafe:"+t}var LE=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(LE||{});function FE(t){let e=qP();return e?e.sanitize(LE.URL,t)||"":jP(t,"URL")?UP(t):HP(Bf(t))}function qP(){let t=Oe();return t&&t[On].sanitizer}function VE(t){return t instanceof Function?t():t}function zP(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}var UE="ng-template";function WP(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&zP(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(up(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function up(t){return t.type===4&&t.value!==UE}function GP(t,e,n){let r=t.type===4&&!n?UE:t.value;return e===r}function KP(t,e,n){let r=4,i=t.attrs,s=i!==null?ZP(i):0,o=!1;for(let c=0;c<e.length;c++){let l=e[c];if(typeof l=="number"){if(!o&&!tn(r)&&!tn(l))return!1;if(o&&tn(l))continue;o=!1,r=l|r&1;continue}if(!o)if(r&4){if(r=2|r&1,l!==""&&!GP(t,l,n)||l===""&&e.length===1){if(tn(r))return!1;o=!0}}else if(r&8){if(i===null||!WP(t,i,l,n)){if(tn(r))return!1;o=!0}}else{let u=e[++c],f=QP(l,i,up(t),n);if(f===-1){if(tn(r))return!1;o=!0;continue}if(u!==""){let p;if(f>s?p="":p=i[f+1].toLowerCase(),r&2&&u!==p){if(tn(r))return!1;o=!0}}}}return tn(r)||o}function tn(t){return(t&1)===0}function QP(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return XP(e,t)}function YP(t,e,n=!1){for(let r=0;r<e.length;r++)if(KP(t,e[r],n))return!0;return!1}function ZP(t){for(let e=0;e<t.length;e++){let n=t[e];if(sP(n))return e}return t.length}function XP(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Yw(t,e){return t?":not("+e.trim()+")":e}function JP(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let c=t[++n];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!tn(o)&&(e+=Yw(s,i),i=""),r=o,s=s||!tn(r);n++}return i!==""&&(e+=Yw(s,i)),e}function e1(t){return t.map(JP).join(",")}function t1(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!tn(i))break;i=s}r++}return n.length&&e.push(1,...n),e}var Go={};function n1(t,e){return t.createText(e)}function r1(t,e,n){t.setValue(e,n)}function jE(t,e,n){return t.createElement(e,n)}function Cl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function $E(t,e,n){t.appendChild(e,n)}function Zw(t,e,n,r,i){r!==null?Cl(t,e,n,r,i):$E(t,e,n)}function i1(t,e,n){t.removeChild(null,e,n)}function s1(t,e,n){t.setAttribute(e,"style",n)}function o1(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function BE(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&iP(t,e,r),i!==null&&o1(t,e,i),s!==null&&s1(t,e,s)}function dp(t,e,n,r,i,s,o,c,l,u,f){let p=pn+r,m=p+i,y=a1(p,m),C=typeof u=="function"?u():u;return y[te]={type:t,blueprint:y,template:n,queries:null,viewQuery:c,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:C,incompleteFirstPass:!1,ssrId:f}}function a1(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Go);return n}function c1(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=dp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function hp(t,e,n,r,i,s,o,c,l,u,f){let p=e.blueprint.slice();return p[Fn]=i,p[q]=r|4|128|8|64|1024,(u!==null||t&&t[q]&2048)&&(p[q]|=2048),qI(p),p[gt]=p[$o]=t,p[ft]=n,p[On]=o||t&&t[On],p[Lt]=c||t&&t[Lt],p[Mo]=l||t&&t[Mo]||null,p[sn]=s,p[Ul]=NP(),p[Po]=f,p[xI]=u,p[rn]=e.type==2?t[rn]:p,p}function l1(t,e,n){let r=fr(e,t),i=c1(n),s=t[On].rendererFactory,o=fp(t,hp(t,i,null,HE(n),r,e,null,s.createRenderer(r,n),null,null,null));return t[e.index]=o}function HE(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function qE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function fp(t,e){return t[xo]?t[Ow][nn]=e:t[xo]=e,t[Ow]=e,e}function Wl(t=1){zE(ss(),Oe(),Bl()+t,!1)}function zE(t,e,n,r){if(!r)if((e[q]&3)===3){let s=t.preOrderCheckHooks;s!==null&&cl(e,s,n)}else{let s=t.preOrderHooks;s!==null&&ll(e,s,0,n)}qr(n)}var Gl=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Gl||{});function Cf(t,e,n,r){let i=ae(null);try{let[s,o,c]=t.inputs[n],l=null;(o&Gl.SignalBased)!==0&&(l=e[s][ki]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):c!==null&&(r=c.call(e,r)),t.setInput!==null?t.setInput(e,l,r,n,s):VI(e,l,s,r)}finally{ae(i)}}function WE(t,e,n,r,i){let s=Bl(),o=r&2;try{qr(-1),o&&e.length>pn&&zE(t,e,pn,!1),Te(o?2:0,i),n(r,i)}finally{qr(s),Te(o?3:1,i)}}function pp(t,e,n){m1(t,e,n),(n.flags&64)===64&&y1(t,e,n)}function GE(t,e,n=fr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?n(e,t):t[o];t[i++]=c}}}function u1(t,e,n,r){let s=r.get(LP,kE)||n===gn.ShadowDom,o=t.selectRootElement(e,s);return d1(o),o}function d1(t){h1(t)}var h1=()=>null;function f1(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function p1(t,e,n,r,i,s,o,c){if(!c&&gp(e,t,n,r,i)){Bo(e)&&g1(n,e.index);return}if(e.type&3){let l=fr(e,n);r=f1(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(l,r,i)}else e.type&12}function g1(t,e){let n=dr(e,t);n[q]&16||(n[q]|=64)}function m1(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Bo(n)&&l1(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||uE(n,e);let s=n.initialInputs;for(let o=r;o<i;o++){let c=t.data[o],l=yf(e,t,o,n);if(Wo(l,e),s!==null&&v1(e,o-r,l,c,n,s),Wr(c)){let u=dr(n.index,e);u[ft]=yf(e,t,o,n)}}}function y1(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Qk();try{qr(s);for(let c=r;c<i;c++){let l=t.data[c],u=e[c];gf(c),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&_1(l,u)}}finally{qr(-1),gf(o)}}function _1(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function KE(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let s=n[i];YP(e,s.selectors,!1)&&(r??=[],Wr(s)?r.unshift(s):r.push(s))}return r}function v1(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;c+=2){let l=o[c],u=o[c+1];Cf(r,n,l,u)}}function w1(t,e){let n=t[Mo],r=n?n.get(hr,null):null;r&&r.handleError(e)}function gp(t,e,n,r,i){let s=t.inputs?.[r],o=t.hostDirectiveInputs?.[r],c=!1;if(o)for(let l=0;l<o.length;l+=2){let u=o[l],f=o[l+1],p=e.data[u];Cf(p,n[u],f,i),c=!0}if(s)for(let l of s){let u=n[l],f=e.data[l];Cf(f,u,r,i),c=!0}return c}function I1(t,e){let n=dr(e,t),r=n[te];E1(r,n);let i=n[Fn];i!==null&&n[Po]===null&&(n[Po]=ME(i,n[Mo])),Te(18),mp(r,n,n[ft]),Te(19,n[ft])}function E1(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function mp(t,e,n){Yf(e);try{let r=t.viewQuery;r!==null&&Sf(1,r,n);let i=t.template;i!==null&&WE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[es]?.finishViewCreation(t),t.staticContentQueries&&xE(t,e),t.staticViewQueries&&Sf(2,t.viewQuery,n);let s=t.components;s!==null&&T1(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[q]&=-5,Zf()}}function T1(t,e){for(let n=0;n<e.length;n++)I1(t,e[n])}function QE(t,e,n,r){let i=ae(null);try{let s=e.tView,c=t[q]&4096?4096:16,l=hp(t,s,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];l[Ji]=u;let f=t[es];return f!==null&&(l[es]=f.createEmbeddedView(s)),mp(s,l,n),l}finally{ae(i)}}function Al(t,e){return!e||e.firstChild===null||bE(t)}var b1;function yp(t,e){return b1(t,e)}var as=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(as||{});function YE(t){return(t.flags&32)===32}function Gi(t,e,n,r,i){if(r!=null){let s,o=!1;Vn(r)?s=r:jr(r)&&(o=!0,r=r[Fn]);let c=Ln(r);t===0&&n!==null?i==null?$E(e,n,c):Cl(e,n,c,i||null,!0):t===1&&n!==null?Cl(e,n,c,i||null,!0):t===2?i1(e,c,o):t===3&&e.destroyNode(c),s!=null&&L1(e,t,s,n,i)}}function S1(t,e){ZE(t,e),e[Fn]=null,e[sn]=null}function C1(t,e,n,r,i,s){r[Fn]=i,r[sn]=e,Ql(t,r,n,1,i,s)}function ZE(t,e){e[On].changeDetectionScheduler?.notify(9),Ql(t,e,e[Lt],2,null,null)}function A1(t){let e=t[xo];if(!e)return ef(t[te],t);for(;e;){let n=null;if(jr(e))n=e[xo];else{let r=e[pt];r&&(n=r)}if(!n){for(;e&&!e[nn]&&e!==t;)jr(e)&&ef(e[te],e),e=e[gt];e===null&&(e=t),jr(e)&&ef(e[te],e),n=e&&e[nn]}e=n}}function _p(t,e){let n=t[vl],r=n.indexOf(e);n.splice(r,1)}function Kl(t,e){if(is(e))return;let n=e[Lt];n.destroyNode&&Ql(t,e,n,3,null,null),A1(e)}function ef(t,e){if(is(e))return;let n=ae(null);try{e[q]&=-129,e[q]|=256,e[Wt]&&Sh(e[Wt]),D1(t,e),R1(t,e),e[te].type===1&&e[Lt].destroy();let r=e[Ji];if(r!==null&&Vn(e[gt])){r!==e[gt]&&_p(r,e);let i=e[es];i!==null&&i.detachView(t)}Tf(e)}finally{ae(n)}}function R1(t,e){let n=t.cleanup,r=e[xw];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let c=n[o+3];c>=0?r[c]():r[-c].unsubscribe(),o+=2}else{let c=r[n[o+1]];n[o].call(c)}r!==null&&(e[xw]=null);let i=e[ur];if(i!==null){e[ur]=null;for(let o=0;o<i.length;o++){let c=i[o];c()}}let s=e[yl];if(s!==null){e[yl]=null;for(let o of s)o.destroy()}}function D1(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Lo)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],l=s[o+1];Te(4,c,l);try{l.call(c)}finally{Te(5,c,l)}}else{Te(4,i,s);try{s.call(i)}finally{Te(5,i,s)}}}}}function N1(t,e,n){return k1(t,e.parent,n)}function k1(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Fn];if(Bo(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===gn.None||i===gn.Emulated)return null}return fr(r,n)}function P1(t,e,n){return x1(t,e,n)}function M1(t,e,n){return t.type&40?fr(t,n):null}var x1=M1,Xw;function vp(t,e,n,r){let i=N1(t,r,e),s=e[Lt],o=r.parent||e[sn],c=P1(o,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)Zw(s,i,n[l],c,!1);else Zw(s,i,n,c,!1);Xw!==void 0&&Xw(s,r,e,n,i)}function Ro(t,e){if(e!==null){let n=e.type;if(n&3)return fr(e,t);if(n&4)return Af(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ro(t,r);{let i=t[e.index];return Vn(i)?Af(-1,i):Ln(i)}}else{if(n&128)return Ro(t,e.next);if(n&32)return yp(e,t)()||Ln(t[e.index]);{let r=XE(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Hr(t[rn]);return Ro(i,r)}else return Ro(t,e.next)}}}return null}function XE(t,e){if(e!==null){let r=t[rn][sn],i=e.projection;return r.projection[i]}return null}function Af(t,e){let n=pt+t+1;if(n<e.length){let r=e[n],i=r[te].firstChild;if(i!==null)return Ro(r,i)}return e[Br]}function wp(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],l=n.type;if(o&&e===0&&(c&&Wo(Ln(c),r),n.flags|=2),!YE(n))if(l&8)wp(t,e,n.child,r,i,s,!1),Gi(e,t,i,c,s);else if(l&32){let u=yp(n,r),f;for(;f=u();)Gi(e,t,i,f,s);Gi(e,t,i,c,s)}else l&16?O1(t,e,r,n,i,s):Gi(e,t,i,c,s);n=o?n.projectionNext:n.next}}function Ql(t,e,n,r,i,s){wp(n,r,t.firstChild,e,i,s,!1)}function O1(t,e,n,r,i,s){let o=n[rn],l=o[sn].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let f=l[u];Gi(e,t,i,f,s)}else{let u=l,f=o[gt];bE(r)&&(u.flags|=128),wp(t,e,u,f,i,s,!0)}}function L1(t,e,n,r,i){let s=n[Br],o=Ln(n);s!==o&&Gi(e,t,r,s,i);for(let c=pt;c<n.length;c++){let l=n[c];Ql(l[te],l,t,e,r,s)}}function Rl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(Ln(s)),Vn(s)&&F1(s,r);let o=n.type;if(o&8)Rl(t,e,n.child,r);else if(o&32){let c=yp(n,e),l;for(;l=c();)r.push(l)}else if(o&16){let c=XE(e,n);if(Array.isArray(c))r.push(...c);else{let l=Hr(e[rn]);Rl(l[te],l,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function F1(t,e){for(let n=pt;n<t.length;n++){let r=t[n],i=r[te].firstChild;i!==null&&Rl(r[te],r,i,e)}t[Br]!==t[Fn]&&e.push(t[Br])}function JE(t){if(t[Zh]!==null){for(let e of t[Zh])e.impl.addSequence(e);t[Zh].length=0}}var eT=[];function V1(t){return t[Wt]??U1(t)}function U1(t){let e=eT.pop()??Object.create($1);return e.lView=t,e}function j1(t){t.lView[Wt]!==t&&(t.lView=null,eT.push(t))}var $1=he(x({},Oc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{$l(t.lView)},consumerOnSignalRead(){this.lView[Wt]=this}});function B1(t){let e=t[Wt]??Object.create(H1);return e.lView=t,e}var H1=he(x({},Oc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Hr(t.lView);for(;e&&!tT(e[te]);)e=Hr(e);e&&zI(e)},consumerOnSignalRead(){this.lView[Wt]=this}});function tT(t){return t.type!==2}function nT(t){if(t[yl]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[yl])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[q]&8192)}}var q1=100;function rT(t,e=!0,n=0){let i=t[On].rendererFactory,s=!1;s||i.begin?.();try{z1(t,n)}catch(o){throw e&&w1(t,o),o}finally{s||i.end?.()}}function z1(t,e){let n=YI();try{Fw(!0),Rf(t,e);let r=0;for(;jl(t);){if(r===q1)throw new L(103,!1);r++,Rf(t,1)}}finally{Fw(n)}}function W1(t,e,n,r){if(is(e))return;let i=e[q],s=!1,o=!1;Yf(e);let c=!0,l=null,u=null;s||(tT(t)?(u=V1(e),l=Th(u)):wh()===null?(c=!1,u=B1(e),l=Th(u)):e[Wt]&&(Sh(e[Wt]),e[Wt]=null));try{qI(e),Wk(t.bindingStartIndex),n!==null&&WE(t,e,n,2,r);let f=(i&3)===3;if(!s)if(f){let y=t.preOrderCheckHooks;y!==null&&cl(e,y,null)}else{let y=t.preOrderHooks;y!==null&&ll(e,y,0,null),Xh(e,0)}if(o||G1(e),nT(e),iT(e,0),t.contentQueries!==null&&xE(t,e),!s)if(f){let y=t.contentCheckHooks;y!==null&&cl(e,y)}else{let y=t.contentHooks;y!==null&&ll(e,y,1),Xh(e,1)}Q1(t,e);let p=t.components;p!==null&&oT(e,p,0);let m=t.viewQuery;if(m!==null&&Sf(2,m,r),!s)if(f){let y=t.viewCheckHooks;y!==null&&cl(e,y)}else{let y=t.viewHooks;y!==null&&ll(e,y,2),Xh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Yh]){for(let y of e[Yh])y();e[Yh]=null}s||(JE(e),e[q]&=-73)}catch(f){throw s||$l(e),f}finally{u!==null&&(Gv(u,l),c&&j1(u)),Zf()}}function iT(t,e){for(let n=AE(t);n!==null;n=RE(n))for(let r=pt;r<n.length;r++){let i=n[r];sT(i,e)}}function G1(t){for(let e=AE(t);e!==null;e=RE(e)){if(!(e[q]&2))continue;let n=e[vl];for(let r=0;r<n.length;r++){let i=n[r];zI(i)}}}function K1(t,e,n){Te(18);let r=dr(e,t);sT(r,n),Te(19,r[ft])}function sT(t,e){Kf(t)&&Rf(t,e)}function Rf(t,e){let r=t[te],i=t[q],s=t[Wt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&bh(s)),o||=!1,s&&(s.dirty=!1),t[q]&=-9217,o)W1(r,t,r.template,t[ft]);else if(i&8192){nT(t),iT(t,1);let c=r.components;c!==null&&oT(t,c,1),JE(t)}}function oT(t,e,n){for(let r=0;r<e.length;r++)K1(t,e[r],n)}function Q1(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)qr(~i);else{let s=i,o=n[++r],c=n[++r];Kk(o,s);let l=e[s];Te(24,l),c(2,l),Te(25,l)}}}finally{qr(-1)}}function aT(t,e){let n=YI()?64:1088;for(t[On].changeDetectionScheduler?.notify(e);t;){t[q]|=n;let r=Hr(t);if(wl(t)&&!r)return t;t=r}return null}function cT(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Y1(t,e){let n=pt+e;if(n<t.length)return t[n]}function Ip(t,e,n,r=!0){let i=e[te];if(X1(i,e,t,n),r){let o=Af(n,t),c=e[Lt],l=c.parentNode(t[Br]);l!==null&&C1(i,t[sn],c,e,l,o)}let s=e[Po];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Z1(t,e){let n=Fo(t,e);return n!==void 0&&Kl(n[te],n),n}function Fo(t,e){if(t.length<=pt)return;let n=pt+e,r=t[n];if(r){let i=r[Ji];i!==null&&i!==t&&_p(i,r),e>0&&(t[n-1][nn]=r[nn]);let s=gl(t,pt+e);S1(r[te],r);let o=s[es];o!==null&&o.detachView(s[te]),r[gt]=null,r[nn]=null,r[q]&=-129}return r}function X1(t,e,n,r){let i=pt+r,s=n.length;r>0&&(n[i-1][nn]=e),r<s-pt?(e[nn]=n[i],SI(n,pt+r,e)):(n.push(e),e[nn]=null),e[gt]=n;let o=e[Ji];o!==null&&n!==o&&lT(o,e);let c=e[es];c!==null&&c.insertView(t),ff(e),e[q]|=128}function lT(t,e){let n=t[vl],r=e[gt];if(jr(r))t[q]|=2;else{let i=r[gt][rn];e[rn]!==i&&(t[q]|=2)}n===null?t[vl]=[e]:n.push(e)}var Dl=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[te];return Rl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[ft]}set context(e){this._lView[ft]=e}get destroyed(){return is(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[gt];if(Vn(e)){let n=e[_l],r=n?n.indexOf(this):-1;r>-1&&(Fo(e,r),gl(n,r))}this._attachedToViewContainer=!1}Kl(this._lView[te],this._lView)}onDestroy(e){WI(this._lView,e)}markForCheck(){aT(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[q]&=-129}reattach(){ff(this._lView),this._lView[q]|=128}detectChanges(){this._lView[q]|=1024,rT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=wl(this._lView),n=this._lView[Ji];n!==null&&!e&&_p(n,this._lView),ZE(this._lView[te],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=e;let n=wl(this._lView),r=this._lView[Ji];r!==null&&!n&&lT(r,this._lView),ff(this._lView)}};function Ep(t,e,n,r,i){let s=t.data[e];if(s===null)s=J1(t,e,n,r,i),Gk()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=qk();s.injectorIndex=o===null?-1:o.injectorIndex}return Ho(s,!0),s}function J1(t,e,n,r,i){let s=KI(),o=QI(),c=o?s:s&&s.parent,l=t.data[e]=tM(t,c,n,e,r,i);return eM(t,l,s,o),l}function eM(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function tM(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,c=0;return $k()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var F7=new RegExp(`^(\\d+)*(${OP}|${xP})*(.*)`);var nM=()=>null;function Nl(t,e){return nM(t,e)}var rM=class{},uT=class{},Df=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Ot(e)}.`)}},cs=class{static NULL=new Df},ns=class{};var iM=(()=>{class t{static \u0275prov=F({token:t,providedIn:"root",factory:()=>null})}return t})();var tf={},Nf=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Fl(r);let i=this.injector.get(e,tf,r);return i!==tf||n===tf?i:this.parentInjector.get(e,n,r)}};function Jw(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=Aw(i,c);else if(s==2){let l=c,u=e[++o];r=Aw(r,l+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function sM(t,e=W.Default){let n=Oe();if(n===null)return U(t,e);let r=Gr();return pE(r,n,zt(t),e)}function dT(t,e,n,r,i){let s=r===null?null:{"":-1},o=i(t,n);if(o!==null){let c,l=null,u=null,f=aM(o);f===null?c=o:[c,l,u]=f,uM(t,e,n,c,s,l,u)}s!==null&&r!==null&&oM(n,r,s)}function oM(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new L(-301,!1);r.push(e[i],s)}}function aM(t){let e=null,n=!1;for(let o=0;o<t.length;o++){let c=t[o];if(o===0&&Wr(c)&&(e=c),c.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,s=null;for(let o of t)o.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,s??=new Map,cM(o,r,s,i)),o===e&&(r??=[],r.push(o));return r!==null?(r.push(...e===null?t:t.slice(1)),[r,i,s]):null}function cM(t,e,n,r){let i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function lM(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function uM(t,e,n,r,i,s,o){let c=r.length,l=!1;for(let m=0;m<c;m++){let y=r[m];!l&&Wr(y)&&(l=!0,lM(t,n,m)),dP(uE(n,e),t,y.type)}mM(n,t.data.length,c);for(let m=0;m<c;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let u=!1,f=!1,p=qE(t,e,c,null);c>0&&(n.directiveToIndex=new Map);for(let m=0;m<c;m++){let y=r[m];if(n.mergedAttrs=ep(n.mergedAttrs,y.hostAttrs),hM(t,n,e,p,y),gM(p,y,i),o!==null&&o.has(y)){let[D,N]=o.get(y);n.directiveToIndex.set(y.type,[p,D+n.directiveStart,N+n.directiveStart])}else(s===null||!s.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let C=y.type.prototype;!u&&(C.ngOnChanges||C.ngOnInit||C.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),u=!0),!f&&(C.ngOnChanges||C.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),f=!0),p++}dM(t,n,s)}function dM(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))eI(0,e,i,r),eI(1,e,i,r),nI(e,r,!1);else{let s=n.get(i);tI(0,e,s,r),tI(1,e,s,r),nI(e,r,!0)}}}function eI(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o;t===0?o=e.inputs??={}:o=e.outputs??={},o[s]??=[],o[s].push(r),hT(e,s)}}function tI(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o=i[s],c;t===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[o]??=[],c[o].push(r,s),hT(e,o)}}function hT(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function nI(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:s}=t;if(r===null||!n&&i===null||n&&s===null||up(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let o=null,c=0;for(;c<r.length;){let l=r[c];if(l===0){c+=4;continue}else if(l===5){c+=2;continue}else if(typeof l=="number")break;if(!n&&i.hasOwnProperty(l)){let u=i[l];for(let f of u)if(f===e){o??=[],o.push(l,r[c+1]);break}}else if(n&&s.hasOwnProperty(l)){let u=s[l];for(let f=0;f<u.length;f+=2)if(u[f]===e){o??=[],o.push(u[f+1],r[c+1]);break}}c+=2}t.initialInputs??=[],t.initialInputs.push(o)}function hM(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Qi(i.type,!0)),o=new Lo(s,Wr(i),sM);t.blueprint[r]=o,n[r]=o,fM(t,e,r,qE(t,n,i.hostVars,Go),i)}function fM(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let c=~e.index;pM(o)!=c&&o.push(c),o.push(n,r,s)}}function pM(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function gM(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Wr(e)&&(n[""]=t)}}function mM(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function fT(t,e,n,r,i,s,o,c){let l=e.consts,u=Oo(l,o),f=Ep(e,t,2,r,u);return s&&dT(e,n,f,Oo(l,c),i),f.mergedAttrs=ep(f.mergedAttrs,f.attrs),f.attrs!==null&&Jw(f,f.attrs,!1),f.mergedAttrs!==null&&Jw(f,f.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,f),f}function pT(t,e){sE(t,e),LI(e)&&t.queries.elementEnd(e)}var kl=class extends cs{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Xi(e);return new Vo(n,this.ngModule)}};function yM(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],s={propName:n,templateName:e,isSignal:(r&Gl.SignalBased)!==0};return i&&(s.transform=i),s})}function _M(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function vM(t,e,n){let r=e instanceof Ct?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Nf(n,r):n}function wM(t){let e=t.get(ns,null);if(e===null)throw new L(407,!1);let n=t.get(iM,null),r=t.get(ts,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function IM(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return jE(e,n,n==="svg"?HI:n==="math"?xk:null)}var Vo=class extends uT{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=yM(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=_M(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=e1(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){Te(22);let s=ae(null);try{let o=this.componentDef,c=r?["ng-version","19.2.14"]:t1(this.componentDef.selectors[0]),l=dp(0,null,null,1,0,null,null,null,null,[c],null),u=vM(o,i||this.ngModule,e),f=wM(u),p=f.rendererFactory.createRenderer(null,o),m=r?u1(p,r,o.encapsulation,u):IM(o,p),y=hp(null,l,null,512|HE(o),null,null,f,p,u,null,ME(m,u,!0));y[pn]=m,Yf(y);let C=null;try{let D=fT(pn,l,y,"#host",()=>[this.componentDef],!0,0);m&&(BE(p,m,D),Wo(m,y)),pp(l,y,D),OE(l,D,y),pT(l,D),n!==void 0&&EM(D,this.ngContentSelectors,n),C=dr(D.index,y),y[ft]=C[ft],mp(l,y,null)}catch(D){throw C!==null&&Tf(C),Tf(y),D}finally{Te(23),Zf()}return new kf(this.componentType,y)}finally{ae(s)}}},kf=class extends rM{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=Gf(n[te],pn),this.location=op(this._tNode,n),this.instance=dr(this._tNode.index,n)[ft],this.hostView=this.changeDetectorRef=new Dl(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,s=gp(r,i[te],i,e,n);this.previousInputValues.set(e,n);let o=dr(r.index,i);aT(o,1)}get injector(){return new $r(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function EM(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null&&s.length?Array.from(s):null)}}var Tp=(()=>{class t{static __NG_ELEMENT_ID__=TM}return t})();function TM(){let t=Gr();return SM(t,Oe())}var bM=Tp,gT=class extends bM{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return op(this._hostTNode,this._hostLView)}get injector(){return new $r(this._hostTNode,this._hostLView)}get parentInjector(){let e=tp(this._hostTNode,this._hostLView);if(aE(e)){let n=El(e,this._hostLView),r=Il(e),i=n[te].data[r+8];return new $r(i,n)}else return new $r(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=rI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-pt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Nl(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(c,i,Al(this._hostTNode,o)),c}createComponent(e,n,r,i,s){let o=e&&!Nk(e),c;if(o)c=n;else{let C=n||{};c=C.index,r=C.injector,i=C.projectableNodes,s=C.environmentInjector||C.ngModuleRef}let l=o?e:new Vo(Xi(e)),u=r||this.parentInjector;if(!s&&l.ngModule==null){let D=(o?u:this.parentInjector).get(Ct,null);D&&(s=D)}let f=Xi(l.componentType??{}),p=Nl(this._lContainer,f?.id??null),m=p?.firstChild??null,y=l.create(u,i,m,s);return this.insertImpl(y.hostView,c,Al(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Lk(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let l=i[gt],u=new gT(l,l[sn],l[gt]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Ip(o,i,s,r),e.attachToViewContainerRef(),SI(nf(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=rI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Fo(this._lContainer,n);r&&(gl(nf(this._lContainer),n),Kl(r[te],r))}detach(e){let n=this._adjustIndex(e,-1),r=Fo(this._lContainer,n);return r&&gl(nf(this._lContainer),n)!=null?new Dl(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function rI(t){return t[_l]}function nf(t){return t[_l]||(t[_l]=[])}function SM(t,e){let n,r=e[t.index];return Vn(r)?n=r:(n=cT(r,e,null,t),e[t.index]=n,fp(e,n)),AM(n,e,t,r),new gT(n,t,e)}function CM(t,e){let n=t[Lt],r=n.createComment(""),i=fr(e,t),s=n.parentNode(i);return Cl(n,s,r,n.nextSibling(i),!1),r}var AM=NM,RM=()=>!1;function DM(t,e,n){return RM(t,e,n)}function NM(t,e,n,r){if(t[Br])return;let i;n.type&8?i=Ln(r):i=CM(e,n),t[Br]=i}var Uo=class{},bp=class{};var Pf=class extends Uo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new kl(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let s=RI(e);this._bootstrapComponents=VE(s.bootstrap),this._r3Injector=yE(e,n,[{provide:Uo,useValue:this},{provide:cs,useValue:this.componentFactoryResolver},...r],Ot(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Mf=class extends bp{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Pf(this.moduleType,e,[])}};var Pl=class extends Uo{injector;componentFactoryResolver=new kl(this);instance=null;constructor(e){super();let n=new ko([...e.providers,{provide:Uo,useValue:this},{provide:cs,useValue:this.componentFactoryResolver}],e.parent||Wf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Yl(t,e,n=null){return new Pl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var kM=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=DI(!1,n.type),i=r.length>0?Yl([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=F({token:t,providedIn:"environment",factory:()=>new t(U(Ct))})}return t})();function Zl(t){return Ol(()=>{let e=yT(t),n=he(x({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===SE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(kM).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||gn.Emulated,styles:t.styles||Zi,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&zl("NgStandalone"),_T(n);let r=t.dependencies;return n.directiveDefs=iI(r,!1),n.pipeDefs=iI(r,!0),n.id=LM(n),n})}function PM(t){return Xi(t)||_k(t)}function MM(t){return t!==null}function xM(t,e){if(t==null)return Yi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,c,l;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s,l=i[3]||null):(s=i,o=i,c=Gl.None,l=null),n[s]=[r,c,l],e[s]=o}return n}function OM(t){if(t==null)return Yi;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function mT(t){return Ol(()=>{let e=yT(t);return _T(e),e})}function yT(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Yi,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Zi,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:xM(t.inputs,e),outputs:OM(t.outputs),debugInfo:null}}function _T(t){t.features?.forEach(e=>e(t))}function iI(t,e){if(!t)return null;let n=e?vk:PM;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(MM)}function LM(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let s of r.join("|"))e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function vT(t,e,n){return t[e]=n}function wT(t,e){return t[e]}function rs(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function sI(t,e,n,r){let i=rs(t,e,n);return rs(t,e+1,r)||i}function FM(t,e,n,r,i,s){let o=sI(t,e,n,r);return sI(t,e+2,i,s)||o}function VM(t,e,n,r,i,s,o,c,l){let u=e.consts,f=Ep(e,t,4,o||null,c||null);GI()&&dT(e,n,f,Oo(u,l),KE),f.mergedAttrs=ep(f.mergedAttrs,f.attrs),sE(e,f);let p=f.tView=dp(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}function oI(t,e,n,r,i,s,o,c,l,u){let f=n+pn,p=e.firstCreatePass?VM(f,e,t,r,i,s,o,c,l):e.data[f];Ho(p,!1);let m=UM(e,t,p,n);Xf()&&vp(e,t,m,p),Wo(m,t);let y=cT(m,t,m,p);return t[f]=y,fp(t,y),DM(y,p,t),FI(p)&&pp(e,t,p),l!=null&&GE(t,p,u),p}var UM=jM;function jM(t,e,n,r){return Jf(!0),e[Lt].createComment("")}var IT=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var ET=new O("");var $M=(()=>{class t{static \u0275prov=F({token:t,providedIn:"root",factory:()=>new xf})}return t})(),xf=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function Xl(t){return!!t&&typeof t.then=="function"}function BM(t){return!!t&&typeof t.subscribe=="function"}var HM=new O("");var TT=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=k(HM,{optional:!0})??[];injector=k(ve);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=mt(this.injector,i);if(Xl(s))n.push(s);else if(BM(s)){let o=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Sp=new O("");function qM(){Ch(()=>{throw new L(600,!1)})}function zM(t){return t.isBoundToModule}var WM=10;var zr=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=k(SP);afterRenderManager=k(FP);zonelessEnabled=k(rp);rootEffectScheduler=k($M);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new xe;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=k(Kr).hasPendingTasks.pipe(J(n=>!n));constructor(){k(ql,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=k(Ct);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=ve.NULL){Te(10);let s=n instanceof uT;if(!this._injector.get(TT).done){let y="";throw new L(405,y)}let c;s?c=n:c=this._injector.get(cs).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=zM(c)?void 0:this._injector.get(Uo),u=r||c.selector,f=c.create(i,[],u,l),p=f.location.nativeElement,m=f.injector.get(ET,null);return m?.registerApplication(p),f.onDestroy(()=>{this.detachView(f.hostView),ul(this.components,f),m?.unregisterApplication(p)}),this._loadComponent(f),Te(11,f),f}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Te(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(PE.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new L(101,!1);let n=ae(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ae(n),this.afterTick.next(),Te(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ns,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<WM;)Te(14),this.synchronizeOnce(),Te(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)GM(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>jl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;ul(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Sp,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ul(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new L(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ul(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function GM(t,e,n,r){if(!n&&!jl(t))return;rT(t,e,n&&!r?0:1)}function KM(t,e,n,r){return rs(t,Qf(),n)?e+Bf(n)+r:Go}function Cp(t,e,n){let r=Oe(),i=Qf();if(rs(r,i,e)){let s=ss(),o=Zk();p1(s,o,r,t,e,r[Lt],n,!1)}return Cp}function aI(t,e,n,r,i){gp(e,t,n,i?"class":"style",r)}var Of=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function rf(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function QM(t,e,n){let r,i,s=0,o=t.length-1,c=void 0;if(Array.isArray(e)){let l=e.length-1;for(;s<=o&&s<=l;){let u=t.at(s),f=e[s],p=rf(s,u,s,f,n);if(p!==0){p<0&&t.updateValue(s,f),s++;continue}let m=t.at(o),y=e[l],C=rf(o,m,l,y,n);if(C!==0){C<0&&t.updateValue(o,y),o--,l--;continue}let D=n(s,u),N=n(o,m),j=n(s,f);if(Object.is(j,N)){let G=n(l,y);Object.is(G,D)?(t.swap(s,o),t.updateValue(o,y),l--,o--):t.move(o,s),t.updateValue(s,f),s++;continue}if(r??=new Ml,i??=lI(t,s,o,n),Lf(t,r,s,j))t.updateValue(s,f),s++,o++;else if(i.has(j))r.set(D,t.detach(s)),o--;else{let G=t.create(s,e[s]);t.attach(s,G),s++,o++}}for(;s<=l;)cI(t,r,n,s,e[s]),s++}else if(e!=null){let l=e[Symbol.iterator](),u=l.next();for(;!u.done&&s<=o;){let f=t.at(s),p=u.value,m=rf(s,f,s,p,n);if(m!==0)m<0&&t.updateValue(s,p),s++,u=l.next();else{r??=new Ml,i??=lI(t,s,o,n);let y=n(s,p);if(Lf(t,r,s,y))t.updateValue(s,p),s++,o++,u=l.next();else if(!i.has(y))t.attach(s,t.create(s,p)),s++,o++,u=l.next();else{let C=n(s,f);r.set(C,t.detach(s)),o--}}}for(;!u.done;)cI(t,r,n,t.length,u.value),u=l.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(l=>{t.destroy(l)})}function Lf(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function cI(t,e,n,r,i){if(Lf(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function lI(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var Ml=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};var Ff=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-pt}};var Vf=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function bT(t,e,n,r,i,s,o,c,l,u,f,p,m){zl("NgControlFlow");let y=Oe(),C=ss(),D=l!==void 0,N=Oe(),j=c?o.bind(N[rn][ft]):o,G=new Vf(D,j);N[pn+t]=G,oI(y,C,t+1,e,n,r,i,Oo(C.consts,s)),D&&oI(y,C,t+2,l,u,f,p,Oo(C.consts,m))}var Uf=class extends Of{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-pt}at(e){return this.getLView(e)[ft].$implicit}attach(e,n){let r=n[Po];this.needsIndexUpdate||=e!==this.length,Ip(this.lContainer,n,e,Al(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,YM(this.lContainer,e)}create(e,n){let r=Nl(this.lContainer,this.templateTNode.tView.ssrId),i=QE(this.hostLView,this.templateTNode,new Ff(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Kl(e[te],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[ft].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[ft].$index=e}getLView(e){return ZM(this.lContainer,e)}};function ST(t){let e=ae(null),n=Bl();try{let r=Oe(),i=r[te],s=r[n],o=n+1,c=uI(r,o);if(s.liveCollection===void 0){let u=dI(i,o);s.liveCollection=new Uf(c,r,u)}else s.liveCollection.reset();let l=s.liveCollection;if(QM(l,t,s.trackByFn),l.updateIndexes(),s.hasEmptyBlock){let u=Qf(),f=l.length===0;if(rs(r,u,f)){let p=n+2,m=uI(r,p);if(f){let y=dI(i,p),C=Nl(m,y.tView.ssrId),D=QE(r,y,void 0,{dehydratedView:C});Ip(m,D,0,Al(y,C))}else Z1(m,0)}}}finally{ae(e)}}function uI(t,e){return t[e]}function YM(t,e){return Fo(t,e)}function ZM(t,e){return Y1(t,e)}function dI(t,e){return Gf(t,e)}function Le(t,e,n,r){let i=Oe(),s=ss(),o=pn+t,c=i[Lt],l=s.firstCreatePass?fT(o,s,i,e,KE,GI(),n,r):s.data[o],u=XM(s,i,l,c,e,t);i[o]=u;let f=FI(l);return Ho(l,!0),BE(c,u,l),!YE(l)&&Xf()&&vp(s,i,u,l),(Vk()===0||f)&&Wo(u,i),Uk(),f&&(pp(s,i,l),OE(s,l,i)),r!==null&&GE(i,l),Le}function yt(){let t=Gr();QI()?zk():(t=t.parent,Ho(t,!1));let e=t;Bk(e)&&Hk(),jk();let n=ss();return n.firstCreatePass&&pT(n,e),e.classesWithoutHost!=null&&nP(e)&&aI(n,e,Oe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&rP(e)&&aI(n,e,Oe(),e.stylesWithoutHost,!1),yt}function At(t,e,n,r){return Le(t,e,n,r),yt(),At}var XM=(t,e,n,r,i,s)=>(Jf(!0),jE(r,i,Jk()));var xl="en-US";var JM=xl;function ex(t){typeof t=="string"&&(JM=t.toLowerCase().replace(/_/g,"-"))}function Jl(t,e=""){let n=Oe(),r=ss(),i=t+pn,s=r.firstCreatePass?Ep(r,i,1,e,null):r.data[i],o=tx(r,n,s,e,t);n[i]=o,Xf()&&vp(r,n,o,s),Ho(s,!1)}var tx=(t,e,n,r,i)=>(Jf(!0),n1(e[Lt],r));function Ap(t){return eu("",t,""),Ap}function eu(t,e,n){let r=Oe(),i=KM(r,t,e,n);return i!==Go&&nx(r,Bl(),i),eu}function nx(t,e,n){let r=Ok(e,t);r1(t[Lt],r,n)}function ls(t,e,n){let r=ZI()+t,i=Oe();return i[r]===Go?vT(i,r,n?e.call(n):e()):wT(i,r)}function CT(t,e,n,r,i,s,o,c){let l=ZI()+t,u=Oe(),f=FM(u,l,n,r,i,s);return rs(u,l+4,o)||f?vT(u,l+5,c?e.call(c,n,r,i,s,o):e(n,r,i,s,o)):wT(u,l+5)}var jo=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},AT=new jo("19.2.14"),jf=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},RT=(()=>{class t{compileModuleSync(n){return new Mf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=RI(n),s=VE(i.declarations).reduce((o,c)=>{let l=Xi(c);return l&&o.push(new Vo(l)),o},[]);return new jf(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var rx=(()=>{class t{zone=k(Y);changeDetectionScheduler=k(ts);applicationRef=k(zr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ix=new O("",{factory:()=>!1});function DT({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Y(he(x({},kT()),{scheduleInRootZone:n})),[{provide:Y,useFactory:t},{provide:No,multi:!0,useFactory:()=>{let r=k(rx,{optional:!0});return()=>r.initialize()}},{provide:No,multi:!0,useFactory:()=>{let r=k(sx);return()=>{r.initialize()}}},e===!0?{provide:vE,useValue:!0}:[],{provide:wE,useValue:n??_E}]}function NT(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=DT({ngZoneFactory:()=>{let i=kT(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&zl("NgZone_CoalesceEvent"),new Y(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Ke([{provide:ix,useValue:!0},{provide:rp,useValue:!1},r])}function kT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var sx=(()=>{class t{subscription=new Ae;initialized=!1;zone=k(Y);pendingTasks=k(Kr);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Y.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Y.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ox=(()=>{class t{appRef=k(zr);taskService=k(Kr);ngZone=k(Y);zonelessEnabled=k(rp);tracing=k(ql,{optional:!0});disableScheduling=k(vE,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ae;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(bl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(k(wE,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ef||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?qw:IE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(bl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,qw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ax(){return typeof $localize<"u"&&$localize.locale||xl}var PT=new O("",{providedIn:"root",factory:()=>k(PT,W.Optional|W.SkipSelf)||ax()});var $f=new O(""),cx=new O("");function Co(t){return!t.moduleRef}function lx(t){let e=Co(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Y);return n.run(()=>{Co(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(hr,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),Co(t)){let s=()=>e.destroy(),o=t.platformInjector.get($f);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get($f);o.add(s),t.moduleRef.onDestroy(()=>{ul(t.allPlatformModules,t.moduleRef),i.unsubscribe(),o.delete(s)})}return dx(r,n,()=>{let s=e.get(TT);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(PT,xl);if(ex(o||xl),!e.get(cx,!0))return Co(t)?e.get(zr):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Co(t)){let l=e.get(zr);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return ux(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function ux(t,e){let n=t.injector.get(zr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new L(-403,!1);e.push(t)}function dx(t,e,n){try{let r=n();return Xl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var dl=null;function hx(t=[],e){return ve.create({name:e,providers:[{provide:Vl,useValue:"platform"},{provide:$f,useValue:new Set([()=>dl=null])},...t]})}function fx(t=[]){if(dl)return dl;let e=hx(t);return dl=e,qM(),px(e),e}function px(t){let e=t.get(cp,null);mt(t,()=>{e?.forEach(n=>n())})}function Rp(){return!1}var MT=(()=>{class t{static __NG_ELEMENT_ID__=gx}return t})();function gx(t){return mx(Gr(),Oe(),(t&16)===16)}function mx(t,e,n){if(Bo(t)&&!n){let r=dr(t.index,e);return new Dl(r,r)}else if(t.type&175){let r=e[rn];return new Dl(r,e)}return null}function xT(t){Te(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=fx(r),s=[DT({}),{provide:ts,useExisting:ox},...n||[]],o=new Pl({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return lx({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Te(9)}}var hI=class{[ki];constructor(e){this[ki]=e}destroy(){this[ki].destroy()}};var rt=new O("");var FT=null;function Un(){return FT}function Dp(t){FT??=t}var Ko=class{},Np=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:()=>k(VT),providedIn:"platform"})}return t})();var VT=(()=>{class t extends Np{_location;_history;_doc=k(rt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Un().getBaseHref(this._doc)}onPopState(n){let r=Un().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Un().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function UT(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function OT(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function gr(t){return t&&t[0]!=="?"?`?${t}`:t}var tu=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:()=>k($T),providedIn:"root"})}return t})(),jT=new O(""),$T=(()=>{class t extends tu{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??k(rt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return UT(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+gr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+gr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+gr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(U(Np),U(jT,8))};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),us=(()=>{class t{_subject=new xe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=vx(OT(LT(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+gr(r))}normalize(n){return t.stripTrailingSlash(_x(this._basePath,LT(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+gr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+gr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=gr;static joinWithSlash=UT;static stripTrailingSlash=OT;static \u0275fac=function(r){return new(r||t)(U(tu))};static \u0275prov=F({token:t,factory:()=>yx(),providedIn:"root"})}return t})();function yx(){return new us(U(tu))}function _x(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function LT(t){return t.replace(/\/index.html$/,"")}function vx(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function kp(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var nu="browser",BT="server";function ru(t){return t===nu}function Qr(t){return t===BT}var Qo=class{};var ou=new O(""),Op=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,s){return this._findPluginFor(r).addEventListener(n,r,i,s)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new L(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(U(ou),U(Y))};static \u0275prov=F({token:t,factory:t.\u0275fac})}return t})(),Yo=class{_doc;constructor(e){this._doc=e}manager},iu="ng-app-id";function HT(t){for(let e of t)e.remove()}function qT(t,e){let n=e.createElement("style");return n.textContent=t,n}function wx(t,e,n,r){let i=t.head?.querySelectorAll(`style[${iu}="${e}"],link[${iu}="${e}"]`);if(i)for(let s of i)s.removeAttribute(iu),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&n.set(s.textContent,{usage:0,elements:[s]})}function Mp(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Lp=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Qr(s),wx(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,qT);r?.forEach(i=>this.addUsage(i,this.external,Mp))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let s=r.get(n);s?s.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(HT(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])HT(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,qT(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Mp(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(iu,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(U(rt),U(ap),U(lp,8),U(Ft))};static \u0275prov=F({token:t,factory:t.\u0275fac})}return t})(),Pp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Fp=/%COMP%/g;var WT="%COMP%",Ix=`_nghost-${WT}`,Ex=`_ngcontent-${WT}`,Tx=!0,bx=new O("",{providedIn:"root",factory:()=>Tx});function Sx(t){return Ex.replace(Fp,t)}function Cx(t){return Ix.replace(Fp,t)}function GT(t,e){return e.map(n=>n.replace(Fp,t))}var Vp=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,s,o,c,l,u=null,f=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=l,this.nonce=u,this.tracingService=f,this.platformIsServer=Qr(c),this.defaultRenderer=new Zo(n,o,l,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===gn.ShadowDom&&(r=he(x({},r),{encapsulation:gn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof su?i.applyToHost(n):i instanceof Xo&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case gn.Emulated:s=new su(l,u,r,this.appId,f,o,c,p,m);break;case gn.ShadowDom:return new xp(l,u,n,r,o,c,this.nonce,p,m);default:s=new Xo(l,u,r,f,o,c,p,m);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(U(Op),U(Lp),U(ap),U(bx),U(rt),U(Ft),U(Y),U(lp),U(ql,8))};static \u0275prov=F({token:t,factory:t.\u0275fac})}return t})(),Zo=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,s){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=s}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Pp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(zT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(zT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new L(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Pp[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Pp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(as.DashCase|as.Important)?e.style.setProperty(n,r,i&as.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&as.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=Un().getGlobalEventTarget(this.doc,e),!e))throw new L(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,n,s)),this.eventManager.addEventListener(e,n,s,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function zT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var xp=class extends Zo{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,s,o,c,l,u){super(e,s,o,l,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=i.styles;f=GT(i.id,f);for(let m of f){let y=document.createElement("style");c&&y.setAttribute("nonce",c),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=Mp(m,s);c&&y.setAttribute("nonce",c),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Xo=class extends Zo{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,s,o,c,l,u){super(e,s,o,c,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let f=r.styles;this.styles=u?GT(u,f):f,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},su=class extends Xo{contentAttr;hostAttr;constructor(e,n,r,i,s,o,c,l,u){let f=i+"-"+r.id;super(e,n,r,s,o,c,l,u,f),this.contentAttr=Sx(f),this.hostAttr=Cx(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var au=class t extends Ko{supportsDOMEvents=!0;static makeCurrent(){Dp(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Ax();return n==null?null:Rx(n)}resetBaseElement(){Jo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return kp(document.cookie,e)}},Jo=null;function Ax(){return Jo=Jo||document.head.querySelector("base"),Jo?Jo.getAttribute("href"):null}function Rx(t){return new URL(t,document.baseURI).pathname}var Dx=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:t.\u0275fac})}return t})(),ZT=(()=>{class t extends Yo{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,s){return n.addEventListener(r,i,s),()=>this.removeEventListener(n,r,i,s)}removeEventListener(n,r,i,s){return n.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||t)(U(rt))};static \u0275prov=F({token:t,factory:t.\u0275fac})}return t})(),KT=["alt","control","meta","shift"],Nx={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kx={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},XT=(()=>{class t extends Yo{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,s){let o=t.parseEventName(r),c=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Un().onAndCancel(n,o.domEventName,c,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),KT.forEach(u=>{let f=r.indexOf(u);f>-1&&(r.splice(f,1),o+=u+".")}),o+=s,r.length!=0||s.length===0)return null;let l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(n,r){let i=Nx[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),KT.forEach(o=>{if(o!==i){let c=kx[o];c(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(U(rt))};static \u0275prov=F({token:t,factory:t.\u0275fac})}return t})();function Up(t,e){return xT(x({rootComponent:t},Px(e)))}function Px(t){return{appProviders:[...Fx,...t?.providers??[]],platformProviders:Lx}}function Mx(){au.makeCurrent()}function xx(){return new hr}function Ox(){return NE(document),document}var Lx=[{provide:Ft,useValue:nu},{provide:cp,useValue:Mx,multi:!0},{provide:rt,useFactory:Ox}];var Fx=[{provide:Vl,useValue:"root"},{provide:hr,useFactory:xx},{provide:ou,useClass:ZT,multi:!0,deps:[rt]},{provide:ou,useClass:XT,multi:!0,deps:[rt]},Vp,Lp,Op,{provide:ns,useExisting:Vp},{provide:Qo,useClass:Dx},[]];var cu=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(U(rt))};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var z="primary",fa=Symbol("RouteTitle"),qp=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Xr(t){return new qp(t)}function ab(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=t[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Vx(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!mn(t[n],e[n]))return!1;return!0}function mn(t,e){let n=t?zp(t):void 0,r=e?zp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!cb(t[i],e[i]))return!1;return!0}function zp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function cb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function lb(t){return t.length>0?t[t.length-1]:null}function _r(t){return Bh(t)?t:Xl(t)?Re(Promise.resolve(t)):V(t)}var Ux={exact:db,subset:hb},ub={exact:jx,subset:$x,ignored:()=>!0};function eb(t,e,n){return Ux[n.paths](t.root,e.root,n.matrixParams)&&ub[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function jx(t,e){return mn(t,e)}function db(t,e,n){if(!Yr(t.segments,e.segments)||!du(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!db(t.children[r],e.children[r],n))return!1;return!0}function $x(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>cb(t[n],e[n]))}function hb(t,e,n){return fb(t,e,e.segments,n)}function fb(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Yr(i,n)||e.hasChildren()||!du(i,n,r))}else if(t.segments.length===n.length){if(!Yr(t.segments,n)||!du(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!hb(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Yr(t.segments,i)||!du(t.segments,i,r)||!t.children[z]?!1:fb(t.children[z],e,s,r)}}function du(t,e,n){return e.every((r,i)=>ub[n](t[i].parameters,r.parameters))}var _n=class{root;queryParams;fragment;_queryParamMap;constructor(e=new de([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Xr(this.queryParams),this._queryParamMap}toString(){return qx.serialize(this)}},de=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hu(this)}},mr=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Xr(this.parameters),this._parameterMap}toString(){return gb(this)}};function Bx(t,e){return Yr(t,e)&&t.every((n,r)=>mn(n.parameters,e[r].parameters))}function Yr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Hx(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===z&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==z&&(n=n.concat(e(i,r)))}),n}var pa=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:()=>new Jr,providedIn:"root"})}return t})(),Jr=class{parse(e){let n=new Gp(e);return new _n(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ea(e.root,!0)}`,r=Gx(e.queryParams),i=typeof e.fragment=="string"?`#${zx(e.fragment)}`:"";return`${n}${r}${i}`}},qx=new Jr;function hu(t){return t.segments.map(e=>gb(e)).join("/")}function ea(t,e){if(!t.hasChildren())return hu(t);if(e){let n=t.children[z]?ea(t.children[z],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==z&&r.push(`${i}:${ea(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Hx(t,(r,i)=>i===z?[ea(t.children[z],!1)]:[`${i}:${ea(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[z]!=null?`${hu(t)}/${n[0]}`:`${hu(t)}/(${n.join("//")})`}}function pb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lu(t){return pb(t).replace(/%3B/gi,";")}function zx(t){return encodeURI(t)}function Wp(t){return pb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fu(t){return decodeURIComponent(t)}function tb(t){return fu(t.replace(/\+/g,"%20"))}function gb(t){return`${Wp(t.path)}${Wx(t.parameters)}`}function Wx(t){return Object.entries(t).map(([e,n])=>`;${Wp(e)}=${Wp(n)}`).join("")}function Gx(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${lu(n)}=${lu(i)}`).join("&"):`${lu(n)}=${lu(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Kx=/^[^\/()?;#]+/;function jp(t){let e=t.match(Kx);return e?e[0]:""}var Qx=/^[^\/()?;=#]+/;function Yx(t){let e=t.match(Qx);return e?e[0]:""}var Zx=/^[^=?&#]+/;function Xx(t){let e=t.match(Zx);return e?e[0]:""}var Jx=/^[^&#]+/;function eO(t){let e=t.match(Jx);return e?e[0]:""}var Gp=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new de([],{}):new de([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[z]=new de(e,n)),r}parseSegment(){let e=jp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new L(4009,!1);return this.capture(e),new mr(fu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Yx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=jp(this.remaining);i&&(r=i,this.capture(r))}e[fu(n)]=fu(r)}parseQueryParam(e){let n=Xx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=eO(this.remaining);o&&(r=o,this.capture(r))}let i=tb(n),s=tb(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=jp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new L(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=z);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[z]:new de([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new L(4011,!1)}};function mb(t){return t.segments.length>0?new de([],{[z]:t}):t}function yb(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=yb(i);if(r===z&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new de(t.segments,e);return tO(n)}function tO(t){if(t.numberOfChildren===1&&t.children[z]){let e=t.children[z];return new de(t.segments.concat(e.segments),e.children)}return t}function gs(t){return t instanceof _n}function _b(t,e,n=null,r=null){let i=vb(t);return wb(i,e,n,r)}function vb(t){let e;function n(s){let o={};for(let l of s.children){let u=n(l);o[l.outlet]=u}let c=new de(s.url,o);return s===t&&(e=c),c}let r=n(t.root),i=mb(r);return e??i}function wb(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return $p(i,i,i,n,r);let s=nO(e);if(s.toRoot())return $p(i,i,new de([],{}),n,r);let o=rO(s,i,t),c=o.processChildren?na(o.segmentGroup,o.index,s.commands):Eb(o.segmentGroup,o.index,s.commands);return $p(i,o.segmentGroup,c,n,r)}function gu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ia(t){return typeof t=="object"&&t!=null&&t.outlets}function $p(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([l,u])=>{s[l]=Array.isArray(u)?u.map(f=>`${f}`):`${u}`});let o;t===e?o=n:o=Ib(t,e,n);let c=mb(yb(o));return new _n(c,s,i)}function Ib(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=Ib(s,e,n)}),new de(t.segments,r)}var mu=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&gu(r[0]))throw new L(4003,!1);let i=r.find(ia);if(i&&i!==lb(r))throw new L(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function nO(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new mu(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([l,u])=>{c[l]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,l)=>{l==0&&c==="."||(l==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new mu(n,e,r)}var fs=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function rO(t,e,n){if(t.isAbsolute)return new fs(e,!0,0);if(!n)return new fs(e,!1,NaN);if(n.parent===null)return new fs(n,!0,0);let r=gu(t.commands[0])?0:1,i=n.segments.length-1+r;return iO(n,i,t.numberOfDoubleDots)}function iO(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new L(4005,!1);i=r.segments.length}return new fs(r,!1,i-s)}function sO(t){return ia(t[0])?t[0].outlets:{[z]:t}}function Eb(t,e,n){if(t??=new de([],{}),t.segments.length===0&&t.hasChildren())return na(t,e,n);let r=oO(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new de(t.segments.slice(0,r.pathIndex),{});return s.children[z]=new de(t.segments.slice(r.pathIndex),t.children),na(s,0,i)}else return r.match&&i.length===0?new de(t.segments,{}):r.match&&!t.hasChildren()?Kp(t,e,n):r.match?na(t,0,i):Kp(t,e,n)}function na(t,e,n){if(n.length===0)return new de(t.segments,{});{let r=sO(n),i={};if(Object.keys(r).some(s=>s!==z)&&t.children[z]&&t.numberOfChildren===1&&t.children[z].segments.length===0){let s=na(t.children[z],e,n);return new de(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Eb(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new de(t.segments,i)}}function oO(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],c=n[r];if(ia(c))break;let l=`${c}`,u=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!rb(l,u,o))return s;r+=2}else{if(!rb(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Kp(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(ia(s)){let l=aO(s.outlets);return new de(r,l)}if(i===0&&gu(n[0])){let l=t.segments[e];r.push(new mr(l.path,nb(n[0]))),i++;continue}let o=ia(s)?s.outlets[z]:`${s}`,c=i<n.length-1?n[i+1]:null;o&&c&&gu(c)?(r.push(new mr(o,nb(c))),i+=2):(r.push(new mr(o,{})),i++)}return new de(r,{})}function aO(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Kp(new de([],{}),0,r))}),e}function nb(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function rb(t,e,n){return t==n.path&&mn(e,n.parameters)}var pu="imperative",je=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(je||{}),Ut=class{id;url;constructor(e,n){this.id=e,this.url=n}},ei=class extends Ut{type=je.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},jn=class extends Ut{urlAfterRedirects;type=je.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Rt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Rt||{}),sa=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(sa||{}),yn=class extends Ut{reason;code;type=je.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},$n=class extends Ut{reason;code;type=je.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},ms=class extends Ut{error;target;type=je.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},oa=class extends Ut{urlAfterRedirects;state;type=je.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yu=class extends Ut{urlAfterRedirects;state;type=je.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_u=class extends Ut{urlAfterRedirects;state;shouldActivate;type=je.GuardsCheckEnd;constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},vu=class extends Ut{urlAfterRedirects;state;type=je.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wu=class extends Ut{urlAfterRedirects;state;type=je.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Iu=class{route;type=je.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Eu=class{route;type=je.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Tu=class{snapshot;type=je.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bu=class{snapshot;type=je.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Su=class{snapshot;type=je.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ys=class{snapshot;type=je.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var aa=class{},_s=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function cO(t,e){return t.providers&&!t._injector&&(t._injector=Yl(t.providers,e,`Route: ${t.path}`)),t._injector??e}function on(t){return t.outlet||z}function lO(t,e){let n=t.filter(r=>on(r)===e);return n.push(...t.filter(r=>on(r)!==e)),n}function ga(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Cu=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ga(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Is(this.rootInjector)}},Is=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Cu(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(U(Ct))};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Au=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Qp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Qp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Yp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Yp(e,this._root).map(n=>n.value)}};function Qp(t,e){if(t===e.value)return e;for(let n of e.children){let r=Qp(t,n);if(r)return r}return null}function Yp(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Yp(t,n);if(r.length)return r.unshift(e),r}return[]}var Vt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function hs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var ca=class extends Au{snapshot;constructor(e,n){super(e),this.snapshot=n,ig(this,e)}toString(){return this.snapshot.toString()}};function Tb(t){let e=uO(t),n=new We([new mr("",{})]),r=new We({}),i=new We({}),s=new We({}),o=new We(""),c=new yr(n,r,s,o,i,z,t,e.root);return c.snapshot=e.root,new ca(new Vt(c,[]),e)}function uO(t){let e={},n={},r={},i="",s=new Zr([],e,r,i,n,z,t,null,{});return new la("",new Vt(s,[]))}var yr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,s,o,c,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(J(u=>u[fa]))??V(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(J(e=>Xr(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(J(e=>Xr(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ru(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:x(x({},e.params),t.params),data:x(x({},e.data),t.data),resolve:x(x(x(x({},t.data),e.data),i?.data),t._resolvedData)}:r={params:x({},t.params),data:x({},t.data),resolve:x(x({},t.data),t._resolvedData??{})},i&&Sb(i)&&(r.resolve[fa]=i.title),r}var Zr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[fa]}constructor(e,n,r,i,s,o,c,l,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Xr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Xr(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},la=class extends Au{url;constructor(e,n){super(n),this.url=e,ig(this,n)}toString(){return bb(this._root)}};function ig(t,e){e.value._routerState=t,e.children.forEach(n=>ig(t,n))}function bb(t){let e=t.children.length>0?` { ${t.children.map(bb).join(", ")} } `:"";return`${t.value}${e}`}function Bp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,mn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),mn(e.params,n.params)||t.paramsSubject.next(n.params),Vx(e.url,n.url)||t.urlSubject.next(n.url),mn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Zp(t,e){let n=mn(t.params,e.params)&&Bx(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Zp(t.parent,e.parent))}function Sb(t){return typeof t.title=="string"||t.title===null}var Cb=new O(""),ma=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=z;activateEvents=new St;deactivateEvents=new St;attachEvents=new St;detachEvents=new St;routerOutletData=TE(void 0);parentContexts=k(Is);location=k(Tp);changeDetector=k(MT);inputBinder=k(Pu,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new L(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new L(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new L(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new L(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new Xp(n,c,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=mT({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[UI]})}return t})(),Xp=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===yr?this.route:e===Is?this.childContexts:e===Cb?this.outletData:this.parent.get(e,n)}},Pu=new O("");var ya=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Zl({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&At(0,"router-outlet")},dependencies:[ma],encapsulation:2})}return t})();function sg(t){let e=t.children&&t.children.map(sg),n=e?he(x({},t),{children:e}):x({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==z&&(n.component=ya),n}function dO(t,e,n){let r=ua(t,e._root,n?n._root:void 0);return new ca(r,e)}function ua(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=hO(t,e,n);return new Vt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>ua(t,c)),o}}let r=fO(e.value),i=e.children.map(s=>ua(t,s));return new Vt(r,i)}}function hO(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ua(t,r,i);return ua(t,r)})}function fO(t){return new yr(new We(t.url),new We(t.params),new We(t.queryParams),new We(t.fragment),new We(t.data),t.outlet,t.component,t)}var vs=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},Ab="ngNavigationCancelingError";function Du(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=gs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Rb(!1,Rt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Rb(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Ab]=!0,n.cancellationCode=e,n}function pO(t){return Db(t)&&gs(t.url)}function Db(t){return!!t&&t[Ab]}var gO=(t,e,n,r)=>J(i=>(new Jp(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Jp=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Bp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=hs(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=hs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=hs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=hs(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new ys(s.value.snapshot))}),e.children.length&&this.forwardEvent(new bu(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Bp(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),Bp(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Nu=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ps=class{component;route;constructor(e,n){this.component=e,this.route=n}};function mO(t,e,n){let r=t._root,i=e?e._root:null;return ta(r,i,n,[r.value])}function yO(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Es(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!_I(t)?t:e.get(t):r}function ta(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=hs(e);return t.children.forEach(o=>{_O(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>ra(c,n.getContext(o),i)),i}function _O(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=vO(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Nu(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?ta(t,e,c?c.children:null,r,i):ta(t,e,n,r,i),l&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new ps(c.outlet.component,o))}else o&&ra(e,c,i),i.canActivateChecks.push(new Nu(r)),s.component?ta(t,null,c?c.children:null,r,i):ta(t,null,n,r,i);return i}function vO(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Yr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Yr(t.url,e.url)||!mn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zp(t,e)||!mn(t.queryParams,e.queryParams);case"paramsChange":default:return!Zp(t,e)}}function ra(t,e,n){let r=hs(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?ra(o,e.children.getContext(s),n):ra(o,null,n):ra(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ps(e.outlet.component,i)):n.canDeactivateChecks.push(new ps(null,i)):n.canDeactivateChecks.push(new ps(null,i))}function _a(t){return typeof t=="function"}function wO(t){return typeof t=="boolean"}function IO(t){return t&&_a(t.canLoad)}function EO(t){return t&&_a(t.canActivate)}function TO(t){return t&&_a(t.canActivateChild)}function bO(t){return t&&_a(t.canDeactivate)}function SO(t){return t&&_a(t.canMatch)}function Nb(t){return t instanceof Pn||t?.name==="EmptyError"}var uu=Symbol("INITIAL_VALUE");function ws(){return bt(t=>rl(t.map(e=>e.pipe(Mn(1),So(uu)))).pipe(J(e=>{for(let n of e)if(n!==!0){if(n===uu)return uu;if(n===!1||CO(n))return n}return!0}),Tt(e=>e!==uu),Mn(1)))}function CO(t){return gs(t)||t instanceof vs}function AO(t,e){return De(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?V(he(x({},n),{guardsResult:!0})):RO(o,r,i,t).pipe(De(c=>c&&wO(c)?DO(r,s,t,e):V(c)),J(c=>he(x({},n),{guardsResult:c})))})}function RO(t,e,n,r){return Re(t).pipe(De(i=>xO(i.component,i.route,n,e,r)),xn(i=>i!==!0,!0))}function DO(t,e,n,r){return Re(e).pipe(Vr(i=>Hi(kO(i.route.parent,r),NO(i.route,r),MO(t,i.path,n),PO(t,i.route,n))),xn(i=>i!==!0,!0))}function NO(t,e){return t!==null&&e&&e(new Su(t)),V(!0)}function kO(t,e){return t!==null&&e&&e(new Tu(t)),V(!0)}function PO(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return V(!0);let i=r.map(s=>il(()=>{let o=ga(e)??n,c=Es(s,o),l=EO(c)?c.canActivate(e,t):mt(o,()=>c(e,t));return _r(l).pipe(xn())}));return V(i).pipe(ws())}function MO(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>yO(o)).filter(o=>o!==null).map(o=>il(()=>{let c=o.guards.map(l=>{let u=ga(o.node)??n,f=Es(l,u),p=TO(f)?f.canActivateChild(r,t):mt(u,()=>f(r,t));return _r(p).pipe(xn())});return V(c).pipe(ws())}));return V(s).pipe(ws())}function xO(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return V(!0);let o=s.map(c=>{let l=ga(e)??i,u=Es(c,l),f=bO(u)?u.canDeactivate(t,e,n,r):mt(l,()=>u(t,e,n,r));return _r(f).pipe(xn())});return V(o).pipe(ws())}function OO(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return V(!0);let s=i.map(o=>{let c=Es(o,t),l=IO(c)?c.canLoad(e,n):mt(t,()=>c(e,n));return _r(l)});return V(s).pipe(ws(),kb(r))}function kb(t){return Oh(Ge(e=>{if(typeof e!="boolean")throw Du(t,e)}),J(e=>e===!0))}function LO(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return V(!0);let s=i.map(o=>{let c=Es(o,t),l=SO(c)?c.canMatch(e,n):mt(t,()=>c(e,n));return _r(l)});return V(s).pipe(ws(),kb(r))}var da=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},ha=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ds(t){return Bi(new da(t))}function FO(t){return Bi(new L(4e3,!1))}function VO(t){return Bi(Rb(!1,Rt.GuardRejected))}var eg=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return V(r);if(i.numberOfChildren>1||!i.children[z])return FO(`${e.redirectTo}`);i=i.children[z]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let c=n,{queryParams:l,fragment:u,routeConfig:f,url:p,outlet:m,params:y,data:C,title:D}=i,N=mt(s,()=>c({params:y,data:C,queryParams:l,fragment:u,routeConfig:f,url:p,outlet:m,title:D}));if(N instanceof _n)throw new ha(N);n=N}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new ha(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new _n(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=n[c]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([c,l])=>{o[c]=this.createSegmentGroup(e,l,r,i)}),new de(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new L(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},tg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function UO(t,e,n,r,i){let s=Pb(t,e,n);return s.matched?(r=cO(e,r),LO(r,e,n,i).pipe(J(o=>o===!0?s:x({},tg)))):V(s)}function Pb(t,e,n){if(e.path==="**")return jO(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?x({},tg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||ab)(n,t,e);if(!i)return x({},tg);let s={};Object.entries(i.posParams??{}).forEach(([c,l])=>{s[c]=l.path});let o=i.consumed.length>0?x(x({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function jO(t){return{matched:!0,parameters:t.length>0?lb(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function ib(t,e,n,r){return n.length>0&&HO(t,n,r)?{segmentGroup:new de(e,BO(r,new de(n,t.children))),slicedSegments:[]}:n.length===0&&qO(t,n,r)?{segmentGroup:new de(t.segments,$O(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new de(t.segments,t.children),slicedSegments:n}}function $O(t,e,n,r){let i={};for(let s of n)if(Mu(t,e,s)&&!r[on(s)]){let o=new de([],{});i[on(s)]=o}return x(x({},r),i)}function BO(t,e){let n={};n[z]=e;for(let r of t)if(r.path===""&&on(r)!==z){let i=new de([],{});n[on(r)]=i}return n}function HO(t,e,n){return n.some(r=>Mu(t,e,r)&&on(r)!==z)}function qO(t,e,n){return n.some(r=>Mu(t,e,r))}function Mu(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function zO(t,e,n){return e.length===0&&!t.children[n]}var ng=class{};function WO(t,e,n,r,i,s,o="emptyOnly"){return new rg(t,e,n,r,i,o,s).recognize()}var GO=31,rg=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,s,o,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new eg(this.urlSerializer,this.urlTree)}noMatchError(e){return new L(4002,`'${e.segmentGroup}'`)}recognize(){let e=ib(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(J(({children:n,rootSnapshot:r})=>{let i=new Vt(r,n),s=new la("",i),o=_b(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Zr([],Object.freeze({}),Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),z,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,z,n).pipe(J(r=>({children:r,rootSnapshot:n})),cr(r=>{if(r instanceof ha)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof da?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(J(o=>o instanceof Vt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Re(s).pipe(Vr(o=>{let c=r.children[o],l=lO(n,o);return this.processSegmentGroup(e,l,c,o,i)}),Gh((o,c)=>(o.push(...c),o)),lr(null),zh(),De(o=>{if(o===null)return ds(r);let c=Mb(o);return KO(c),V(c)}))}processSegment(e,n,r,i,s,o,c){return Re(n).pipe(Vr(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,r,i,s,o,c).pipe(cr(u=>{if(u instanceof da)return V(null);throw u}))),xn(l=>!!l),cr(l=>{if(Nb(l))return zO(r,i,s)?V(new ng):ds(r);throw l}))}processSegmentAgainstRoute(e,n,r,i,s,o,c,l){return on(r)!==o&&(o===z||!Mu(i,s,r))?ds(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,l):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,l):ds(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,c){let{matched:l,parameters:u,consumedSegments:f,positionalParamSegments:p,remainingSegments:m}=Pb(n,i,s);if(!l)return ds(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>GO&&(this.allowRedirects=!1));let y=new Zr(s,u,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,sb(i),on(i),i.component??i._loadedComponent??null,i,ob(i)),C=Ru(y,c,this.paramsInheritanceStrategy);y.params=Object.freeze(C.params),y.data=Object.freeze(C.data);let D=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,D).pipe(De(N=>this.processSegment(e,r,n,N.concat(m),o,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let c=UO(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(bt(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(bt(({routes:u})=>{let f=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=l,C=new Zr(m,p,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,sb(r),on(r),r.component??r._loadedComponent??null,r,ob(r)),D=Ru(C,o,this.paramsInheritanceStrategy);C.params=Object.freeze(D.params),C.data=Object.freeze(D.data);let{segmentGroup:N,slicedSegments:j}=ib(n,m,y,u);if(j.length===0&&N.hasChildren())return this.processChildren(f,u,N,C).pipe(J(X=>new Vt(C,X)));if(u.length===0&&j.length===0)return V(new Vt(C,[]));let G=on(r)===s;return this.processSegment(f,u,N,j,G?z:s,!0,C).pipe(J(X=>new Vt(C,X instanceof Vt?[X]:[])))}))):ds(n)))}getChildConfig(e,n,r){return n.children?V({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?V({routes:n._loadedRoutes,injector:n._loadedInjector}):OO(e,n,r,this.urlSerializer).pipe(De(i=>i?this.configLoader.loadChildren(e,n).pipe(Ge(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):VO(n))):V({routes:[],injector:e})}};function KO(t){t.sort((e,n)=>e.value.outlet===z?-1:n.value.outlet===z?1:e.value.outlet.localeCompare(n.value.outlet))}function QO(t){let e=t.value.routeConfig;return e&&e.path===""}function Mb(t){let e=[],n=new Set;for(let r of t){if(!QO(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Mb(r.children);e.push(new Vt(r.value,i))}return e.filter(r=>!n.has(r))}function sb(t){return t.data||{}}function ob(t){return t.resolve||{}}function YO(t,e,n,r,i,s){return De(o=>WO(t,e,n,r,o.extractedUrl,i,s).pipe(J(({state:c,tree:l})=>he(x({},o),{targetSnapshot:c,urlAfterRedirects:l}))))}function ZO(t,e){return De(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return V(n);let s=new Set(i.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let u of xb(l))o.add(u);let c=0;return Re(o).pipe(Vr(l=>s.has(l)?XO(l,r,t,e):(l.data=Ru(l,l.parent,t).resolve,V(void 0))),Ge(()=>c++),qi(1),De(l=>c===o.size?V(n):It))})}function xb(t){let e=t.children.map(n=>xb(n)).flat();return[t,...e]}function XO(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Sb(i)&&(s[fa]=i.title),JO(s,t,e,r).pipe(J(o=>(t._resolvedData=o,t.data=Ru(t,t.parent,n).resolve,null)))}function JO(t,e,n,r){let i=zp(t);if(i.length===0)return V({});let s={};return Re(i).pipe(De(o=>eL(t[o],e,n,r).pipe(xn(),Ge(c=>{if(c instanceof vs)throw Du(new Jr,c);s[o]=c}))),qi(1),J(()=>s),cr(o=>Nb(o)?It:Bi(o)))}function eL(t,e,n,r){let i=ga(e)??r,s=Es(t,i),o=s.resolve?s.resolve(e,n):mt(i,()=>s(e,n));return _r(o)}function Hp(t){return bt(e=>{let n=t(e);return n?Re(n).pipe(J(()=>e)):V(e)})}var og=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===z);return r}getResolvedTitleForRoute(n){return n.data[fa]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:()=>k(Ob),providedIn:"root"})}return t})(),Ob=(()=>{class t extends og{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(U(cu))};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),va=new O("",{providedIn:"root",factory:()=>({})}),wa=new O(""),Lb=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=k(RT);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return V(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=_r(n.loadComponent()).pipe(J(Vb),Ge(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),bo(()=>{this.componentLoaders.delete(n)})),i=new Vi(r,()=>new xe).pipe(Fi());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return V({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=Fb(r,this.compiler,n,this.onLoadEndListener).pipe(bo(()=>{this.childrenLoaders.delete(r)})),o=new Vi(s,()=>new xe).pipe(Fi());return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Fb(t,e,n,r){return _r(t.loadChildren()).pipe(J(Vb),De(i=>i instanceof bp||Array.isArray(i)?V(i):Re(e.compileModuleAsync(i))),J(i=>{r&&r(t);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(n).injector,o=s.get(wa,[],{optional:!0,self:!0}).flat()),{routes:o.map(sg),injector:s}}))}function tL(t){return t&&typeof t=="object"&&"default"in t}function Vb(t){return tL(t)?t.default:t}var xu=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:()=>k(nL),providedIn:"root"})}return t})(),nL=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ub=new O("");var jb=new O(""),$b=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new xe;transitionAbortSubject=new xe;configLoader=k(Lb);environmentInjector=k(Ct);destroyRef=k(zo);urlSerializer=k(pa);rootContexts=k(Is);location=k(us);inputBindingEnabled=k(Pu,{optional:!0})!==null;titleStrategy=k(og);options=k(va,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=k(xu);createViewTransition=k(Ub,{optional:!0});navigationErrorHandler=k(jb,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>V(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Iu(i)),r=i=>this.events.next(new Eu(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(he(x({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new We(null),this.transitions.pipe(Tt(r=>r!==null),bt(r=>{let i=!1,s=!1;return V(r).pipe(bt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Rt.SupersededByNewNavigation),It;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?he(x({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&l!=="reload"){let u="";return this.events.next(new $n(o.id,this.urlSerializer.serialize(o.rawUrl),u,sa.IgnoredSameUrlNavigation)),o.resolve(!1),It}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return V(o).pipe(bt(u=>(this.events.next(new ei(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?It:Promise.resolve(u))),YO(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ge(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=he(x({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let f=new oa(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:f,source:p,restoredState:m,extras:y}=o,C=new ei(u,this.urlSerializer.serialize(f),p,m);this.events.next(C);let D=Tb(this.rootComponentType).snapshot;return this.currentTransition=r=he(x({},o),{targetSnapshot:D,urlAfterRedirects:f,extras:he(x({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,V(r)}else{let u="";return this.events.next(new $n(o.id,this.urlSerializer.serialize(o.extractedUrl),u,sa.IgnoredByUrlHandlingStrategy)),o.resolve(!1),It}}),Ge(o=>{let c=new yu(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(c)}),J(o=>(this.currentTransition=r=he(x({},o),{guards:mO(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),AO(this.environmentInjector,o=>this.events.next(o)),Ge(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Du(this.urlSerializer,o.guardsResult);let c=new _u(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(c)}),Tt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Rt.GuardRejected),!1)),Hp(o=>{if(o.guards.canActivateChecks.length!==0)return V(o).pipe(Ge(c=>{let l=new vu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),bt(c=>{let l=!1;return V(c).pipe(ZO(this.paramsInheritanceStrategy,this.environmentInjector),Ge({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(c,"",Rt.NoDataFromResolver)}}))}),Ge(c=>{let l=new wu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}))}),Hp(o=>{let c=l=>{let u=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(l.routeConfig).pipe(Ge(f=>{l.component=f}),J(()=>{})));for(let f of l.children)u.push(...c(f));return u};return rl(c(o.targetSnapshot.root)).pipe(lr(null),Mn(1))}),Hp(()=>this.afterPreactivation()),bt(()=>{let{currentSnapshot:o,targetSnapshot:c}=r,l=this.createViewTransition?.(this.environmentInjector,o.root,c.root);return l?Re(l).pipe(J(()=>r)):V(r)}),J(o=>{let c=dO(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=he(x({},o),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,r}),Ge(()=>{this.events.next(new aa)}),gO(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Mn(1),Ge({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new jn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Kh(this.transitionAbortSubject.pipe(Ge(o=>{throw o}))),bo(()=>{!i&&!s&&this.cancelNavigationTransition(r,"",Rt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),cr(o=>{if(this.destroyed)return r.resolve(!1),It;if(s=!0,Db(o))this.events.next(new yn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),pO(o)?this.events.next(new _s(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let c=new ms(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let l=mt(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(l instanceof vs){let{message:u,cancellationCode:f}=Du(this.urlSerializer,l);this.events.next(new yn(r.id,this.urlSerializer.serialize(r.extractedUrl),u,f)),this.events.next(new _s(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(c),o}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return It}))}))}cancelNavigationTransition(n,r,i){let s=new yn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rL(t){return t!==pu}var Bb=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:()=>k(iL),providedIn:"root"})}return t})(),ku=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},iL=(()=>{class t extends ku{static \u0275fac=(()=>{let n;return function(i){return(n||(n=np(t)))(i||t)}})();static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Hb=(()=>{class t{urlSerializer=k(pa);options=k(va,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=k(us);urlHandlingStrategy=k(xu);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new _n;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let s=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,o=i??s;return o instanceof _n?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=Tb(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:()=>k(sL),providedIn:"root"})}return t})(),sL=(()=>{class t extends Hb{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof ei?this.updateStateMemento():n instanceof $n?this.commitTransition(r):n instanceof oa?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof aa?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof yn&&(n.code===Rt.GuardRejected||n.code===Rt.NoDataFromResolver)?this.restoreHistory(r):n instanceof ms?this.restoreHistory(r,!0):n instanceof jn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:s,state:o}=r;if(this.location.isCurrentPathEqualTo(n)||s){let c=this.browserPageId,l=x(x({},o),this.generateNgRouterState(i,c));this.location.replaceState(n,"",l)}else{let c=x(x({},o),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",c)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===n.finalUrl&&s===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=np(t)))(i||t)}})();static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ag(t,e){t.events.pipe(Tt(n=>n instanceof jn||n instanceof yn||n instanceof ms||n instanceof $n),J(n=>n instanceof jn||n instanceof $n?0:(n instanceof yn?n.code===Rt.Redirect||n.code===Rt.SupersededByNewNavigation:!1)?2:1),Tt(n=>n!==2),Mn(1)).subscribe(()=>{e()})}var oL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ts=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=k(IT);stateManager=k(Hb);options=k(va,{optional:!0})||{};pendingTasks=k(Kr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=k($b);urlSerializer=k(pa);location=k(us);urlHandlingStrategy=k(xu);_events=new xe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=k(Bb);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=k(wa,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!k(Pu,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ae;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof yn&&r.code!==Rt.Redirect&&r.code!==Rt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof jn)this.navigated=!0;else if(r instanceof _s){let o=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=x({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||rL(i.source)},o);this.scheduleNavigation(c,pu,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}lL(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),pu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let l=x({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(sg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:o,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=x(x({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=vb(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return wb(p,n,f,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=gs(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,pu,null,r)}navigate(n,r={skipLocationChange:!1}){return cL(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=x({},oL):r===!1?i=x({},aL):i=r,gs(n))return eb(this.currentUrlTree,n,i);let s=this.parseUrl(n);return eb(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,l,u;o?(c=o.resolve,l=o.reject,u=o.promise):u=new Promise((p,m)=>{c=p,l=m});let f=this.pendingTasks.add();return ag(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function cL(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new L(4008,!1)}function lL(t){return!(t instanceof aa)&&!(t instanceof _s)}var dL=new O("");function cg(t,...e){return Ke([{provide:wa,multi:!0,useValue:t},[],{provide:yr,useFactory:hL,deps:[Ts]},{provide:Sp,multi:!0,useFactory:fL},e.map(n=>n.\u0275providers)])}function hL(t){return t.routerState.root}function fL(){let t=k(ve);return e=>{let n=t.get(zr);if(e!==n.components[0])return;let r=t.get(Ts),i=t.get(pL);t.get(gL)===1&&r.initialNavigation(),t.get(mL,null,W.Optional)?.setUpPreloading(),t.get(dL,null,W.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var pL=new O("",{factory:()=>new xe}),gL=new O("",{providedIn:"root",factory:()=>1});var mL=new O("");var qb=[];var zb=()=>{};var ug={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var M=function(t,e){if(!t)throw ti(e)},ti=function(t){return new Error("Firebase Database ("+ug.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var Kb=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},vL=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],c=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Cs={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,c=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,f=s>>2,p=(s&3)<<4|c>>4,m=(c&15)<<2|u>>6,y=u&63;l||(y=64,o||(m=64)),r.push(n[f],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Kb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||u==null||p==null)throw new dg;let m=s<<2|c>>4;if(r.push(m),u!==64){let y=c<<4&240|u>>2;if(r.push(y),p!==64){let C=u<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},dg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},fg=function(t){let e=Kb(t);return Cs.encodeByteArray(e,!0)},Ea=function(t){return fg(t).replace(/\./g,"")},bs=function(t){try{return Cs.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Qb(t){return Yb(void 0,t)}function Yb(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!wL(n)||(t[n]=Yb(t[n],e[n]));return t}function wL(t){return t!=="__proto__"}function pg(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var IL=()=>pg().__FIREBASE_DEFAULTS__,EL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},TL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&bs(t[1]);return e&&JSON.parse(e)},gg=()=>{try{return zb()||IL()||EL()||TL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mg=t=>{var e,n;return(n=(e=gg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},As=t=>{let e=mg(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yg=()=>{var t;return(t=gg())===null||t===void 0?void 0:t.config},_g=t=>{var e;return(e=gg())===null||e===void 0?void 0:e[`_${t}`]};var vn=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Gt(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}function vr(t){return I(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function Rs(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ea(JSON.stringify(n)),Ea(JSON.stringify(o)),""].join(".")}var Ia={};function bL(){let t={prod:[],emulator:[]};for(let e of Object.keys(Ia))Ia[e]?t.emulator.push(e):t.prod.push(e);return t}function SL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var Wb=!1;function wr(t,e){if(typeof window>"u"||typeof document>"u"||!Gt(window.location.host)||Ia[t]===e||Ia[t]||Wb)return;Ia[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",s=bL().prod.length>0;function o(){let m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Wb=!0,o()},m}function f(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=SL(r),y=n("text"),C=document.getElementById(y)||document.createElement("span"),D=n("learnmore"),N=document.getElementById(D)||document.createElement("a"),j=n("preprendIcon"),G=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let X=m.element;c(X),f(N,D);let me=u();l(G,j),X.append(G,C,N,me),document.body.appendChild(X)}s?(C.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Ye(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ta(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function Zb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ba(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Lu(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xb(){let t=Ye();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wn(){return ug.NODE_CLIENT===!0||ug.NODE_ADMIN===!0}function In(){try{return typeof indexedDB=="object"}catch{return!1}}function ni(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function Sa(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var CL="FirebaseError",Fe=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=CL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qe.prototype.create)}},Qe=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?AL(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Fe(i,c,r)}};function AL(t,e){return t.replace(RL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var RL=/\{\$([^}]+)}/g;function Ss(t){return JSON.parse(t)}function $e(t){return JSON.stringify(t)}var Jb=function(t){let e={},n={},r={},i="";try{let s=t.split(".");e=Ss(bs(s[0])||""),n=Ss(bs(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var eS=function(t){let e=Jb(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},tS=function(t){let e=Jb(t).claims;return typeof e=="object"&&e.admin===!0};function En(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ri(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Ca(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Aa(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Dt(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(Gb(s)&&Gb(o)){if(!Dt(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function Gb(t){return t!==null&&typeof t=="object"}function ii(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var Ou=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)r[p]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let p=0;p<16;p++)r[p]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let p=16;p<80;p++){let m=r[p-3]^r[p-8]^r[p-14]^r[p-16];r[p]=(m<<1|m>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],c=this.chain_[3],l=this.chain_[4],u,f;for(let p=0;p<80;p++){p<40?p<20?(u=c^s&(o^c),f=1518500249):(u=s^o^c,f=1859775393):p<60?(u=s&o|c&(s|o),f=2400959708):(u=s^o^c,f=3395469782);let m=(i<<5|i>>>27)+u+l+f+r[p]&4294967295;l=c,c=o,o=(s<<30|s>>>2)&4294967295,s=i,i=m}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function nS(t,e){let n=new hg(t,e);return n.subscribe.bind(n)}var hg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");DL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=lg),i.error===void 0&&(i.error=lg),i.complete===void 0&&(i.complete=lg);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function DL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function lg(){}function rS(t,e){return`${t} failed: ${e} argument `}var iS=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,M(r<t.length,"Surrogate pair missing trail surrogate.");let o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Ra=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var NL=1e3,kL=2,PL=4*60*60*1e3,ML=.5;function Fu(t,e=NL,n=kL){let r=e*Math.pow(n,t),i=Math.round(ML*r*(Math.random()-.5)*2);return Math.min(PL,r+i)}function Ne(t){return t&&t._delegate?t._delegate:t}var pe=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var si="[DEFAULT]";var Vu=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new vn;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OL(e))try{this.getOrInitializeService({instanceIdentifier:si})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=si){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return I(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=si){return this.instances.has(e)}getOptions(e=si){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=si){return this.component?this.component.multipleInstances?e:si:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function xL(t){return t===si?void 0:t}function OL(t){return t.instantiationMode==="EAGER"}var Da=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Vu(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var LL=[],le=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(le||{}),FL={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},VL=le.INFO,UL={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},jL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=UL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Nt=class{constructor(e){this.name=e,this._logLevel=VL,this._logHandler=jL,this._userLogHandler=null,LL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}};var $L=(t,e)=>e.some(n=>t instanceof n),sS,oS;function BL(){return sS||(sS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HL(){return oS||(oS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var aS=new WeakMap,wg=new WeakMap,cS=new WeakMap,vg=new WeakMap,Eg=new WeakMap;function qL(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(an(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&aS.set(n,t)}).catch(()=>{}),Eg.set(e,t),e}function zL(t){if(wg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});wg.set(t,e)}var Ig={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return an(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lS(t){Ig=t(Ig)}function WL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Uu(this),e,...n);return cS.set(r,e.sort?e.sort():[e]),an(r)}:HL().includes(t)?function(...e){return t.apply(Uu(this),e),an(aS.get(this))}:function(...e){return an(t.apply(Uu(this),e))}}function GL(t){return typeof t=="function"?WL(t):(t instanceof IDBTransaction&&zL(t),$L(t,BL())?new Proxy(t,Ig):t)}function an(t){if(t instanceof IDBRequest)return qL(t);if(vg.has(t))return vg.get(t);let e=GL(t);return e!==t&&(vg.set(t,e),Eg.set(e,t)),e}var Uu=t=>Eg.get(t);function oi(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),c=an(o);return r&&o.addEventListener("upgradeneeded",l=>{r(an(o.result),l.oldVersion,l.newVersion,an(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),c.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}function ju(t,{blocked:e}={}){let n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),an(n).then(()=>{})}var KL=["get","getKey","getAll","getAllKeys","count"],QL=["put","add","delete","clear"],Tg=new Map;function uS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Tg.get(e))return Tg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=QL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||KL.includes(n)))return;let s=function(o,...c){return I(this,null,function*(){let l=this.transaction(o,i?"readwrite":"readonly"),u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]})};return Tg.set(e,s),s}lS(t=>he(x({},t),{get:(e,n,r)=>uS(e,n)||t.get(e,n,r),has:(e,n)=>!!uS(e,n)||t.has(e,n)}));var Sg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YL(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function YL(t){let e=t.getComponent();return e?.type==="VERSION"}var Cg="@firebase/app",dS="0.13.2";var Bn=new Nt("@firebase/app"),ZL="@firebase/app-compat",XL="@firebase/analytics-compat",JL="@firebase/analytics",eF="@firebase/app-check-compat",tF="@firebase/app-check",nF="@firebase/auth",rF="@firebase/auth-compat",iF="@firebase/database",sF="@firebase/data-connect",oF="@firebase/database-compat",aF="@firebase/functions",cF="@firebase/functions-compat",lF="@firebase/installations",uF="@firebase/installations-compat",dF="@firebase/messaging",hF="@firebase/messaging-compat",fF="@firebase/performance",pF="@firebase/performance-compat",gF="@firebase/remote-config",mF="@firebase/remote-config-compat",yF="@firebase/storage",_F="@firebase/storage-compat",vF="@firebase/firestore",wF="@firebase/ai",IF="@firebase/firestore-compat",EF="firebase",TF="11.10.0";var Ag="[DEFAULT]",bF={[Cg]:"fire-core",[ZL]:"fire-core-compat",[JL]:"fire-analytics",[XL]:"fire-analytics-compat",[tF]:"fire-app-check",[eF]:"fire-app-check-compat",[nF]:"fire-auth",[rF]:"fire-auth-compat",[iF]:"fire-rtdb",[sF]:"fire-data-connect",[oF]:"fire-rtdb-compat",[aF]:"fire-fn",[cF]:"fire-fn-compat",[lF]:"fire-iid",[uF]:"fire-iid-compat",[dF]:"fire-fcm",[hF]:"fire-fcm-compat",[fF]:"fire-perf",[pF]:"fire-perf-compat",[gF]:"fire-rc",[mF]:"fire-rc-compat",[yF]:"fire-gcs",[_F]:"fire-gcs-compat",[vF]:"fire-fst",[IF]:"fire-fst-compat",[wF]:"fire-vertex","fire-js":"fire-js",[EF]:"fire-js-all"};var Na=new Map,SF=new Map,Rg=new Map;function hS(t,e){try{t.container.addComponent(e)}catch(n){Bn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function be(t){let e=t.name;if(Rg.has(e))return Bn.debug(`There were multiple attempts to register component ${e}.`),!1;Rg.set(e,t);for(let n of Na.values())hS(n,t);for(let n of SF.values())hS(n,t);return!0}function Be(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function it(t){return t==null?!1:t.settings!==void 0}var CF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ir=new Qe("app","Firebase",CF);var Dg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pe("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}};var Kt=TF;function Pg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Ag,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ir.create("bad-app-name",{appName:String(i)});if(n||(n=yg()),!n)throw Ir.create("no-options");let s=Na.get(i);if(s){if(Dt(n,s.options)&&Dt(r,s.config))return s;throw Ir.create("duplicate-app",{appName:i})}let o=new Da(i);for(let l of Rg.values())o.addComponent(l);let c=new Dg(n,r,o);return Na.set(i,c),c}function st(t=Ag){let e=Na.get(t);if(!e&&t===Ag&&yg())return Pg();if(!e)throw Ir.create("no-app",{appName:t});return e}function $u(){return Array.from(Na.values())}function $(t,e,n){var r;let i=(r=bF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bn.warn(c.join(" "));return}be(new pe(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var AF="firebase-heartbeat-database",RF=1,ka="firebase-heartbeat-store",bg=null;function mS(){return bg||(bg=oi(AF,RF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ka)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ir.create("idb-open",{originalErrorMessage:t.message})})),bg}function DF(t){return I(this,null,function*(){try{let n=(yield mS()).transaction(ka),r=yield n.objectStore(ka).get(yS(t));return yield n.done,r}catch(e){if(e instanceof Fe)Bn.warn(e.message);else{let n=Ir.create("idb-get",{originalErrorMessage:e?.message});Bn.warn(n.message)}}})}function fS(t,e){return I(this,null,function*(){try{let r=(yield mS()).transaction(ka,"readwrite");yield r.objectStore(ka).put(e,yS(t)),yield r.done}catch(n){if(n instanceof Fe)Bn.warn(n.message);else{let r=Ir.create("idb-set",{originalErrorMessage:n?.message});Bn.warn(r.message)}}})}function yS(t){return`${t.name}!${t.options.appId}`}var NF=1024,kF=30,Ng=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new kg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return I(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=pS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>kF){let o=MF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Bn.warn(r)}})}getHeartbeatsHeader(){return I(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=pS(),{heartbeatsToSend:r,unsentEntries:i}=PF(this._heartbeatsCache.heartbeats),s=Ea(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Bn.warn(n),""}})}};function pS(){return new Date().toISOString().substring(0,10)}function PF(t,e=NF){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),gS(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),gS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var kg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(this,null,function*(){return In()?ni().then(()=>!0).catch(()=>!1):!1})}read(){return I(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield DF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return fS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return fS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function gS(t){return Ea(JSON.stringify({version:2,heartbeats:t})).length}function MF(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function xF(t){be(new pe("platform-logger",e=>new Sg(e),"PRIVATE")),be(new pe("heartbeat",e=>new Ng(e),"PRIVATE")),$(Cg,dS,t),$(Cg,dS,"esm2017"),$("fire-js","")}xF("");var OF="firebase",LF="11.10.0";$(OF,LF,"app");function Mg(t){t===void 0&&(MI(Mg),t=k(ve));let e=t.get(Hl);return n=>new Z(r=>{let i=e.add(),s=!1;function o(){s||(i(),s=!0)}let c=n.subscribe({next:l=>{r.next(l),o()},complete:()=>{r.complete(),o()},error:l=>{r.error(l),o()}});return c.add(()=>{r.unsubscribe(),o()}),c})}var He=new jo("ANGULARFIRE2_VERSION");function jt(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var kt=(t,e)=>{let n=e?[e]:$u(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Ds=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(Ds||{}),_S=Rp()&&typeof Zone<"u"?Ds.WARN:Ds.SILENT;var Bu=class{zone;delegate;constructor(e,n=jh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i?i.runGuarded(()=>{e.apply(this,[o])}):e.apply(this,[o])};return this.delegate.schedule(s,n,r)}},ot=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=k(Y);this.outsideAngular=n.runOutsideAngular(()=>new Bu(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Bu(typeof Zone>"u"?void 0:Zone.current,Uh))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),vS=!1;function FF(t,e){!vS&&(_S>Ds.SILENT||Rp())&&(vS=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),_S>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function VF(t){let e=k(Y,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function ai(t){let e=k(Y,{optional:!0});return e?e.run(()=>t()):t()}var UF=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),mt(n,()=>ai(()=>t.apply(void 0,r)))),Ve=(t,e,n)=>(n||=e?Ds.WARN:Ds.VERBOSE,function(){let r,i=arguments,s,o,c;try{s=k(ot),o=k(Hl),c=k(Ct)}catch{return FF(t,n),t.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=ai(()=>o.add())),i[u]=UF(i[u],r,c));let l=VF(()=>t.apply(this,i));return e?l instanceof Z?l.pipe(ar(s.outsideAngular),or(s.insideAngular),Mg(c)):l instanceof Promise?ai(()=>new Promise((u,f)=>{o.run(()=>l).then(p=>mt(c,()=>ai(()=>u(p))),p=>mt(c,()=>ai(()=>f(p))))})):typeof l=="function"&&r?function(){return setTimeout(r,0),l.apply(this,arguments)}:ai(()=>l):l instanceof Z?l.pipe(ar(s.outsideAngular),or(s.insideAngular)):ai(()=>l)});var Ze=class{constructor(e){return e}},_t=class{constructor(){return $u()}};function jF(t){return t&&t.length===1?t[0]:new Ze(st())}var xg=new O("angularfire2._apps"),$F={provide:Ze,useFactory:jF,deps:[[new fe,xg]]},BF={provide:_t,deps:[[new fe,xg]]};function HF(t){return(e,n)=>{let r=n.get(Ft);$("angularfire",He.full,"core"),$("angularfire",He.full,"app"),$("angular",AT.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Ze(i)}}function wS(t,...e){return Ke([$F,BF,{provide:xg,useFactory:HF(t),multi:!0,deps:[Y,ve,ot,...e]}])}var IS=Ve(Pg,!0);var qF=new Map,zF={activated:!1,tokenObservers:[]},WF={initialized:!1,enabled:!1};function cn(t){return qF.get(t)||Object.assign({},zF)}function SS(){return WF}var GF="https://content-firebaseappcheck.googleapis.com/v1";var KF="exchangeDebugToken",ES={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},eQ=24*60*60*1e3;var Fg=class{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return I(this,null,function*(){this.stop();try{this.pending=new vn,this.pending.promise.catch(n=>{}),yield QF(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new vn,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function QF(t){return new Promise(e=>{setTimeout(e,t)})}var YF={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Er=new Qe("appCheck","AppCheck",YF);function CS(t){if(!cn(t).activated)throw Er.create("use-before-activation",{appName:t.name})}function AS(r,i){return I(this,arguments,function*({url:t,body:e},n){let s={"Content-Type":"application/json"},o=n.getImmediate({optional:!0});if(o){let y=yield o.getHeartbeatsHeader();y&&(s["X-Firebase-Client"]=y)}let c={method:"POST",body:JSON.stringify(e),headers:s},l;try{l=yield fetch(t,c)}catch(y){throw Er.create("fetch-network-error",{originalErrorMessage:y?.message})}if(l.status!==200)throw Er.create("fetch-status-error",{httpStatus:l.status});let u;try{u=yield l.json()}catch(y){throw Er.create("fetch-parse-error",{originalErrorMessage:y?.message})}let f=u.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw Er.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let p=Number(f[1])*1e3,m=Date.now();return{token:u.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function RS(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${GF}/projects/${n}/apps/${r}:${KF}?key=${i}`,body:{debug_token:e}}}var ZF="firebase-app-check-database",XF=1,Vg="firebase-app-check-store";var Hu=null;function JF(){return Hu||(Hu=new Promise((t,e)=>{try{let n=indexedDB.open(ZF,XF);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Er.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Vg,{keyPath:"compositeKey"})}}}catch(n){e(Er.create("storage-open",{originalErrorMessage:n?.message}))}}),Hu)}function e2(t,e){return t2(n2(t),e)}function t2(t,e){return I(this,null,function*(){let r=(yield JF()).transaction(Vg,"readwrite"),s=r.objectStore(Vg).put({compositeKey:t,value:e});return new Promise((o,c)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;c(Er.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})})}function n2(t){return`${t.options.appId}-${t.name}`}var Pa=new Nt("@firebase/app-check");function Og(t,e){return In()?e2(t,e).catch(n=>{Pa.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function DS(){return SS().enabled}function NS(){return I(this,null,function*(){let t=SS();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var r2={error:"UNKNOWN_ERROR"};function i2(t){return Cs.encodeString(JSON.stringify(t),!1)}function Ug(t,e=!1,n=!1){return I(this,null,function*(){let r=t.app;CS(r);let i=cn(r),s=i.token,o;if(s&&!Ma(s)&&(i.token=void 0,s=void 0),!s){let u=yield i.cachedTokenPromise;u&&(Ma(u)?s=u:yield Og(r,void 0))}if(!e&&s&&Ma(s))return{token:s.token};let c=!1;if(DS())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=AS(RS(r,yield NS()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let u=yield i.exchangeTokenPromise;return yield Og(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Pa.warn(u.message):n&&Pa.error(u),Lg(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),s=yield cn(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Pa.warn(u.message):n&&Pa.error(u),o=u}let l;return s?o?Ma(s)?l={token:s.token,internalError:o}:l=Lg(o):(l={token:s.token},i.token=s,yield Og(r,s)):l=Lg(o),c&&c2(r,l),l})}function s2(t){return I(this,null,function*(){let e=t.app;CS(e);let{provider:n}=cn(e);if(DS()){let r=yield NS(),{token:i}=yield AS(RS(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function o2(t,e,n,r){let{app:i}=t,s=cn(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Ma(s.token)){let c=s.token;Promise.resolve().then(()=>{n({token:c.token}),TS(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>TS(t))}function kS(t,e){let n=cn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function TS(t){let{app:e}=t,n=cn(e),r=n.tokenRefresher;r||(r=a2(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function a2(t){let{app:e}=t;return new Fg(()=>I(null,null,function*(){let n=cn(e),r;if(n.token?r=yield Ug(t,!0):r=yield Ug(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=cn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},ES.RETRIAL_MIN_WAIT,ES.RETRIAL_MAX_WAIT)}function c2(t,e){let n=cn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Ma(t){return t.expireTimeMillis-Date.now()>0}function Lg(t){return{token:i2(r2),error:t}}var jg=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=cn(this.app);for(let n of e)kS(this.app,n.next);return Promise.resolve()}};function l2(t,e){return new jg(t,e)}function u2(t){return{getToken:e=>Ug(t,e),getLimitedUseToken:()=>s2(t),addTokenListener:e=>o2(t,"INTERNAL",e),removeTokenListener:e=>kS(t.app,e)}}var d2="@firebase/app-check",h2="0.10.1";var f2="app-check",bS="app-check-internal";function p2(){be(new pe(f2,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return l2(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(bS).initialize()})),be(new pe(bS,t=>{let e=t.getProvider("app-check").getImmediate();return u2(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),$(d2,h2)}p2();var g2="app-check";var Tn=class{constructor(){return kt(g2)}};var m2=["localhost","0.0.0.0","127.0.0.1"],fQ=typeof window<"u"&&m2.includes(window.location.hostname);function WS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var GS=WS,KS=new Qe("auth","Firebase",WS());var Qu=new Nt("@firebase/auth");function y2(t,...e){Qu.logLevel<=le.WARN&&Qu.warn(`Auth (${Kt}): ${t}`,...e)}function zu(t,...e){Qu.logLevel<=le.ERROR&&Qu.error(`Auth (${Kt}): ${t}`,...e)}function Sr(t,...e){throw om(t,...e)}function li(t,...e){return om(t,...e)}function QS(t,e,n){let r=Object.assign(Object.assign({},GS()),{[e]:n});return new Qe("auth","Firebase",r).create(e,{appName:t.name})}function ci(t){return QS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function om(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return KS.create(t,...e)}function B(t,e,...n){if(!t)throw om(e,...n)}function Hn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw zu(e),new Error(e)}function Cr(t,e){t||Hn(e)}function qg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _2(){return PS()==="http:"||PS()==="https:"}function PS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function v2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_2()||ba()||"connection"in navigator)?navigator.onLine:!0}function w2(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ui=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Cr(n>e,"Short delay should be less than long delay!"),this.isMobile=Ta()||Lu()}get(){return v2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function am(t,e){Cr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Yu=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var I2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var E2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],T2=new ui(3e4,6e4);function cm(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ns(s,o,c,l){return I(this,arguments,function*(t,e,n,r,i={}){return YS(t,i,()=>I(null,null,function*(){let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});let p=ii(Object.assign({key:t.config.apiKey},f)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},u);return Zb()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&Gt(t.emulatorConfig.host)&&(y.credentials="include"),Yu.fetch()(yield ZS(t,t.config.apiHost,n,p),y)}))})}function YS(t,e,n){return I(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},I2),e);try{let i=new zg(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw qu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[l,u]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw qu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw qu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw qu(t,"user-disabled",o);let f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw QS(t,f,u);Sr(t,f)}}catch(i){if(i instanceof Fe)throw i;Sr(t,"network-request-failed",{message:String(i)})}})}function b2(s,o,c,l){return I(this,arguments,function*(t,e,n,r,i={}){let u=yield Ns(t,e,n,r,i);return"mfaPendingCredential"in u&&Sr(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function ZS(t,e,n,r){return I(this,null,function*(){let i=`${e}${n}?${r}`,s=t,o=s.config.emulator?am(t.config,i):`${t.config.apiScheme}://${i}`;return E2.includes(n)&&(yield s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o})}var zg=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(li(this.auth,"network-request-failed")),T2.get())})}};function qu(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=li(t,e,r);return i.customData._tokenResponse=n,i}function S2(t,e){return I(this,null,function*(){return Ns(t,"POST","/v1/accounts:delete",e)})}function Zu(t,e){return I(this,null,function*(){return Ns(t,"POST","/v1/accounts:lookup",e)})}function xa(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function lm(t,e=!1){return I(this,null,function*(){let n=Ne(t),r=yield n.getIdToken(e),i=um(r);B(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:xa($g(i.auth_time)),issuedAtTime:xa($g(i.iat)),expirationTime:xa($g(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function $g(t){return Number(t)*1e3}function um(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return zu("JWT malformed, contained fewer than 3 sections"),null;try{let i=bs(n);return i?JSON.parse(i):(zu("Failed to decode base64 JWT payload"),null)}catch(i){return zu("Caught error parsing JWT payload as JSON",i?.toString()),null}}function MS(t){let e=um(t);return B(e,"internal-error"),B(typeof e.exp<"u","internal-error"),B(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function La(t,e,n=!1){return I(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Fe&&C2(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function C2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Wg=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>I(this,null,function*(){yield this.iteration()}),n)}iteration(){return I(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Fa=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xa(this.lastLoginAt),this.creationTime=xa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Xu(t){return I(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield La(t,Zu(n,{idToken:r}));B(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?XS(s.providerUserInfo):[],c=A2(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!c?.length,f=l?u:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Fa(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,p)})}function dm(t){return I(this,null,function*(){let e=Ne(t);yield Xu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function A2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function XS(t){return t.map(e=>{var{providerId:n}=e,r=$h(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function R2(t,e){return I(this,null,function*(){let n=yield YS(t,{},()=>I(null,null,function*(){let r=ii({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=yield ZS(t,i,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let l={method:"POST",headers:c,body:r};return t.emulatorConfig&&Gt(t.emulatorConfig.host)&&(l.credentials="include"),Yu.fetch()(o,l)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function D2(t,e){return I(this,null,function*(){return Ns(t,"POST","/v2/accounts:revokeToken",cm(t,e))})}var Oa=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){B(e.idToken,"internal-error"),B(typeof e.idToken<"u","internal-error"),B(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):MS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){B(e.length!==0,"internal-error");let n=MS(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return I(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(B(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return I(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield R2(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(B(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(B(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(B(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Hn("not implemented")}};function Tr(t,e){B(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var br=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=$h(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Fa(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return I(this,null,function*(){let n=yield La(this,this.stsTokenManager.getToken(this.auth,e));return B(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return lm(this,e)}reload(){return dm(this)}_assign(e){this!==e&&(B(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){B(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return I(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Xu(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return I(this,null,function*(){if(it(this.auth.app))return Promise.reject(ci(this.auth));let e=yield this.getIdToken();return yield La(this,S2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,c,l,u,f;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,C=(o=n.photoURL)!==null&&o!==void 0?o:void 0,D=(c=n.tenantId)!==null&&c!==void 0?c:void 0,N=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,j=(u=n.createdAt)!==null&&u!==void 0?u:void 0,G=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:X,emailVerified:me,isAnonymous:Ht,providerData:Ue,stsTokenManager:b}=n;B(X&&b,e,"internal-error");let _=Oa.fromJSON(this.name,b);B(typeof X=="string",e,"internal-error"),Tr(p,e.name),Tr(m,e.name),B(typeof me=="boolean",e,"internal-error"),B(typeof Ht=="boolean",e,"internal-error"),Tr(y,e.name),Tr(C,e.name),Tr(D,e.name),Tr(N,e.name),Tr(j,e.name),Tr(G,e.name);let w=new t({uid:X,auth:e,email:m,emailVerified:me,displayName:p,isAnonymous:Ht,photoURL:C,phoneNumber:y,tenantId:D,stsTokenManager:_,createdAt:j,lastLoginAt:G});return Ue&&Array.isArray(Ue)&&(w.providerData=Ue.map(E=>Object.assign({},E))),N&&(w._redirectEventId=N),w}static _fromIdTokenResponse(e,n,r=!1){return I(this,null,function*(){let i=new Oa;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Xu(s),s})}static _fromGetAccountInfoResponse(e,n,r){return I(this,null,function*(){let i=n.users[0];B(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?XS(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new Oa;c.updateFromIdToken(r);let l=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Fa(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,u),l})}};var xS=new Map;function qn(t){Cr(t instanceof Function,"Expected a class definition");let e=xS.get(t);return e?(Cr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,xS.set(t,e),e)}var N2=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return I(this,null,function*(){return!0})}_set(n,r){return I(this,null,function*(){this.storage[n]=r})}_get(n){return I(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return I(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Gg=N2;function Wu(t,e,n){return`firebase:${t}:${e}:${n}`}var Ju=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Wu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Wu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return I(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield Zu(this.auth,{idToken:e}).catch(()=>{});return n?br._fromGetAccountInfoResponse(this.auth,n,e):null}return br._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return I(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return I(this,null,function*(){if(!n.length)return new t(qn(Gg),e,r);let i=(yield Promise.all(n.map(u=>I(null,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||qn(Gg),o=Wu(r,e.config.apiKey,e.name),c=null;for(let u of n)try{let f=yield u._get(o);if(f){let p;if(typeof f=="string"){let m=yield Zu(e,{idToken:f}).catch(()=>{});if(!m)break;p=yield br._fromGetAccountInfoResponse(e,m,f)}else p=br._fromJSON(e,f);u!==s&&(c=p),s=u;break}}catch{}let l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new t(s,e,r):(s=l[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(n.map(u=>I(null,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function OS(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iC(e))return"Blackberry";if(sC(e))return"Webos";if(eC(e))return"Safari";if((e.includes("chrome/")||tC(e))&&!e.includes("edge/"))return"Chrome";if(rC(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function JS(t=Ye()){return/firefox\//i.test(t)}function eC(t=Ye()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tC(t=Ye()){return/crios\//i.test(t)}function nC(t=Ye()){return/iemobile/i.test(t)}function rC(t=Ye()){return/android/i.test(t)}function iC(t=Ye()){return/blackberry/i.test(t)}function sC(t=Ye()){return/webos/i.test(t)}function hm(t=Ye()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function k2(t=Ye()){var e;return hm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function P2(){return Xb()&&document.documentMode===10}function oC(t=Ye()){return hm(t)||rC(t)||sC(t)||iC(t)||/windows phone/i.test(t)||nC(t)}function aC(t,e=[]){let n;switch(t){case"Browser":n=OS(Ye());break;case"Worker":n=`${OS(Ye())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Kt}/${r}`}var Kg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,c)=>{try{let l=e(s);o(l)}catch(l){c(l)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return I(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function M2(n){return I(this,arguments,function*(t,e={}){return Ns(t,"GET","/v2/passwordPolicy",cm(t,e))})}var x2=6,Qg=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:x2,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,c;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(c=l.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),l}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Yg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ed(this),this.idTokenSubscription=new ed(this),this.beforeStateQueue=new Kg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qn(n)),this._initializationPromise=this.queue(()=>I(this,null,function*(){var r,i,s;if(!this._deleted&&(this.persistenceManager=yield Ju.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return I(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return I(this,null,function*(){try{let n=yield Zu(this,{idToken:e}),r=yield br._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return I(this,null,function*(){var n;if(it(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!o||o===c)&&l?.user&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return B(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return I(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return I(this,null,function*(){try{yield Xu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=w2()}_delete(){return I(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return I(this,null,function*(){if(it(this.app))return Promise.reject(ci(this));let n=e?Ne(e):null;return n&&B(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return I(this,null,function*(){if(!this._deleted)return e&&B(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>I(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return I(this,null,function*(){return it(this.app)?Promise.reject(ci(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return it(this.app)?Promise.reject(ci(this)):this.queue(()=>I(this,null,function*(){yield this.assertedPersistence.setPersistence(qn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return I(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return I(this,null,function*(){let e=yield M2(this),n=new Qg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qe("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return I(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield D2(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return I(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return I(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&qn(e)||this._popupRedirectResolver;B(n,this,"argument-error"),this.redirectPersistenceManager=yield Ju.create(this,[qn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return I(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>I(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return I(this,null,function*(){if(e===this.currentUser)return this.queue(()=>I(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(B(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{let l=e.addObserver(n);return()=>{o=!0,l()}}}directlySetCurrentUser(e){return I(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return B(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return I(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return I(this,null,function*(){var e;if(it(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&y2(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function fm(t){return Ne(t)}var ed=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=nS(n=>this.observer=n)}get next(){return B(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var pm={loadJS(){return I(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function O2(t){pm=t}function L2(t){return pm.loadJS(t)}function F2(){return pm.gapiScript}function cC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function gm(t,e){let n=Be(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Dt(s,e??{}))return i;Sr(i,"already-initialized")}return n.initialize({options:e})}function V2(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(qn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function mm(t,e,n){let r=fm(t);B(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=lC(e),{host:o,port:c}=U2(e),l=c===null?"":`:${c}`,u={url:`${s}//${o}${l}/`},f=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){B(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),B(Dt(u,r.config.emulator)&&Dt(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,Gt(o)?(vr(`${s}//${o}${l}`),wr("Auth",!0)):i||j2()}function lC(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function U2(t){let e=lC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:LS(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:LS(o)}}}function LS(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function j2(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var td=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hn("not implemented")}_getIdTokenResponse(e){return Hn("not implemented")}_linkToIdToken(e,n){return Hn("not implemented")}_getReauthenticationResolver(e){return Hn("not implemented")}};function Bg(t,e){return I(this,null,function*(){return b2(t,"POST","/v1/accounts:signInWithIdp",cm(t,e))})}var nd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Zg=class extends nd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Va=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return I(this,null,function*(){let s=yield br._fromIdTokenResponse(e,r,i),o=FS(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return I(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=FS(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function FS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Xg=class t extends Fe{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function uC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Xg._fromErrorAndOperation(t,s,e,r):s})}function $2(t,e,n=!1){return I(this,null,function*(){let r=yield La(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Va._forOperation(t,"link",r)})}function B2(t,e,n=!1){return I(this,null,function*(){let{auth:r}=t;if(it(r.app))return Promise.reject(ci(r));let i="reauthenticate";try{let s=yield La(t,uC(r,i,e,t),n);B(s.idToken,r,"internal-error");let o=um(s.idToken);B(o,r,"internal-error");let{sub:c}=o;return B(t.uid===c,r,"user-mismatch"),Va._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Sr(r,"user-mismatch"),s}})}function H2(t,e,n=!1){return I(this,null,function*(){if(it(t.app))return Promise.reject(ci(t));let r="signIn",i=yield uC(t,r,e),s=yield Va._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function ad(t,e,n,r){return Ne(t).onIdTokenChanged(e,n,r)}function ym(t,e,n){return Ne(t).beforeAuthStateChanged(e,n)}function cd(t,e,n,r){return Ne(t).onAuthStateChanged(e,n,r)}var rd="__sak";var id=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rd,"1"),this.storage.removeItem(rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var q2=1e3,z2=10,W2=(()=>{class t extends id{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oC(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,l,u)=>{this.notifyListeners(c,u)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);P2()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,z2):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},q2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return I(this,null,function*(){yield ir(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return I(this,null,function*(){let r=yield ir(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return I(this,null,function*(){yield ir(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),dC=W2;var G2=(()=>{class t extends id{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),_m=G2;function K2(t){return Promise.all(t.map(e=>I(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var Q2=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return I(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let l=Array.from(c).map(f=>I(this,null,function*(){return f(r.origin,o)})),u=yield K2(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function hC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Jg=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return I(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,l)=>{let u=hC("",20);i.port1.start();let f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(m.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function bn(){return window}function Y2(t){bn().location.href=t}function fC(){return typeof bn().WorkerGlobalScope<"u"&&typeof bn().importScripts=="function"}function Z2(){return I(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function X2(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function J2(){return fC()?self:null}var pC="firebaseLocalStorageDb",eV=1,sd="firebaseLocalStorage",gC="fbase_key",di=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function ld(t,e){return t.transaction([sd],e?"readwrite":"readonly").objectStore(sd)}function tV(){let t=indexedDB.deleteDatabase(pC);return new di(t).toPromise()}function em(){let t=indexedDB.open(pC,eV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(sd,{keyPath:gC})}catch(i){n(i)}}),t.addEventListener("success",()=>I(null,null,function*(){let r=t.result;r.objectStoreNames.contains(sd)?e(r):(r.close(),yield tV(),e(yield em()))}))})}function VS(t,e,n){return I(this,null,function*(){let r=ld(t,!0).put({[gC]:e,value:n});return new di(r).toPromise()})}function nV(t,e){return I(this,null,function*(){let n=ld(t,!1).get(e),r=yield new di(n).toPromise();return r===void 0?null:r.value})}function US(t,e){let n=ld(t,!0).delete(e);return new di(n).toPromise()}var rV=800,iV=3,sV=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return I(this,null,function*(){return this.db?this.db:(this.db=yield em(),this.db)})}_withRetries(n){return I(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>iV)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return I(this,null,function*(){return fC()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return I(this,null,function*(){this.receiver=Q2._getInstance(J2()),this.receiver._subscribe("keyChanged",(n,r)=>I(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>I(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return I(this,null,function*(){var n,r;if(this.activeServiceWorker=yield Z2(),!this.activeServiceWorker)return;this.sender=new Jg(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return I(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||X2()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return I(this,null,function*(){try{if(!indexedDB)return!1;let n=yield em();return yield VS(n,rd,"1"),yield US(n,rd),!0}catch{}return!1})}_withPendingWrite(n){return I(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(i=>VS(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return I(this,null,function*(){let r=yield this._withRetries(i=>nV(i,n));return this.localCache[n]=r,r})}_remove(n){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(r=>US(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return I(this,null,function*(){let n=yield this._withRetries(s=>{let o=ld(s,!1).getAll();return new di(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>I(this,null,function*(){return this._poll()}),rV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),mC=sV;var TQ=cC("rcb"),bQ=new ui(3e4,6e4);function oV(t,e){return e?qn(e):(B(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Ua=class extends td{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bg(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bg(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bg(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function aV(t){return H2(t.auth,new Ua(t),t.bypassAuthState)}function cV(t){let{auth:e,user:n}=t;return B(n,e,"internal-error"),B2(n,new Ua(t),t.bypassAuthState)}function lV(t){return I(this,null,function*(){let{auth:e,user:n}=t;return B(n,e,"internal-error"),$2(n,new Ua(t),t.bypassAuthState)})}var tm=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>I(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return I(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(l))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aV;case"linkViaPopup":case"linkViaRedirect":return lV;case"reauthViaPopup":case"reauthViaRedirect":return cV;default:Sr(this.auth,"internal-error")}}resolve(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var SQ=new ui(2e3,1e4);var uV="pendingRedirect",Gu=new Map,nm=class t extends tm{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return I(this,null,function*(){let e=Gu.get(this.auth._key());if(!e){try{let r=(yield dV(this.resolver,this.auth))?yield ir(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gu.set(this.auth._key(),e)}return this.bypassAuthState||Gu.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return I(this,null,function*(){if(e.type==="signInViaRedirect")return ir(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,ir(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return I(this,null,function*(){})}cleanUp(){}};function dV(t,e){return I(this,null,function*(){let n=pV(e),r=fV(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function hV(t,e){Gu.set(t._key(),e)}function fV(t){return qn(t._redirectPersistence)}function pV(t){return Wu(uV,t.config.apiKey,t.name)}function gV(t,e,n=!1){return I(this,null,function*(){if(it(t.app))return Promise.reject(ci(t));let r=fm(t),i=oV(r,e),o=yield new nm(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var mV=10*60*1e3,rm=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!yC(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(li(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mV&&this.cachedEventUids.clear(),this.cachedEventUids.has(jS(e))}saveEventToCache(e){this.cachedEventUids.add(jS(e)),this.lastProcessedEventTime=Date.now()}};function jS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function yC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function yV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yC(t);default:return!1}}function _V(n){return I(this,arguments,function*(t,e={}){return Ns(t,"GET","/v1/projects",e)})}var vV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wV=/^https?/;function IV(t){return I(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield _V(t);for(let n of e)try{if(EV(n))return}catch{}Sr(t,"unauthorized-domain")})}function EV(t){let e=qg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!wV.test(n))return!1;if(vV.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var TV=new ui(3e4,6e4);function $S(){let t=bn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function bV(t){return new Promise((e,n)=>{var r,i,s;function o(){$S(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$S(),n(li(t,"network-request-failed"))},timeout:TV.get()})}if(!((i=(r=bn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=bn().gapi)===null||s===void 0)&&s.load)o();else{let c=cC("iframefcb");return bn()[c]=()=>{gapi.load?o():n(li(t,"network-request-failed"))},L2(`${F2()}?onload=${c}`).catch(l=>n(l))}}).catch(e=>{throw Ku=null,e})}var Ku=null;function SV(t){return Ku=Ku||bV(t),Ku}var CV=new ui(5e3,15e3),AV="__/auth/iframe",RV="emulator/auth/iframe",DV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kV(t){let e=t.config;B(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?am(e,RV):`https://${t.config.authDomain}/${AV}`,r={apiKey:e.apiKey,appName:t.name,v:Kt},i=NV.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ii(r).slice(1)}`}function PV(t){return I(this,null,function*(){let e=yield SV(t),n=bn().gapi;return B(n,t,"internal-error"),e.open({where:document.body,url:kV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DV,dontclear:!0},r=>new Promise((i,s)=>I(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=li(t,"network-request-failed"),c=bn().setTimeout(()=>{s(o)},CV.get());function l(){bn().clearTimeout(c),i(r)}r.ping(l).then(l,()=>{s(o)})})))})}var MV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xV=500,OV=600,LV="_blank",FV="http://localhost",od=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function VV(t,e,n,r=xV,i=OV){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",l=Object.assign(Object.assign({},MV),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ye().toLowerCase();n&&(c=tC(u)?LV:n),JS(u)&&(e=e||FV,l.scrollbars="yes");let f=Object.entries(l).reduce((m,[y,C])=>`${m}${y}=${C},`,"");if(k2(u)&&c!=="_self")return UV(e||"",c),new od(null);let p=window.open(e||"",c,f);B(p,t,"popup-blocked");try{p.focus()}catch{}return new od(p)}function UV(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var jV="__/auth/handler",$V="emulator/auth/handler",BV=encodeURIComponent("fac");function BS(t,e,n,r,i,s){return I(this,null,function*(){B(t.config.authDomain,t,"auth-domain-config-required"),B(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Kt,eventId:i};if(e instanceof nd){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Ca(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,p]of Object.entries(s||{}))o[f]=p}if(e instanceof Zg){let f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);let c=o;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let l=yield t._getAppCheckToken(),u=l?`#${BV}=${encodeURIComponent(l)}`:"";return`${HV(t)}?${ii(c).slice(1)}${u}`})}function HV({config:t}){return t.emulator?am(t,$V):`https://${t.authDomain}/${jV}`}var Hg="webStorageSupport",im=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_m,this._completeRedirectFn=gV,this._overrideRedirectResult=hV}_openPopup(e,n,r,i){return I(this,null,function*(){var s;Cr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield BS(e,n,r,qg(),i);return VV(e,o,hC())})}_openRedirect(e,n,r,i){return I(this,null,function*(){yield this._originValidation(e);let s=yield BS(e,n,r,qg(),i);return Y2(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Cr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return I(this,null,function*(){let n=yield PV(e),r=new rm(e);return n.register("authEvent",i=>(B(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hg,{type:Hg},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Hg];o!==void 0&&n(!!o),Sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=IV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return oC()||eC()||hm()}},_C=im;var HS="@firebase/auth",qS="1.10.8";var sm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return I(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){B(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function qV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zV(t){be(new pe("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;B(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aC(t)},u=new Yg(r,i,s,l);return V2(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),be(new pe("auth-internal",e=>{let n=fm(e.getProvider("auth").getImmediate());return(r=>new sm(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$(HS,qS,qV(t)),$(HS,qS,"esm2017")}var WV=5*60,GV=_g("authIdTokenMaxAge")||WV,zS=null,KV=t=>e=>I(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>GV)return;let i=n?.token;zS!==i&&(zS=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function vm(t=st()){let e=Be(t,"auth");if(e.isInitialized())return e.getImmediate();let n=gm(t,{popupRedirectResolver:_C,persistence:[mC,dC,_m]}),r=_g("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=KV(s.toString());ym(n,o,()=>o(n.currentUser)),ad(n,c=>o(c))}}let i=mg("auth");return i&&mm(n,`http://${i}`),n}function QV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}O2({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=li("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",QV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zV("Browser");function wC(t){return new Z(function(e){var n=cd(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var IC="auth",hi=class{constructor(e){return e}},zn=class{constructor(){return kt(IC)}};var wm=new O("angularfire2.auth-instances");function jU(t,e){let n=jt(IC,t,e);return n&&new hi(n)}function $U(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new hi(r)}}var BU={provide:zn,deps:[[new fe,wm]]},HU={provide:hi,useFactory:jU,deps:[[new fe,wm],Ze]};function EC(t,...e){return $("angularfire",He.full,"auth"),Ke([HU,BU,{provide:wm,useFactory:$U(t),multi:!0,deps:[Y,ve,ot,_t,[new fe,Tn],...e]}])}var TC=Ve(wC,!0);var bC=Ve(vm,!0);var AC="@firebase/installations",bm="0.6.18";var RC=1e4,DC=`w:${bm}`,NC="FIS_v2",zU="https://firebaseinstallations.googleapis.com/v1",WU=60*60*1e3,GU="installations",KU="Installations";var QU={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},pi=new Qe(GU,KU,QU);function kC(t){return t instanceof Fe&&t.code.includes("request-failed")}function PC({projectId:t}){return`${zU}/projects/${t}/installations`}function MC(t){return{token:t.token,requestStatus:2,expiresIn:ZU(t.expiresIn),creationTime:Date.now()}}function xC(t,e){return I(this,null,function*(){let r=(yield e.json()).error;return pi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function OC({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function YU(t,{refreshToken:e}){let n=OC(t);return n.append("Authorization",XU(e)),n}function LC(t){return I(this,null,function*(){let e=yield t();return e.status>=500&&e.status<600?t():e})}function ZU(t){return Number(t.replace("s","000"))}function XU(t){return`${NC} ${t}`}function JU(r,i){return I(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){let s=PC(t),o=OC(t),c=e.getImmediate({optional:!0});if(c){let p=yield c.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}let l={fid:n,authVersion:NC,appId:t.appId,sdkVersion:DC},u={method:"POST",headers:o,body:JSON.stringify(l)},f=yield LC(()=>fetch(s,u));if(f.ok){let p=yield f.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:MC(p.authToken)}}else throw yield xC("Create Installation",f)})}function FC(t){return new Promise(e=>{setTimeout(e,t)})}function ej(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}var tj=/^[cdef][\w-]{21}$/,Tm="";function nj(){try{let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=rj(t);return tj.test(n)?n:Tm}catch{return Tm}}function rj(t){return ej(t).substr(0,22)}function dd(t){return`${t.appName}!${t.appId}`}var VC=new Map;function UC(t,e){let n=dd(t);jC(n,e),ij(n,e)}function jC(t,e){let n=VC.get(t);if(n)for(let r of n)r(e)}function ij(t,e){let n=sj();n&&n.postMessage({key:t,fid:e}),oj()}var fi=null;function sj(){return!fi&&"BroadcastChannel"in self&&(fi=new BroadcastChannel("[Firebase] FID Change"),fi.onmessage=t=>{jC(t.data.key,t.data.fid)}),fi}function oj(){VC.size===0&&fi&&(fi.close(),fi=null)}var aj="firebase-installations-database",cj=1,gi="firebase-installations-store",Im=null;function Sm(){return Im||(Im=oi(aj,cj,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(gi)}}})),Im}function ud(t,e){return I(this,null,function*(){let n=dd(t),i=(yield Sm()).transaction(gi,"readwrite"),s=i.objectStore(gi),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&UC(t,e.fid),e})}function $C(t){return I(this,null,function*(){let e=dd(t),r=(yield Sm()).transaction(gi,"readwrite");yield r.objectStore(gi).delete(e),yield r.done})}function hd(t,e){return I(this,null,function*(){let n=dd(t),i=(yield Sm()).transaction(gi,"readwrite"),s=i.objectStore(gi),o=yield s.get(n),c=e(o);return c===void 0?yield s.delete(n):yield s.put(c,n),yield i.done,c&&(!o||o.fid!==c.fid)&&UC(t,c.fid),c})}function Cm(t){return I(this,null,function*(){let e,n=yield hd(t.appConfig,r=>{let i=lj(r),s=uj(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Tm?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})}function lj(t){let e=t||{fid:nj(),registrationStatus:0};return BC(e)}function uj(t,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(pi.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=dj(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:hj(t)}:{installationEntry:e}}function dj(t,e){return I(this,null,function*(){try{let n=yield JU(t,e);return ud(t.appConfig,n)}catch(n){throw kC(n)&&n.customData.serverCode===409?yield $C(t.appConfig):yield ud(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})}function hj(t){return I(this,null,function*(){let e=yield SC(t.appConfig);for(;e.registrationStatus===1;)yield FC(100),e=yield SC(t.appConfig);if(e.registrationStatus===0){let{installationEntry:n,registrationPromise:r}=yield Cm(t);return r||n}return e})}function SC(t){return hd(t,e=>{if(!e)throw pi.create("installation-not-found");return BC(e)})}function BC(t){return fj(t)?{fid:t.fid,registrationStatus:0}:t}function fj(t){return t.registrationStatus===1&&t.registrationTime+RC<Date.now()}function pj(r,i){return I(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},n){let s=gj(t,n),o=YU(t,n),c=e.getImmediate({optional:!0});if(c){let p=yield c.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}let l={installation:{sdkVersion:DC,appId:t.appId}},u={method:"POST",headers:o,body:JSON.stringify(l)},f=yield LC(()=>fetch(s,u));if(f.ok){let p=yield f.json();return MC(p)}else throw yield xC("Generate Auth Token",f)})}function gj(t,{fid:e}){return`${PC(t)}/${e}/authTokens:generate`}function Am(t,e=!1){return I(this,null,function*(){let n,r=yield hd(t.appConfig,s=>{if(!HC(s))throw pi.create("not-registered");let o=s.authToken;if(!e&&_j(o))return s;if(o.requestStatus===1)return n=mj(t,e),s;{if(!navigator.onLine)throw pi.create("app-offline");let c=wj(s);return n=yj(t,c),c}});return n?yield n:r.authToken})}function mj(t,e){return I(this,null,function*(){let n=yield CC(t.appConfig);for(;n.authToken.requestStatus===1;)yield FC(100),n=yield CC(t.appConfig);let r=n.authToken;return r.requestStatus===0?Am(t,e):r})}function CC(t){return hd(t,e=>{if(!HC(e))throw pi.create("not-registered");let n=e.authToken;return Ij(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function yj(t,e){return I(this,null,function*(){try{let n=yield pj(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield ud(t.appConfig,r),n}catch(n){if(kC(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))yield $C(t.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield ud(t.appConfig,r)}throw n}})}function HC(t){return t!==void 0&&t.registrationStatus===2}function _j(t){return t.requestStatus===2&&!vj(t)}function vj(t){let e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+WU}function wj(t){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Ij(t){return t.requestStatus===1&&t.requestTime+RC<Date.now()}function Ej(t){return I(this,null,function*(){let e=t,{installationEntry:n,registrationPromise:r}=yield Cm(e);return r?r.catch(console.error):Am(e).catch(console.error),n.fid})}function Tj(t,e=!1){return I(this,null,function*(){let n=t;return yield bj(n),(yield Am(n,e)).token})}function bj(t){return I(this,null,function*(){let{registrationPromise:e}=yield Cm(t);e&&(yield e)})}function Sj(t){if(!t||!t.options)throw Em("App Configuration");if(!t.name)throw Em("App Name");let e=["projectId","apiKey","appId"];for(let n of e)if(!t.options[n])throw Em(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Em(t){return pi.create("missing-app-config-values",{valueName:t})}var qC="installations",Cj="installations-internal",Aj=t=>{let e=t.getProvider("app").getImmediate(),n=Sj(e),r=Be(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Rj=t=>{let e=t.getProvider("app").getImmediate(),n=Be(e,qC).getImmediate();return{getId:()=>Ej(n),getToken:i=>Tj(n,i)}};function Dj(){be(new pe(qC,Aj,"PUBLIC")),be(new pe(Cj,Rj,"PRIVATE"))}Dj();$(AC,bm);$(AC,bm,"esm2017");var fd="analytics",Nj="firebase_id",kj="origin",Pj=60*1e3,Mj="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",xm="https://www.googletagmanager.com/gtag/js";var vt=new Nt("@firebase/analytics");var xj={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},$t=new Qe("analytics","Analytics",xj);function Oj(t){if(!t.startsWith(xm)){let e=$t.create("invalid-gtag-resource",{gtagURL:t});return vt.warn(e.message),""}return t}function ZC(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Lj(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Fj(t,e){let n=Lj("firebase-js-sdk-policy",{createScriptURL:Oj}),r=document.createElement("script"),i=`${xm}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Vj(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function Uj(t,e,n,r,i,s){return I(this,null,function*(){let o=r[i];try{if(o)yield e[o];else{let l=(yield ZC(n)).find(u=>u.measurementId===i);l&&(yield e[l.appId])}}catch(c){vt.error(c)}t("config",i,s)})}function jj(t,e,n,r,i){return I(this,null,function*(){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);let c=yield ZC(n);for(let l of o){let u=c.find(p=>p.measurementId===l),f=u&&e[u.appId];if(f)s.push(f);else{s=[];break}}}s.length===0&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){vt.error(s)}})}function $j(t,e,n,r){function i(s,...o){return I(this,null,function*(){try{if(s==="event"){let[c,l]=o;yield jj(t,e,n,c,l)}else if(s==="config"){let[c,l]=o;yield Uj(t,e,n,r,c,l)}else if(s==="consent"){let[c,l]=o;t("consent",c,l)}else if(s==="get"){let[c,l,u]=o;t("get",c,l,u)}else if(s==="set"){let[c]=o;t("set",c)}else t(s,...o)}catch(c){vt.error(c)}})}return i}function Bj(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=$j(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function Hj(t){let e=window.document.getElementsByTagName("script");for(let n of Object.values(e))if(n.src&&n.src.includes(xm)&&n.src.includes(t))return n;return null}var qj=30,zj=1e3,Dm=class{constructor(e={},n=zj){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},XC=new Dm;function Wj(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Gj(t){return I(this,null,function*(){var e;let{appId:n,apiKey:r}=t,i={method:"GET",headers:Wj(r)},s=Mj.replace("{app-id}",n),o=yield fetch(s,i);if(o.status!==200&&o.status!==304){let c="";try{let l=yield o.json();!((e=l.error)===null||e===void 0)&&e.message&&(c=l.error.message)}catch{}throw $t.create("config-fetch-failed",{httpStatus:o.status,responseMessage:c})}return o.json()})}function Kj(r){return I(this,arguments,function*(t,e=XC,n){let{appId:i,apiKey:s,measurementId:o}=t.options;if(!i)throw $t.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:i};throw $t.create("no-api-key")}let c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new Nm;return setTimeout(()=>I(null,null,function*(){l.abort()}),n!==void 0?n:Pj),JC({appId:i,apiKey:s,measurementId:o},c,l,e)})}function JC(s,o,c){return I(this,arguments,function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=XC){var l;let{appId:u,measurementId:f}=t;try{yield Qj(r,e)}catch(p){if(f)return vt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:f};throw p}try{let p=yield Gj(t);return i.deleteThrottleMetadata(u),p}catch(p){let m=p;if(!Yj(m)){if(i.deleteThrottleMetadata(u),f)return vt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:f};throw p}let y=Number((l=m?.customData)===null||l===void 0?void 0:l.httpStatus)===503?Fu(n,i.intervalMillis,qj):Fu(n,i.intervalMillis),C={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return i.setThrottleMetadata(u,C),vt.debug(`Calling attemptFetch again in ${y} millis`),JC(t,C,r,i)}})}function Qj(t,e){return new Promise((n,r)=>{let i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r($t.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Yj(t){if(!(t instanceof Fe)||!t.customData)return!1;let e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var Nm=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var km;function Zj(t,e,n,r,i){return I(this,null,function*(){if(i&&i.global){t("event",n,r);return}else{let s=yield e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}})}function Xj(t,e,n,r){return I(this,null,function*(){if(r&&r.global)return t("set",{user_id:n}),Promise.resolve();{let i=yield e;t("config",i,{update:!0,user_id:n})}})}var Pm;function Jj(t){Pm=t}function e4(t){km=t}function t4(){return I(this,null,function*(){if(In())try{yield ni()}catch(t){return vt.warn($t.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return vt.warn($t.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function n4(t,e,n,r,i,s,o){return I(this,null,function*(){var c;let l=Kj(t);l.then(y=>{n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&vt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>vt.error(y)),e.push(l);let u=t4().then(y=>{if(y)return r.getId()}),[f,p]=yield Promise.all([l,u]);Hj(s)||Fj(s,f.measurementId),Pm&&(i("consent","default",Pm),Jj(void 0)),i("js",new Date);let m=(c=o?.config)!==null&&c!==void 0?c:{};return m[kj]="firebase",m.update=!0,p!=null&&(m[Nj]=p),i("config",f.measurementId,m),km&&(i("set",km),e4(void 0)),f.measurementId})}var Mm=class{constructor(e){this.app=e}_delete(){return delete ks[this.app.options.appId],Promise.resolve()}},ks={},zC=[],WC={},Rm="dataLayer",r4="gtag",GC,Om,KC=!1;function i4(){let t=[];if(ba()&&t.push("This is a browser extension environment."),Sa()||t.push("Cookies are not available."),t.length>0){let e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=$t.create("invalid-analytics-context",{errorInfo:e});vt.warn(n.message)}}function s4(t,e,n){i4();let r=t.options.appId;if(!r)throw $t.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)vt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw $t.create("no-api-key");if(ks[r]!=null)throw $t.create("already-exists",{id:r});if(!KC){Vj(Rm);let{wrappedGtag:s,gtagCore:o}=Bj(ks,zC,WC,Rm,r4);Om=s,GC=o,KC=!0}return ks[r]=n4(t,zC,WC,e,GC,Rm,n),new Mm(t)}function eA(t=st()){t=Ne(t);let e=Be(t,fd);return e.isInitialized()?e.getImmediate():tA(t)}function tA(t,e={}){let n=Be(t,fd);if(n.isInitialized()){let i=n.getImmediate();if(Dt(e,n.getOptions()))return i;throw $t.create("already-initialized")}return n.initialize({options:e})}function nA(){return I(this,null,function*(){if(ba()||!Sa()||!In())return!1;try{return yield ni()}catch{return!1}})}function rA(t,e,n){t=Ne(t),Xj(Om,ks[t.app.options.appId],e,n).catch(r=>vt.error(r))}function Lm(t,e,n,r){t=Ne(t),Zj(Om,ks[t.app.options.appId],e,n,r).catch(i=>vt.error(i))}var QC="@firebase/analytics",YC="0.10.17";function o4(){be(new pe(fd,(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return s4(r,i,n)},"PUBLIC")),be(new pe("analytics-internal",t,"PRIVATE")),$(QC,YC),$(QC,YC,"esm2017");function t(e){try{let n=e.getProvider(fd).getImmediate();return{logEvent:(r,i,s)=>Lm(n,r,i,s)}}catch(n){throw $t.create("interop-component-reg-failed",{reason:n})}}}o4();var mi=class{constructor(e){return e}},oA="analytics",Vm=class{constructor(){return kt(oA)}};var aA=Ve(eA,!0);var cA=Ve(nA,!1),a4=Ve(Lm,!1,2);var c4=Ve(rA,!0,2);var jm=(()=>{class t{initialized;disposables=[];constructor(n,r,i){$("angularfire",He.full,"user-tracking");let s;this.initialized=r.runOutsideAngular(()=>new Promise(o=>{s=o})),cA().then(()=>{let o=i.get(mi);o?this.disposables=[TC(n).subscribe(c=>{c4(o,c?.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(n=>n.unsubscribe())}static \u0275fac=function(r){return new(r||t)(U(hi),U(Y),U(ve))};static \u0275prov=F({token:t,factory:t.\u0275fac})}return t})(),l4="firebase_event_origin",u4="firebase_previous_class",d4="firebase_previous_id",h4="firebase_previous_screen",f4="firebase_screen_class",iA="firebase_screen_id",p4="firebase_screen",Um="outlet",g4="page_path",m4="page_title",ja="screen_class",sA="screen_name",y4="screen_view",_4="auto",v4="#",w4=Math.floor(Math.random()*(2**32-1))-2**31,Fm={},I4=t=>{let e=[t[ja],t[Um]].join(v4);if(Fm.hasOwnProperty(e))return Fm[e];{let n=w4++;return Fm[e]=n,n}},E4=(t,e,n)=>t.events.pipe(Tt(i=>i instanceof ys)).pipe(bt(i=>{let o=t.parseUrl(t.url.replace(/(?:\().+(?:\))/g,m=>m.replace("://",":///"))).root.children[i.snapshot.outlet]?.toString()||"",c=t.routerState.root.children.map(m=>m).find(m=>m.outlet===i.snapshot.outlet);if(!c)return V(null);let l=c;for(;l.firstChild;)l=l.firstChild;let u=l.pathFromRoot.map(m=>m.routeConfig?.path).filter(m=>m).join("/")||"/",f={[sA]:u,[g4]:`/${o}`,[l4]:_4,[p4]:u,[Um]:i.snapshot.outlet};e&&(f[m4]=e.getTitle());let p=c.component;if(p){if(p===ya){let m=i.snapshot;for(;m.firstChild;)m=m.firstChild;p=m.component}}else p=i.snapshot.component;if(typeof p=="string")return V(he(x({},f),{[ja]:p}));if(p){let m=n.resolveComponentFactory(p);return V(he(x({},f),{[ja]:m.selector}))}return V(null)}),Tt(i=>!!i),J(i=>x({[f4]:i[ja],[iA]:I4(i)},i)),qh(i=>i[Um]),De(i=>i.pipe(Hh((s,o)=>JSON.stringify(s)===JSON.stringify(o)),So(void 0),Wh(),J(([s,o])=>s?x({[u4]:s[ja],[h4]:s[sA],[d4]:s[iA]},o):o)))),lA=(()=>{class t{disposable;constructor(n,r,i,s,o,c){$("angularfire",He.full,"screen-tracking"),cA().then(()=>{let l=c.get(mi);!n||!l||s.runOutsideAngular(()=>{this.disposable=E4(n,r,i).pipe(bt(u=>I(this,null,function*(){return o&&(yield o.initialized),a4(l,y4,u)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}static \u0275fac=function(r){return new(r||t)(U(Ts,8),U(cu,8),U(cs),U(Y),U(jm,8),U(ve))};static \u0275prov=F({token:t,factory:t.\u0275fac})}return t})(),$m=new O("angularfire2.analytics-instances");function T4(t,e,n){if(!ru(n))return null;let r=jt(oA,t,e);return r&&new mi(r)}function b4(t){return(e,n,r)=>{if(!ru(r))return null;let i=e.runOutsideAngular(()=>t(n));return new mi(i)}}var S4={provide:Vm,deps:[[new fe,$m]]},C4={provide:mi,useFactory:T4,deps:[[new fe,$m],Ze,Ft]};function uA(t,...e){return $("angularfire",He.full,"analytics"),Ke([C4,S4,{provide:$m,useFactory:b4(t),multi:!0,deps:[Y,ve,Ft,ot,_t,...e]}])}var dA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},hA={};var pd,fA;(function(){var t;function e(b,_){function w(){}w.prototype=_.prototype,b.D=_.prototype,b.prototype=new w,b.prototype.constructor=b,b.C=function(E,T,A){for(var v=Array(arguments.length-2),Rn=2;Rn<arguments.length;Rn++)v[Rn-2]=arguments[Rn];return _.prototype[T].apply(E,v)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,_,w){w||(w=0);var E=Array(16);if(typeof _=="string")for(var T=0;16>T;++T)E[T]=_.charCodeAt(w++)|_.charCodeAt(w++)<<8|_.charCodeAt(w++)<<16|_.charCodeAt(w++)<<24;else for(T=0;16>T;++T)E[T]=_[w++]|_[w++]<<8|_[w++]<<16|_[w++]<<24;_=b.g[0],w=b.g[1],T=b.g[2];var A=b.g[3],v=_+(A^w&(T^A))+E[0]+3614090360&4294967295;_=w+(v<<7&4294967295|v>>>25),v=A+(T^_&(w^T))+E[1]+3905402710&4294967295,A=_+(v<<12&4294967295|v>>>20),v=T+(w^A&(_^w))+E[2]+606105819&4294967295,T=A+(v<<17&4294967295|v>>>15),v=w+(_^T&(A^_))+E[3]+3250441966&4294967295,w=T+(v<<22&4294967295|v>>>10),v=_+(A^w&(T^A))+E[4]+4118548399&4294967295,_=w+(v<<7&4294967295|v>>>25),v=A+(T^_&(w^T))+E[5]+1200080426&4294967295,A=_+(v<<12&4294967295|v>>>20),v=T+(w^A&(_^w))+E[6]+2821735955&4294967295,T=A+(v<<17&4294967295|v>>>15),v=w+(_^T&(A^_))+E[7]+4249261313&4294967295,w=T+(v<<22&4294967295|v>>>10),v=_+(A^w&(T^A))+E[8]+1770035416&4294967295,_=w+(v<<7&4294967295|v>>>25),v=A+(T^_&(w^T))+E[9]+2336552879&4294967295,A=_+(v<<12&4294967295|v>>>20),v=T+(w^A&(_^w))+E[10]+4294925233&4294967295,T=A+(v<<17&4294967295|v>>>15),v=w+(_^T&(A^_))+E[11]+2304563134&4294967295,w=T+(v<<22&4294967295|v>>>10),v=_+(A^w&(T^A))+E[12]+1804603682&4294967295,_=w+(v<<7&4294967295|v>>>25),v=A+(T^_&(w^T))+E[13]+4254626195&4294967295,A=_+(v<<12&4294967295|v>>>20),v=T+(w^A&(_^w))+E[14]+2792965006&4294967295,T=A+(v<<17&4294967295|v>>>15),v=w+(_^T&(A^_))+E[15]+1236535329&4294967295,w=T+(v<<22&4294967295|v>>>10),v=_+(T^A&(w^T))+E[1]+4129170786&4294967295,_=w+(v<<5&4294967295|v>>>27),v=A+(w^T&(_^w))+E[6]+3225465664&4294967295,A=_+(v<<9&4294967295|v>>>23),v=T+(_^w&(A^_))+E[11]+643717713&4294967295,T=A+(v<<14&4294967295|v>>>18),v=w+(A^_&(T^A))+E[0]+3921069994&4294967295,w=T+(v<<20&4294967295|v>>>12),v=_+(T^A&(w^T))+E[5]+3593408605&4294967295,_=w+(v<<5&4294967295|v>>>27),v=A+(w^T&(_^w))+E[10]+38016083&4294967295,A=_+(v<<9&4294967295|v>>>23),v=T+(_^w&(A^_))+E[15]+3634488961&4294967295,T=A+(v<<14&4294967295|v>>>18),v=w+(A^_&(T^A))+E[4]+3889429448&4294967295,w=T+(v<<20&4294967295|v>>>12),v=_+(T^A&(w^T))+E[9]+568446438&4294967295,_=w+(v<<5&4294967295|v>>>27),v=A+(w^T&(_^w))+E[14]+3275163606&4294967295,A=_+(v<<9&4294967295|v>>>23),v=T+(_^w&(A^_))+E[3]+4107603335&4294967295,T=A+(v<<14&4294967295|v>>>18),v=w+(A^_&(T^A))+E[8]+1163531501&4294967295,w=T+(v<<20&4294967295|v>>>12),v=_+(T^A&(w^T))+E[13]+2850285829&4294967295,_=w+(v<<5&4294967295|v>>>27),v=A+(w^T&(_^w))+E[2]+4243563512&4294967295,A=_+(v<<9&4294967295|v>>>23),v=T+(_^w&(A^_))+E[7]+1735328473&4294967295,T=A+(v<<14&4294967295|v>>>18),v=w+(A^_&(T^A))+E[12]+2368359562&4294967295,w=T+(v<<20&4294967295|v>>>12),v=_+(w^T^A)+E[5]+4294588738&4294967295,_=w+(v<<4&4294967295|v>>>28),v=A+(_^w^T)+E[8]+2272392833&4294967295,A=_+(v<<11&4294967295|v>>>21),v=T+(A^_^w)+E[11]+1839030562&4294967295,T=A+(v<<16&4294967295|v>>>16),v=w+(T^A^_)+E[14]+4259657740&4294967295,w=T+(v<<23&4294967295|v>>>9),v=_+(w^T^A)+E[1]+2763975236&4294967295,_=w+(v<<4&4294967295|v>>>28),v=A+(_^w^T)+E[4]+1272893353&4294967295,A=_+(v<<11&4294967295|v>>>21),v=T+(A^_^w)+E[7]+4139469664&4294967295,T=A+(v<<16&4294967295|v>>>16),v=w+(T^A^_)+E[10]+3200236656&4294967295,w=T+(v<<23&4294967295|v>>>9),v=_+(w^T^A)+E[13]+681279174&4294967295,_=w+(v<<4&4294967295|v>>>28),v=A+(_^w^T)+E[0]+3936430074&4294967295,A=_+(v<<11&4294967295|v>>>21),v=T+(A^_^w)+E[3]+3572445317&4294967295,T=A+(v<<16&4294967295|v>>>16),v=w+(T^A^_)+E[6]+76029189&4294967295,w=T+(v<<23&4294967295|v>>>9),v=_+(w^T^A)+E[9]+3654602809&4294967295,_=w+(v<<4&4294967295|v>>>28),v=A+(_^w^T)+E[12]+3873151461&4294967295,A=_+(v<<11&4294967295|v>>>21),v=T+(A^_^w)+E[15]+530742520&4294967295,T=A+(v<<16&4294967295|v>>>16),v=w+(T^A^_)+E[2]+3299628645&4294967295,w=T+(v<<23&4294967295|v>>>9),v=_+(T^(w|~A))+E[0]+4096336452&4294967295,_=w+(v<<6&4294967295|v>>>26),v=A+(w^(_|~T))+E[7]+1126891415&4294967295,A=_+(v<<10&4294967295|v>>>22),v=T+(_^(A|~w))+E[14]+2878612391&4294967295,T=A+(v<<15&4294967295|v>>>17),v=w+(A^(T|~_))+E[5]+4237533241&4294967295,w=T+(v<<21&4294967295|v>>>11),v=_+(T^(w|~A))+E[12]+1700485571&4294967295,_=w+(v<<6&4294967295|v>>>26),v=A+(w^(_|~T))+E[3]+2399980690&4294967295,A=_+(v<<10&4294967295|v>>>22),v=T+(_^(A|~w))+E[10]+4293915773&4294967295,T=A+(v<<15&4294967295|v>>>17),v=w+(A^(T|~_))+E[1]+2240044497&4294967295,w=T+(v<<21&4294967295|v>>>11),v=_+(T^(w|~A))+E[8]+1873313359&4294967295,_=w+(v<<6&4294967295|v>>>26),v=A+(w^(_|~T))+E[15]+4264355552&4294967295,A=_+(v<<10&4294967295|v>>>22),v=T+(_^(A|~w))+E[6]+2734768916&4294967295,T=A+(v<<15&4294967295|v>>>17),v=w+(A^(T|~_))+E[13]+1309151649&4294967295,w=T+(v<<21&4294967295|v>>>11),v=_+(T^(w|~A))+E[4]+4149444226&4294967295,_=w+(v<<6&4294967295|v>>>26),v=A+(w^(_|~T))+E[11]+3174756917&4294967295,A=_+(v<<10&4294967295|v>>>22),v=T+(_^(A|~w))+E[2]+718787259&4294967295,T=A+(v<<15&4294967295|v>>>17),v=w+(A^(T|~_))+E[9]+3951481745&4294967295,b.g[0]=b.g[0]+_&4294967295,b.g[1]=b.g[1]+(T+(v<<21&4294967295|v>>>11))&4294967295,b.g[2]=b.g[2]+T&4294967295,b.g[3]=b.g[3]+A&4294967295}r.prototype.u=function(b,_){_===void 0&&(_=b.length);for(var w=_-this.blockSize,E=this.B,T=this.h,A=0;A<_;){if(T==0)for(;A<=w;)i(this,b,A),A+=this.blockSize;if(typeof b=="string"){for(;A<_;)if(E[T++]=b.charCodeAt(A++),T==this.blockSize){i(this,E),T=0;break}}else for(;A<_;)if(E[T++]=b[A++],T==this.blockSize){i(this,E),T=0;break}}this.h=T,this.o+=_},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var _=1;_<b.length-8;++_)b[_]=0;var w=8*this.o;for(_=b.length-8;_<b.length;++_)b[_]=w&255,w/=256;for(this.u(b),b=Array(16),_=w=0;4>_;++_)for(var E=0;32>E;E+=8)b[w++]=this.g[_]>>>E&255;return b};function s(b,_){var w=c;return Object.prototype.hasOwnProperty.call(w,b)?w[b]:w[b]=_(b)}function o(b,_){this.h=_;for(var w=[],E=!0,T=b.length-1;0<=T;T--){var A=b[T]|0;E&&A==_||(w[T]=A,E=!1)}this.g=w}var c={};function l(b){return-128<=b&&128>b?s(b,function(_){return new o([_|0],0>_?-1:0)}):new o([b|0],0>b?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return p;if(0>b)return N(u(-b));for(var _=[],w=1,E=0;b>=w;E++)_[E]=b/w|0,w*=4294967296;return new o(_,0)}function f(b,_){if(b.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(b.charAt(0)=="-")return N(f(b.substring(1),_));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=u(Math.pow(_,8)),E=p,T=0;T<b.length;T+=8){var A=Math.min(8,b.length-T),v=parseInt(b.substring(T,T+A),_);8>A?(A=u(Math.pow(_,A)),E=E.j(A).add(u(v))):(E=E.j(w),E=E.add(u(v)))}return E}var p=l(0),m=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(D(this))return-N(this).m();for(var b=0,_=1,w=0;w<this.g.length;w++){var E=this.i(w);b+=(0<=E?E:4294967296+E)*_,_*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(C(this))return"0";if(D(this))return"-"+N(this).toString(b);for(var _=u(Math.pow(b,6)),w=this,E="";;){var T=me(w,_).g;w=j(w,T.j(_));var A=((0<w.g.length?w.g[0]:w.h)>>>0).toString(b);if(w=T,C(w))return A+E;for(;6>A.length;)A="0"+A;E=A+E}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function C(b){if(b.h!=0)return!1;for(var _=0;_<b.g.length;_++)if(b.g[_]!=0)return!1;return!0}function D(b){return b.h==-1}t.l=function(b){return b=j(this,b),D(b)?-1:C(b)?0:1};function N(b){for(var _=b.g.length,w=[],E=0;E<_;E++)w[E]=~b.g[E];return new o(w,~b.h).add(m)}t.abs=function(){return D(this)?N(this):this},t.add=function(b){for(var _=Math.max(this.g.length,b.g.length),w=[],E=0,T=0;T<=_;T++){var A=E+(this.i(T)&65535)+(b.i(T)&65535),v=(A>>>16)+(this.i(T)>>>16)+(b.i(T)>>>16);E=v>>>16,A&=65535,v&=65535,w[T]=v<<16|A}return new o(w,w[w.length-1]&-2147483648?-1:0)};function j(b,_){return b.add(N(_))}t.j=function(b){if(C(this)||C(b))return p;if(D(this))return D(b)?N(this).j(N(b)):N(N(this).j(b));if(D(b))return N(this.j(N(b)));if(0>this.l(y)&&0>b.l(y))return u(this.m()*b.m());for(var _=this.g.length+b.g.length,w=[],E=0;E<2*_;E++)w[E]=0;for(E=0;E<this.g.length;E++)for(var T=0;T<b.g.length;T++){var A=this.i(E)>>>16,v=this.i(E)&65535,Rn=b.i(T)>>>16,Js=b.i(T)&65535;w[2*E+2*T]+=v*Js,G(w,2*E+2*T),w[2*E+2*T+1]+=A*Js,G(w,2*E+2*T+1),w[2*E+2*T+1]+=v*Rn,G(w,2*E+2*T+1),w[2*E+2*T+2]+=A*Rn,G(w,2*E+2*T+2)}for(E=0;E<_;E++)w[E]=w[2*E+1]<<16|w[2*E];for(E=_;E<2*_;E++)w[E]=0;return new o(w,0)};function G(b,_){for(;(b[_]&65535)!=b[_];)b[_+1]+=b[_]>>>16,b[_]&=65535,_++}function X(b,_){this.g=b,this.h=_}function me(b,_){if(C(_))throw Error("division by zero");if(C(b))return new X(p,p);if(D(b))return _=me(N(b),_),new X(N(_.g),N(_.h));if(D(_))return _=me(b,N(_)),new X(N(_.g),_.h);if(30<b.g.length){if(D(b)||D(_))throw Error("slowDivide_ only works with positive integers.");for(var w=m,E=_;0>=E.l(b);)w=Ht(w),E=Ht(E);var T=Ue(w,1),A=Ue(E,1);for(E=Ue(E,2),w=Ue(w,2);!C(E);){var v=A.add(E);0>=v.l(b)&&(T=T.add(w),A=v),E=Ue(E,1),w=Ue(w,1)}return _=j(b,T.j(_)),new X(T,_)}for(T=p;0<=b.l(_);){for(w=Math.max(1,Math.floor(b.m()/_.m())),E=Math.ceil(Math.log(w)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),A=u(w),v=A.j(_);D(v)||0<v.l(b);)w-=E,A=u(w),v=A.j(_);C(A)&&(A=m),T=T.add(A),b=j(b,v)}return new X(T,b)}t.A=function(b){return me(this,b).h},t.and=function(b){for(var _=Math.max(this.g.length,b.g.length),w=[],E=0;E<_;E++)w[E]=this.i(E)&b.i(E);return new o(w,this.h&b.h)},t.or=function(b){for(var _=Math.max(this.g.length,b.g.length),w=[],E=0;E<_;E++)w[E]=this.i(E)|b.i(E);return new o(w,this.h|b.h)},t.xor=function(b){for(var _=Math.max(this.g.length,b.g.length),w=[],E=0;E<_;E++)w[E]=this.i(E)^b.i(E);return new o(w,this.h^b.h)};function Ht(b){for(var _=b.g.length+1,w=[],E=0;E<_;E++)w[E]=b.i(E)<<1|b.i(E-1)>>>31;return new o(w,b.h)}function Ue(b,_){var w=_>>5;_%=32;for(var E=b.g.length-w,T=[],A=0;A<E;A++)T[A]=0<_?b.i(A+w)>>>_|b.i(A+w+1)<<32-_:b.i(A+w);return new o(T,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,fA=hA.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,pd=hA.Integer=o}).apply(typeof dA<"u"?dA:typeof self<"u"?self:typeof window<"u"?window:{});var gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wn={};var pA,A4,gA,mA,yA,_A,vA,wA,IA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof gd=="object"&&gd];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var S=a[g];if(!(S in h))break e;h=h[S]}a=a[a.length-1],g=h[a],d=d(g),d!=g&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var h=0,g=!1,S={next:function(){if(!g&&h<a.length){var R=h++;return{value:d(R,a[R]),done:!1}}return g=!0,{done:!0,value:void 0}}};return S[Symbol.iterator]=function(){return S},S}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,h){return h})}});var o=o||{},c=this||self;function l(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function u(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var S=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(S,g),a.apply(d,S)}}return function(){return a.apply(d,arguments)}}function m(a,d,h){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function y(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function C(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(g,S,R){for(var P=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)P[ye-2]=arguments[ye];return d.prototype[S].apply(g,P)}}function D(a){let d=a.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=a[g];return h}return[]}function N(a,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(l(g)){let S=a.length||0,R=g.length||0;a.length=S+R;for(let P=0;P<R;P++)a[S+P]=g[P]}else a.push(g)}}class j{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function G(a){return/^[\s\xa0]*$/.test(a)}function X(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function me(a){return me[" "](a),a}me[" "]=function(){};var Ht=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function Ue(a,d,h){for(let g in a)d.call(h,a[g],g,a)}function b(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function _(a){let d={};for(let h in a)d[h]=a[h];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(a,d){let h,g;for(let S=1;S<arguments.length;S++){g=arguments[S];for(h in g)a[h]=g[h];for(let R=0;R<w.length;R++)h=w[R],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function T(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function A(a){c.setTimeout(()=>{throw a},0)}function v(){var a=Gd;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Rn{constructor(){this.h=this.g=null}add(d,h){let g=Js.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var Js=new j(()=>new DD,a=>a.reset());class DD{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let eo,to=!1,Gd=new Rn,j_=()=>{let a=c.Promise.resolve(void 0);eo=()=>{a.then(ND)}};var ND=()=>{for(var a;a=v();){try{a.h.call(a.g)}catch(h){A(h)}var d=Js;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}to=!1};function er(){this.s=this.s,this.C=this.C}er.prototype.s=!1,er.prototype.ma=function(){this.s||(this.s=!0,this.N())},er.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Je(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Je.prototype.h=function(){this.defaultPrevented=!0};var kD=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function no(a,d){if(Je.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Ht){e:{try{me(d.nodeName);var S=!0;break e}catch{}S=!1}S||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:PD[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&no.aa.h.call(this)}}C(no,Je);var PD={2:"touch",3:"pen",4:"mouse"};no.prototype.h=function(){no.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ro="closure_listenable_"+(1e6*Math.random()|0),MD=0;function xD(a,d,h,g,S){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=S,this.key=++MD,this.da=this.fa=!1}function yc(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function _c(a){this.src=a,this.g={},this.h=0}_c.prototype.add=function(a,d,h,g,S){var R=a.toString();a=this.g[R],a||(a=this.g[R]=[],this.h++);var P=Qd(a,d,g,S);return-1<P?(d=a[P],h||(d.fa=!1)):(d=new xD(d,this.src,R,!!g,S),d.fa=h,a.push(d)),d};function Kd(a,d){var h=d.type;if(h in a.g){var g=a.g[h],S=Array.prototype.indexOf.call(g,d,void 0),R;(R=0<=S)&&Array.prototype.splice.call(g,S,1),R&&(yc(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Qd(a,d,h,g){for(var S=0;S<a.length;++S){var R=a[S];if(!R.da&&R.listener==d&&R.capture==!!h&&R.ha==g)return S}return-1}var Yd="closure_lm_"+(1e6*Math.random()|0),Zd={};function $_(a,d,h,g,S){if(g&&g.once)return H_(a,d,h,g,S);if(Array.isArray(d)){for(var R=0;R<d.length;R++)$_(a,d[R],h,g,S);return null}return h=th(h),a&&a[ro]?a.K(d,h,u(g)?!!g.capture:!!g,S):B_(a,d,h,!1,g,S)}function B_(a,d,h,g,S,R){if(!d)throw Error("Invalid event type");var P=u(S)?!!S.capture:!!S,ye=Jd(a);if(ye||(a[Yd]=ye=new _c(a)),h=ye.add(d,h,g,P,R),h.proxy)return h;if(g=OD(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)kD||(S=P),S===void 0&&(S=!1),a.addEventListener(d.toString(),g,S);else if(a.attachEvent)a.attachEvent(z_(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function OD(){function a(h){return d.call(a.src,a.listener,h)}let d=LD;return a}function H_(a,d,h,g,S){if(Array.isArray(d)){for(var R=0;R<d.length;R++)H_(a,d[R],h,g,S);return null}return h=th(h),a&&a[ro]?a.L(d,h,u(g)?!!g.capture:!!g,S):B_(a,d,h,!0,g,S)}function q_(a,d,h,g,S){if(Array.isArray(d))for(var R=0;R<d.length;R++)q_(a,d[R],h,g,S);else g=u(g)?!!g.capture:!!g,h=th(h),a&&a[ro]?(a=a.i,d=String(d).toString(),d in a.g&&(R=a.g[d],h=Qd(R,h,g,S),-1<h&&(yc(R[h]),Array.prototype.splice.call(R,h,1),R.length==0&&(delete a.g[d],a.h--)))):a&&(a=Jd(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Qd(d,h,g,S)),(h=-1<a?d[a]:null)&&Xd(h))}function Xd(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[ro])Kd(d.i,a);else{var h=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(h,g,a.capture):d.detachEvent?d.detachEvent(z_(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=Jd(d))?(Kd(h,a),h.h==0&&(h.src=null,d[Yd]=null)):yc(a)}}}function z_(a){return a in Zd?Zd[a]:Zd[a]="on"+a}function LD(a,d){if(a.da)a=!0;else{d=new no(d,this);var h=a.listener,g=a.ha||a.src;a.fa&&Xd(a),a=h.call(g,d)}return a}function Jd(a){return a=a[Yd],a instanceof _c?a:null}var eh="__closure_events_fn_"+(1e9*Math.random()>>>0);function th(a){return typeof a=="function"?a:(a[eh]||(a[eh]=function(d){return a.handleEvent(d)}),a[eh])}function et(){er.call(this),this.i=new _c(this),this.M=this,this.F=null}C(et,er),et.prototype[ro]=!0,et.prototype.removeEventListener=function(a,d,h,g){q_(this,a,d,h,g)};function ut(a,d){var h,g=a.F;if(g)for(h=[];g;g=g.F)h.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new Je(d,a);else if(d instanceof Je)d.target=d.target||a;else{var S=d;d=new Je(g,a),E(d,S)}if(S=!0,h)for(var R=h.length-1;0<=R;R--){var P=d.g=h[R];S=vc(P,g,!0,d)&&S}if(P=d.g=a,S=vc(P,g,!0,d)&&S,S=vc(P,g,!1,d)&&S,h)for(R=0;R<h.length;R++)P=d.g=h[R],S=vc(P,g,!1,d)&&S}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],g=0;g<h.length;g++)yc(h[g]);delete a.g[d],a.h--}}this.F=null},et.prototype.K=function(a,d,h,g){return this.i.add(String(a),d,!1,h,g)},et.prototype.L=function(a,d,h,g){return this.i.add(String(a),d,!0,h,g)};function vc(a,d,h,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var S=!0,R=0;R<d.length;++R){var P=d[R];if(P&&!P.da&&P.capture==h){var ye=P.listener,ze=P.ha||P.src;P.fa&&Kd(a.i,P),S=ye.call(ze,g)!==!1&&S}}return S&&!g.defaultPrevented}function W_(a,d,h){if(typeof a=="function")h&&(a=m(a,h));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function G_(a){a.g=W_(()=>{a.g=null,a.i&&(a.i=!1,G_(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class FD extends er{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:G_(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function io(a){er.call(this),this.h=a,this.g={}}C(io,er);var K_=[];function Q_(a){Ue(a.g,function(d,h){this.g.hasOwnProperty(h)&&Xd(d)},a),a.g={}}io.prototype.N=function(){io.aa.N.call(this),Q_(this)},io.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nh=c.JSON.stringify,VD=c.JSON.parse,UD=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function rh(){}rh.prototype.h=null;function Y_(a){return a.h||(a.h=a.i())}function Z_(){}var so={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ih(){Je.call(this,"d")}C(ih,Je);function sh(){Je.call(this,"c")}C(sh,Je);var Nr={},X_=null;function wc(){return X_=X_||new et}Nr.La="serverreachability";function J_(a){Je.call(this,Nr.La,a)}C(J_,Je);function oo(a){let d=wc();ut(d,new J_(d))}Nr.STAT_EVENT="statevent";function ev(a,d){Je.call(this,Nr.STAT_EVENT,a),this.stat=d}C(ev,Je);function dt(a){let d=wc();ut(d,new ev(d,a))}Nr.Ma="timingevent";function tv(a,d){Je.call(this,Nr.Ma,a),this.size=d}C(tv,Je);function ao(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function co(){this.g=!0}co.prototype.xa=function(){this.g=!1};function jD(a,d,h,g,S,R){a.info(function(){if(a.g)if(R)for(var P="",ye=R.split("&"),ze=0;ze<ye.length;ze++){var ue=ye[ze].split("=");if(1<ue.length){var tt=ue[0];ue=ue[1];var nt=tt.split("_");P=2<=nt.length&&nt[1]=="type"?P+(tt+"="+ue+"&"):P+(tt+"=redacted&")}}else P=null;else P=R;return"XMLHTTP REQ ("+g+") [attempt "+S+"]: "+d+`
`+h+`
`+P})}function $D(a,d,h,g,S,R,P){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+S+"]: "+d+`
`+h+`
`+R+" "+P})}function Ai(a,d,h,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+HD(a,h)+(g?" "+g:"")})}function BD(a,d){a.info(function(){return"TIMEOUT: "+d})}co.prototype.info=function(){};function HD(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var g=h[a];if(!(2>g.length)){var S=g[1];if(Array.isArray(S)&&!(1>S.length)){var R=S[0];if(R!="noop"&&R!="stop"&&R!="close")for(var P=1;P<S.length;P++)S[P]=""}}}}return nh(h)}catch{return d}}var Ic={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},nv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},oh;function Ec(){}C(Ec,rh),Ec.prototype.g=function(){return new XMLHttpRequest},Ec.prototype.i=function(){return{}},oh=new Ec;function tr(a,d,h,g){this.j=a,this.i=d,this.l=h,this.R=g||1,this.U=new io(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rv}function rv(){this.i=null,this.g="",this.h=!1}var iv={},ah={};function ch(a,d,h){a.L=1,a.v=Cc(Dn(d)),a.m=h,a.P=!0,sv(a,null)}function sv(a,d){a.F=Date.now(),Tc(a),a.A=Dn(a.v);var h=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),vv(h.i,"t",g),a.C=0,h=a.j.J,a.h=new rv,a.g=Fv(a.j,h?d:null,!a.m),0<a.O&&(a.M=new FD(m(a.Y,a,a.g),a.O)),d=a.U,h=a.g,g=a.ca;var S="readystatechange";Array.isArray(S)||(S&&(K_[0]=S.toString()),S=K_);for(var R=0;R<S.length;R++){var P=$_(h,S[R],g||d.handleEvent,!1,d.h||d);if(!P)break;d.g[P.key]=P}d=a.H?_(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),oo(),jD(a.i,a.u,a.A,a.l,a.R,a.m)}tr.prototype.ca=function(a){a=a.target;let d=this.M;d&&Nn(a)==3?d.j():this.Y(a)},tr.prototype.Y=function(a){try{if(a==this.g)e:{let nt=Nn(this.g);var d=this.g.Ba();let Ni=this.g.Z();if(!(3>nt)&&(nt!=3||this.g&&(this.h.h||this.g.oa()||Cv(this.g)))){this.J||nt!=4||d==7||(d==8||0>=Ni?oo(3):oo(2)),lh(this);var h=this.g.Z();this.X=h;t:if(ov(this)){var g=Cv(this.g);a="";var S=g.length,R=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kr(this),lo(this);var P="";break t}this.h.i=new c.TextDecoder}for(d=0;d<S;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(R&&d==S-1)});g.length=0,this.h.g+=a,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=h==200,$D(this.i,this.u,this.A,this.l,this.R,nt,h),this.o){if(this.T&&!this.K){t:{if(this.g){var ye,ze=this.g;if((ye=ze.g?ze.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(ye)){var ue=ye;break t}}ue=null}if(h=ue)Ai(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,uh(this,h);else{this.o=!1,this.s=3,dt(12),kr(this),lo(this);break e}}if(this.P){h=!0;let Jt;for(;!this.J&&this.C<P.length;)if(Jt=qD(this,P),Jt==ah){nt==4&&(this.s=4,dt(14),h=!1),Ai(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==iv){this.s=4,dt(15),Ai(this.i,this.l,P,"[Invalid Chunk]"),h=!1;break}else Ai(this.i,this.l,Jt,null),uh(this,Jt);if(ov(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nt!=4||P.length!=0||this.h.h||(this.s=1,dt(16),h=!1),this.o=this.o&&h,!h)Ai(this.i,this.l,P,"[Invalid Chunked Response]"),kr(this),lo(this);else if(0<P.length&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.ba&&!tt.M&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),mh(tt),tt.M=!0,dt(11))}}else Ai(this.i,this.l,P,null),uh(this,P);nt==4&&kr(this),this.o&&!this.J&&(nt==4?Mv(this.j,this):(this.o=!1,Tc(this)))}else aN(this.g),h==400&&0<P.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),kr(this),lo(this)}}}catch{}finally{}};function ov(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function qD(a,d){var h=a.C,g=d.indexOf(`
`,h);return g==-1?ah:(h=Number(d.substring(h,g)),isNaN(h)?iv:(g+=1,g+h>d.length?ah:(d=d.slice(g,g+h),a.C=g+h,d)))}tr.prototype.cancel=function(){this.J=!0,kr(this)};function Tc(a){a.S=Date.now()+a.I,av(a,a.I)}function av(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=ao(m(a.ba,a),d)}function lh(a){a.B&&(c.clearTimeout(a.B),a.B=null)}tr.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(BD(this.i,this.A),this.L!=2&&(oo(),dt(17)),kr(this),this.s=2,lo(this)):av(this,this.S-a)};function lo(a){a.j.G==0||a.J||Mv(a.j,a)}function kr(a){lh(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Q_(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function uh(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||dh(h.h,a))){if(!a.K&&dh(h.h,a)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var S=g;if(S[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)kc(h),Dc(h);else break e;gh(h),dt(18)}}else h.za=S[1],0<h.za-h.T&&37500>S[2]&&h.F&&h.v==0&&!h.C&&(h.C=ao(m(h.Za,h),6e3));if(1>=uv(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Mr(h,11)}else if((a.K||h.g==a)&&kc(h),!G(d))for(S=h.Da.g.parse(d),d=0;d<S.length;d++){let ue=S[d];if(h.T=ue[0],ue=ue[1],h.G==2)if(ue[0]=="c"){h.K=ue[1],h.ia=ue[2];let tt=ue[3];tt!=null&&(h.la=tt,h.j.info("VER="+h.la));let nt=ue[4];nt!=null&&(h.Aa=nt,h.j.info("SVER="+h.Aa));let Ni=ue[5];Ni!=null&&typeof Ni=="number"&&0<Ni&&(g=1.5*Ni,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let Jt=a.g;if(Jt){let Mc=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mc){var R=g.h;R.g||Mc.indexOf("spdy")==-1&&Mc.indexOf("quic")==-1&&Mc.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(hh(R,R.h),R.h=null))}if(g.D){let yh=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;yh&&(g.ya=yh,Ie(g.I,g.D,yh))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var P=a;if(g.qa=Lv(g,g.J?g.ia:null,g.W),P.K){dv(g.h,P);var ye=P,ze=g.L;ze&&(ye.I=ze),ye.B&&(lh(ye),Tc(ye)),g.g=P}else kv(g);0<h.i.length&&Nc(h)}else ue[0]!="stop"&&ue[0]!="close"||Mr(h,7);else h.G==3&&(ue[0]=="stop"||ue[0]=="close"?ue[0]=="stop"?Mr(h,7):ph(h):ue[0]!="noop"&&h.l&&h.l.ta(ue),h.v=0)}}oo(4)}catch{}}var zD=class{constructor(a,d){this.g=a,this.map=d}};function cv(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lv(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function uv(a){return a.h?1:a.g?a.g.size:0}function dh(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function hh(a,d){a.g?a.g.add(d):a.h=d}function dv(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}cv.prototype.cancel=function(){if(this.i=hv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function hv(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return D(a.i)}function WD(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(l(a)){for(var d=[],h=a.length,g=0;g<h;g++)d.push(a[g]);return d}d=[],h=0;for(g in a)d[h++]=a[g];return d}function GD(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(l(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let g in a)d[h++]=g;return d}}}function fv(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(l(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=GD(a),g=WD(a),S=g.length,R=0;R<S;R++)d.call(void 0,g[R],h&&h[R],a)}var pv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function KD(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var g=a[h].indexOf("="),S=null;if(0<=g){var R=a[h].substring(0,g);S=a[h].substring(g+1)}else R=a[h];d(R,S?decodeURIComponent(S.replace(/\+/g," ")):"")}}}function Pr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Pr){this.h=a.h,bc(this,a.j),this.o=a.o,this.g=a.g,Sc(this,a.s),this.l=a.l;var d=a.i,h=new fo;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),gv(this,h),this.m=a.m}else a&&(d=String(a).match(pv))?(this.h=!1,bc(this,d[1]||"",!0),this.o=uo(d[2]||""),this.g=uo(d[3]||"",!0),Sc(this,d[4]),this.l=uo(d[5]||"",!0),gv(this,d[6]||"",!0),this.m=uo(d[7]||"")):(this.h=!1,this.i=new fo(null,this.h))}Pr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(ho(d,mv,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(ho(d,mv,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(ho(h,h.charAt(0)=="/"?ZD:YD,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",ho(h,JD)),a.join("")};function Dn(a){return new Pr(a)}function bc(a,d,h){a.j=h?uo(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Sc(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function gv(a,d,h){d instanceof fo?(a.i=d,eN(a.i,a.h)):(h||(d=ho(d,XD)),a.i=new fo(d,a.h))}function Ie(a,d,h){a.i.set(d,h)}function Cc(a){return Ie(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function uo(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ho(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,QD),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function QD(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var mv=/[#\/\?@]/g,YD=/[#\?:]/g,ZD=/[#\?]/g,XD=/[#\?@]/g,JD=/#/g;function fo(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function nr(a){a.g||(a.g=new Map,a.h=0,a.i&&KD(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=fo.prototype,t.add=function(a,d){nr(this),this.i=null,a=Ri(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function yv(a,d){nr(a),d=Ri(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function _v(a,d){return nr(a),d=Ri(a,d),a.g.has(d)}t.forEach=function(a,d){nr(this),this.g.forEach(function(h,g){h.forEach(function(S){a.call(d,S,g,this)},this)},this)},t.na=function(){nr(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let S=a[g];for(let R=0;R<S.length;R++)h.push(d[g])}return h},t.V=function(a){nr(this);let d=[];if(typeof a=="string")_v(this,a)&&(d=d.concat(this.g.get(Ri(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},t.set=function(a,d){return nr(this),this.i=null,a=Ri(this,a),_v(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function vv(a,d,h){yv(a,d),0<h.length&&(a.i=null,a.g.set(Ri(a,d),D(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let R=encodeURIComponent(String(g)),P=this.V(g);for(g=0;g<P.length;g++){var S=R;P[g]!==""&&(S+="="+encodeURIComponent(String(P[g]))),a.push(S)}}return this.i=a.join("&")};function Ri(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function eN(a,d){d&&!a.j&&(nr(a),a.i=null,a.g.forEach(function(h,g){var S=g.toLowerCase();g!=S&&(yv(this,g),vv(this,S,h))},a)),a.j=d}function tN(a,d){let h=new co;if(c.Image){let g=new Image;g.onload=y(rr,h,"TestLoadImage: loaded",!0,d,g),g.onerror=y(rr,h,"TestLoadImage: error",!1,d,g),g.onabort=y(rr,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(rr,h,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function nN(a,d){let h=new co,g=new AbortController,S=setTimeout(()=>{g.abort(),rr(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(R=>{clearTimeout(S),R.ok?rr(h,"TestPingServer: ok",!0,d):rr(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(S),rr(h,"TestPingServer: error",!1,d)})}function rr(a,d,h,g,S){try{S&&(S.onload=null,S.onerror=null,S.onabort=null,S.ontimeout=null),g(h)}catch{}}function rN(){this.g=new UD}function iN(a,d,h){let g=h||"";try{fv(a,function(S,R){let P=S;u(S)&&(P=nh(S)),d.push(g+R+"="+encodeURIComponent(P))})}catch(S){throw d.push(g+"type="+encodeURIComponent("_badmap")),S}}function po(a){this.l=a.Ub||null,this.j=a.eb||!1}C(po,rh),po.prototype.g=function(){return new Ac(this.l,this.j)},po.prototype.i=function(a){return function(){return a}}({});function Ac(a,d){et.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Ac,et),t=Ac.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,mo(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,go(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,mo(this)),this.g&&(this.readyState=3,mo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wv(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function wv(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?go(this):mo(this),this.readyState==3&&wv(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,go(this))},t.Qa=function(a){this.g&&(this.response=a,go(this))},t.ga=function(){this.g&&go(this)};function go(a){a.readyState=4,a.l=null,a.j=null,a.v=null,mo(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function mo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ac.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Iv(a){let d="";return Ue(a,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function fh(a,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=Iv(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Ie(a,d,h))}function Ce(a){et.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ce,et);var sN=/^https?$/i,oN=["POST","PUT"];t=Ce.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():oh.g(),this.v=this.o?Y_(this.o):Y_(oh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(R){Ev(this,R);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var S in g)h.set(S,g[S]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let R of g.keys())h.set(R,g.get(R));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(R=>R.toLowerCase()=="content-type"),S=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(oN,d,void 0))||g||S||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,P]of h)this.g.setRequestHeader(R,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Sv(this),this.u=!0,this.g.send(a),this.u=!1}catch(R){Ev(this,R)}};function Ev(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,Tv(a),Rc(a)}function Tv(a){a.A||(a.A=!0,ut(a,"complete"),ut(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ut(this,"complete"),ut(this,"abort"),Rc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rc(this,!0)),Ce.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?bv(this):this.bb())},t.bb=function(){bv(this)};function bv(a){if(a.h&&typeof o<"u"&&(!a.v[1]||Nn(a)!=4||a.Z()!=2)){if(a.u&&Nn(a)==4)W_(a.Ea,0,a);else if(ut(a,"readystatechange"),Nn(a)==4){a.h=!1;try{let P=a.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=P===0){var S=String(a.D).match(pv)[1]||null;!S&&c.self&&c.self.location&&(S=c.self.location.protocol.slice(0,-1)),g=!sN.test(S?S.toLowerCase():"")}h=g}if(h)ut(a,"complete"),ut(a,"success");else{a.m=6;try{var R=2<Nn(a)?a.g.statusText:""}catch{R=""}a.l=R+" ["+a.Z()+"]",Tv(a)}}finally{Rc(a)}}}}function Rc(a,d){if(a.g){Sv(a);let h=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||ut(a,"ready");try{h.onreadystatechange=g}catch{}}}function Sv(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Nn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),VD(d)}};function Cv(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function aN(a){let d={};a=(a.g&&2<=Nn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(G(a[g]))continue;var h=T(a[g]);let S=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let R=d[S]||[];d[S]=R,R.push(h)}b(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function yo(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function Av(a){this.Aa=0,this.i=[],this.j=new co,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=yo("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=yo("baseRetryDelayMs",5e3,a),this.cb=yo("retryDelaySeedMs",1e4,a),this.Wa=yo("forwardChannelMaxRetries",2,a),this.wa=yo("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new cv(a&&a.concurrentRequestLimit),this.Da=new rN,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Av.prototype,t.la=8,t.G=1,t.connect=function(a,d,h,g){dt(0),this.W=a,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=Lv(this,null,this.W),Nc(this)};function ph(a){if(Rv(a),a.G==3){var d=a.U++,h=Dn(a.I);if(Ie(h,"SID",a.K),Ie(h,"RID",d),Ie(h,"TYPE","terminate"),_o(a,h),d=new tr(a,a.j,d),d.L=2,d.v=Cc(Dn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=Fv(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Tc(d)}Ov(a)}function Dc(a){a.g&&(mh(a),a.g.cancel(),a.g=null)}function Rv(a){Dc(a),a.u&&(c.clearTimeout(a.u),a.u=null),kc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Nc(a){if(!lv(a.h)&&!a.s){a.s=!0;var d=a.Ga;eo||j_(),to||(eo(),to=!0),Gd.add(d,a),a.B=0}}function cN(a,d){return uv(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=ao(m(a.Ga,a,d),xv(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let S=new tr(this,this.j,a),R=this.o;if(this.S&&(R?(R=_(R),E(R,this.S)):R=this.S),this.m!==null||this.O||(S.H=R,R=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=Nv(this,S,d),h=Dn(this.I),Ie(h,"RID",a),Ie(h,"CVER",22),this.D&&Ie(h,"X-HTTP-Session-Id",this.D),_o(this,h),R&&(this.O?d="headers="+encodeURIComponent(String(Iv(R)))+"&"+d:this.m&&fh(h,this.m,R)),hh(this.h,S),this.Ua&&Ie(h,"TYPE","init"),this.P?(Ie(h,"$req",d),Ie(h,"SID","null"),S.T=!0,ch(S,h,null)):ch(S,h,d),this.G=2}}else this.G==3&&(a?Dv(this,a):this.i.length==0||lv(this.h)||Dv(this))};function Dv(a,d){var h;d?h=d.l:h=a.U++;let g=Dn(a.I);Ie(g,"SID",a.K),Ie(g,"RID",h),Ie(g,"AID",a.T),_o(a,g),a.m&&a.o&&fh(g,a.m,a.o),h=new tr(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=Nv(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),hh(a.h,h),ch(h,g,d)}function _o(a,d){a.H&&Ue(a.H,function(h,g){Ie(d,g,h)}),a.l&&fv({},function(h,g){Ie(d,g,h)})}function Nv(a,d,h){h=Math.min(a.i.length,h);var g=a.l?m(a.l.Na,a.l,a):null;e:{var S=a.i;let R=-1;for(;;){let P=["count="+h];R==-1?0<h?(R=S[0].g,P.push("ofs="+R)):R=0:P.push("ofs="+R);let ye=!0;for(let ze=0;ze<h;ze++){let ue=S[ze].g,tt=S[ze].map;if(ue-=R,0>ue)R=Math.max(0,S[ze].g-100),ye=!1;else try{iN(tt,P,"req"+ue+"_")}catch{g&&g(tt)}}if(ye){g=P.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,g}function kv(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;eo||j_(),to||(eo(),to=!0),Gd.add(d,a),a.v=0}}function gh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=ao(m(a.Fa,a),xv(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Pv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=ao(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Dc(this),Pv(this))};function mh(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function Pv(a){a.g=new tr(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Dn(a.qa);Ie(d,"RID","rpc"),Ie(d,"SID",a.K),Ie(d,"AID",a.T),Ie(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ie(d,"TO",a.ja),Ie(d,"TYPE","xmlhttp"),_o(a,d),a.m&&a.o&&fh(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=Cc(Dn(d)),h.m=null,h.P=!0,sv(h,a)}t.Za=function(){this.C!=null&&(this.C=null,Dc(this),gh(this),dt(19))};function kc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function Mv(a,d){var h=null;if(a.g==d){kc(a),mh(a),a.g=null;var g=2}else if(dh(a.h,d))h=d.D,dv(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var S=a.B;g=wc(),ut(g,new tv(g,h)),Nc(a)}else kv(a);else if(S=d.s,S==3||S==0&&0<d.X||!(g==1&&cN(a,d)||g==2&&gh(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),S){case 1:Mr(a,5);break;case 4:Mr(a,10);break;case 3:Mr(a,6);break;default:Mr(a,2)}}}function xv(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function Mr(a,d){if(a.j.info("Error code "+d),d==2){var h=m(a.fb,a),g=a.Xa;let S=!g;g=new Pr(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||bc(g,"https"),Cc(g),S?tN(g.toString(),h):nN(g.toString(),h)}else dt(2);a.G=0,a.l&&a.l.sa(d),Ov(a),Rv(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Ov(a){if(a.G=0,a.ka=[],a.l){let d=hv(a.h);(d.length!=0||a.i.length!=0)&&(N(a.ka,d),N(a.ka,a.i),a.h.i.length=0,D(a.i),a.i.length=0),a.l.ra()}}function Lv(a,d,h){var g=h instanceof Pr?Dn(h):new Pr(h);if(g.g!="")d&&(g.g=d+"."+g.g),Sc(g,g.s);else{var S=c.location;g=S.protocol,d=d?d+"."+S.hostname:S.hostname,S=+S.port;var R=new Pr(null);g&&bc(R,g),d&&(R.g=d),S&&Sc(R,S),h&&(R.l=h),g=R}return h=a.D,d=a.ya,h&&d&&Ie(g,h,d),Ie(g,"VER",a.la),_o(a,g),g}function Fv(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Ce(new po({eb:h})):new Ce(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vv(){}t=Vv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Pc(){}Pc.prototype.g=function(a,d){return new xt(a,d)};function xt(a,d){et.call(this),this.g=new Av(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!G(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!G(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Di(this)}C(xt,et),xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xt.prototype.close=function(){ph(this.g)},xt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=nh(a),a=h);d.i.push(new zD(d.Ya++,a)),d.G==3&&Nc(d)},xt.prototype.N=function(){this.g.l=null,delete this.j,ph(this.g),delete this.g,xt.aa.N.call(this)};function Uv(a){ih.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}C(Uv,ih);function jv(){sh.call(this),this.status=1}C(jv,sh);function Di(a){this.g=a}C(Di,Vv),Di.prototype.ua=function(){ut(this.g,"a")},Di.prototype.ta=function(a){ut(this.g,new Uv(a))},Di.prototype.sa=function(a){ut(this.g,new jv)},Di.prototype.ra=function(){ut(this.g,"b")},Pc.prototype.createWebChannel=Pc.prototype.g,xt.prototype.send=xt.prototype.o,xt.prototype.open=xt.prototype.m,xt.prototype.close=xt.prototype.close,IA=Wn.createWebChannelTransport=function(){return new Pc},wA=Wn.getStatEventTarget=function(){return wc()},vA=Wn.Event=Nr,_A=Wn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ic.NO_ERROR=0,Ic.TIMEOUT=8,Ic.HTTP_ERROR=6,yA=Wn.ErrorCode=Ic,nv.COMPLETE="complete",mA=Wn.EventType=nv,Z_.EventType=so,so.OPEN="a",so.CLOSE="b",so.ERROR="c",so.MESSAGE="d",et.prototype.listen=et.prototype.K,gA=Wn.WebChannel=Z_,A4=Wn.FetchXmlHttpFactory=po,Ce.prototype.listenOnce=Ce.prototype.L,Ce.prototype.getLastError=Ce.prototype.Ka,Ce.prototype.getLastErrorCode=Ce.prototype.Ba,Ce.prototype.getStatus=Ce.prototype.Z,Ce.prototype.getResponseJson=Ce.prototype.Oa,Ce.prototype.getResponseText=Ce.prototype.oa,Ce.prototype.send=Ce.prototype.ea,Ce.prototype.setWithCredentials=Ce.prototype.Ha,pA=Wn.XhrIo=Ce}).apply(typeof gd<"u"?gd:typeof self<"u"?self:typeof window<"u"?window:{});var EA="@firebase/firestore",TA="4.8.0";var Xe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");var Ga="11.10.0";var Ls=new Nt("@firebase/firestore");function ln(t,...e){if(Ls.logLevel<=le.DEBUG){let n=e.map(cy);Ls.debug(`Firestore (${Ga}): ${t}`,...n)}}function LA(t,...e){if(Ls.logLevel<=le.ERROR){let n=e.map(cy);Ls.error(`Firestore (${Ga}): ${t}`,...n)}}function R4(t,...e){if(Ls.logLevel<=le.WARN){let n=e.map(cy);Ls.warn(`Firestore (${Ga}): ${t}`,...n)}}function cy(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Pt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,FA(t,r,n)}function FA(t,e,n){let r=`FIRESTORE (${Ga}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw LA(r),new Error(r)}function yi(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||FA(e,i,r)}var ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ee=class extends Fe{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var _i=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var md=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Hm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xe.UNAUTHENTICATED))}shutdown(){}},qm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},zm=class{constructor(e){this.t=e,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){yi(this.o===void 0,42304);let r=this.i,i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve(),s=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new _i,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let l=s;e.enqueueRetryable(()=>I(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},c=l=>{ln("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?c(l):(ln("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new _i)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ln("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(yi(typeof r.accessToken=="string",31837,{l:r}),new md(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return yi(e===null||typeof e=="string",2055,{h:e}),new Xe(e)}},Wm=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Gm=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Wm(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Xe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},yd=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Km=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,it(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){yi(this.o===void 0,3512);let r=s=>{s.error!=null&&ln("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.m;return this.m=s.token,ln("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{ln("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.V.getImmediate({optional:!0});s?i(s):ln("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new yd(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(yi(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new yd(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function D4(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function N4(){return new TextEncoder}var Qm=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=D4(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}};function Qt(t,e){return t<e?-1:t>e?1:0}function k4(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Qt(r,i);{let s=N4(),o=P4(s.encode(bA(t,n)),s.encode(bA(e,n)));return o!==0?o:Qt(r,i)}}n+=r>65535?2:1}return Qt(t.length,e.length)}function bA(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function P4(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Qt(t[n],e[n]);return Qt(t.length,e.length)}var SA="__name__",_d=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Pt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Pt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=t.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Qt(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):k4(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pd.fromString(e.substring(4,e.length-2))}},Gn=class t extends _d{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new ee(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},M4=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ym=class t extends _d{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return M4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===SA}static keyField(){return new t([SA])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new ee(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new ee(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ee(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new ee(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Kn=class t{constructor(e){this.path=e}static fromPath(e){return new t(Gn.fromString(e))}static fromName(e){return new t(Gn.fromString(e).popFirst(5))}static empty(){return new t(Gn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Gn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Gn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Gn(e.slice()))}};function x4(t,e,n,r){if(e===!0&&r===!0)throw new ee(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function O4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function L4(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pt(12329,{type:typeof t})}function F4(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ee(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=L4(t);throw new ee(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Pe(t,e){let n={typeString:t};return e&&(n.value=e),n}function Ka(t,e){if(!O4(t))throw new ee(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new ee(ie.INVALID_ARGUMENT,n);return!0}var CA=-62135596800,AA=1e6,$a=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*AA);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<CA)throw new ee(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/AA}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ka(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-CA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};$a._jsonSchemaVersion="firestore/timestamp/1.0",$a._jsonSchema={type:Pe("string",$a._jsonSchemaVersion),seconds:Pe("number"),nanoseconds:Pe("number")};var Zm=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Zm.UNKNOWN_ID=-1;function V4(t){return t.name==="IndexedDbTransactionError"}function U4(t){return t===0&&1/t==-1/0}var j4="remoteDocuments",VA="owner";var UA="mutationQueues";var jA="mutations";var $A="documentMutations",$4="remoteDocumentsV14";var BA="remoteDocumentGlobal";var HA="targets";var qA="targetDocuments";var zA="targetGlobal",WA="collectionParents";var GA="clientMetadata";var KA="bundles";var QA="namedQueries";var B4="indexConfiguration";var H4="indexState";var q4="indexEntries";var YA="documentOverlays";var z4="globals";var W4=[UA,jA,$A,j4,HA,VA,zA,qA,GA,BA,WA,KA,QA],vZ=[...W4,YA],G4=[UA,jA,$A,$4,HA,VA,zA,qA,GA,BA,WA,KA,QA,YA],K4=G4,Q4=[...K4,B4,H4,q4];var wZ=[...Q4,z4];var Fs=class t{constructor(e,n){this.comparator=e,this.root=n||Cn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Cn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ps(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ps(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ps(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ps(this.root,e,this.comparator,!0)}},Ps=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Cn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pt(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Pt(27949);return e+(this.isRed()?0:1)}};Cn.EMPTY=null,Cn.RED=!0,Cn.BLACK=!1;Cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Pt(57766)}get value(){throw Pt(16141)}get color(){throw Pt(16727)}get left(){throw Pt(29726)}get right(){throw Pt(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var vd=class t{constructor(e){this.comparator=e,this.data=new Fs(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wd(this.data.getIterator())}getIteratorFrom(e){return new wd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},wd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Xm=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ar=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Xm("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ar.EMPTY_BYTE_STRING=new Ar("");var Y4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Z4(t){if(yi(!!t,39018),typeof t=="string"){let e=0,n=Y4.exec(t);if(yi(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ba(t.seconds),nanos:Ba(t.nanos)}}function Ba(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function X4(t){return typeof t=="string"?Ar.fromBase64String(t):Ar.fromUint8Array(t)}var Jm="(default)",ey=class t{constructor(e,n){this.projectId=e,this.database=n||Jm}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===Jm}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var ZA="__type__",J4="__max__";var XA="__vector__",JA="value";function e3(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[ZA])===null||n===void 0?void 0:n.stringValue)===XA}function t3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===J4}var EZ={mapValue:{fields:{[ZA]:{stringValue:XA},[JA]:{arrayValue:{}}}}};var ty=class{constructor(e,n=null,r=[],i=[],s=null,o="F",c=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function n3(t){return new ty(t)}var TZ=new Fs(Kn.comparator);var bZ=new Fs(Kn.comparator);var SZ=new Fs(Kn.comparator),CZ=new vd(Kn.comparator);var AZ=new vd(Qt);var RA,re;(re=RA||(RA={}))[re.OK=0]="OK",re[re.CANCELLED=1]="CANCELLED",re[re.UNKNOWN=2]="UNKNOWN",re[re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",re[re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",re[re.NOT_FOUND=5]="NOT_FOUND",re[re.ALREADY_EXISTS=6]="ALREADY_EXISTS",re[re.PERMISSION_DENIED=7]="PERMISSION_DENIED",re[re.UNAUTHENTICATED=16]="UNAUTHENTICATED",re[re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",re[re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",re[re.ABORTED=10]="ABORTED",re[re.OUT_OF_RANGE=11]="OUT_OF_RANGE",re[re.UNIMPLEMENTED=12]="UNIMPLEMENTED",re[re.INTERNAL=13]="INTERNAL",re[re.UNAVAILABLE=14]="UNAVAILABLE",re[re.DATA_LOSS=15]="DATA_LOSS";var RZ=new pd([4294967295,4294967295],0);var Id=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(Ba(e.integerValue));else if("doubleValue"in e){let r=Ba(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),U4(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=Z4(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(X4(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?t3(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):e3(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):Pt(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let s=e.fields||{};this.Ct(n,53);let o=JA,c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(Ba(c)),this.xt(o,n),this.Dt(s[o],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),Kn.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};Id.Ut=new Id;var DZ=new Uint8Array(0);var e0=41943040,Sn=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(e0,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);var r3=1048576;function Bm(){return typeof document<"u"?document:null}var ny=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&ln("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var ry=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,c=new t(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var DA,NA;(NA=DA||(DA={})).Fa="default",NA.Cache="cache";function i3(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var kA=new Map;var t0="firestore.googleapis.com",PA=!0,Ed=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ee(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=t0,this.ssl=PA}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:PA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=e0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<r3)throw new ee(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}x4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=i3((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ee(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ee(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ee(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Td=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ed({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ee(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ee(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ed(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Hm;switch(r.type){case"firstParty":return new Gm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return I(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=kA.get(n);r&&(ln("ComponentProvider","Removing Datastore"),kA.delete(n),r.terminate())}(this),Promise.resolve()}};function n0(t,e,n,r={}){var i;t=F4(t,Td);let s=Gt(e),o=t._getSettings(),c=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&(vr(`https://${l}`),wr("Firestore",!0)),o.host!==t0&&o.host!==l&&R4("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!Dt(u,c)&&(t._setSettings(u),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=Xe.MOCK_USER;else{f=Rs(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new ee(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Xe(m)}t._authCredentials=new qm(new md(f,p))}}var iy=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},vi=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sy(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ka(n,t._jsonSchema))return new t(e,r||null,new Kn(Gn.fromString(n.referencePath)))}};vi._jsonSchemaVersion="firestore/documentReference/1.0",vi._jsonSchema={type:Pe("string",vi._jsonSchemaVersion),referencePath:Pe("string")};var sy=class t extends iy{constructor(e,n,r){super(e,n,n3(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new vi(this.firestore,null,new Kn(e))}withConverter(e){return new t(this.firestore,e,this._path)}};var MA="AsyncQueue",bd=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new ny(this,"async_queue_retry"),this.oc=()=>{let r=Bm();r&&ln(MA,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=Bm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=Bm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new _i;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return I(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!V4(e))throw e;ln(MA,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,LA("INTERNAL UNHANDLED ERROR: ",xA(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=ry.createAndSchedule(this,e,n,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&Pt(47125,{hc:xA(this.tc)})}verifyOperationInProgress(){}Pc(){return I(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function xA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}var oy=class extends Td{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new bd,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return I(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new bd(e),this._firestoreClient=void 0,yield e}})}};function r0(t,e){let n=typeof t=="object"?t:st(),r=typeof t=="string"?t:e||Jm,i=Be(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=As("firestore");s&&n0(i,...s)}return i}var Ha=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Ar.fromBase64String(e))}catch(n){throw new ee(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Ar.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ka(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};Ha._jsonSchemaVersion="firestore/bytes/1.0",Ha._jsonSchema={type:Pe("string",Ha._jsonSchemaVersion),bytes:Pe("string")};var Sd=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ym(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var qa=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(Ka(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};qa._jsonSchemaVersion="firestore/geoPoint/1.0",qa._jsonSchema={type:Pe("string",qa._jsonSchemaVersion),latitude:Pe("number"),longitude:Pe("number")};var za=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ka(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new ee(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};za._jsonSchemaVersion="firestore/vectorValue/1.0",za._jsonSchema={type:Pe("string",za._jsonSchemaVersion),vectorValues:Pe("object")};var s3=new RegExp("[~\\*/\\[\\]]");function o3(t,e,n){if(e.search(s3)>=0)throw OA(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sd(...e.split("."))._internalPath}catch{throw OA(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function OA(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ee(ie.INVALID_ARGUMENT,c+t+l)}var Cd=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new vi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new ay(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(i0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},ay=class extends Cd{data(){return super.data()}};function i0(t,e){return typeof e=="string"?o3(t,e):e instanceof Sd?e._internalPath:e._delegate._internalPath}var Ms=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},xs=class t extends Cd{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Os(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(i0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ee(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};xs._jsonSchemaVersion="firestore/documentSnapshot/1.0",xs._jsonSchema={type:Pe("string",xs._jsonSchemaVersion),bundleSource:Pe("string","DocumentSnapshot"),bundleName:Pe("string"),bundle:Pe("string")};var Os=class extends xs{data(e={}){return super.data(e)}},Wa=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ms(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Os(this._firestore,this._userDataWriter,r.key,r,new Ms(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ee(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{let l=new Os(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ms(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let l=new Os(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ms(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,f=-1;return c.type!==0&&(u=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),f=o.indexOf(c.doc.key)),{type:a3(c.type),doc:l,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ee(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Qm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function a3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pt(61501,{type:t})}}Wa._jsonSchemaVersion="firestore/querySnapshot/1.0",Wa._jsonSchema={type:Pe("string",Wa._jsonSchemaVersion),bundleSource:Pe("string","QuerySnapshot"),bundleName:Pe("string"),bundle:Pe("string")};(function(e,n=!0){(function(i){Ga=i})(Kt),be(new pe("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new oy(new zm(r.getProvider("auth-internal")),new Km(o,r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ee(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ey(u.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),$(EA,TA,e),$(EA,TA,"esm2017")})();var Qa=class{constructor(e){return e}},s0="firestore",ly=class{constructor(){return kt(s0)}};var uy=new O("angularfire2.firestore-instances");function c3(t,e){let n=jt(s0,t,e);return n&&new Qa(n)}function l3(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Qa(r)}}var u3={provide:ly,deps:[[new fe,uy]]},d3={provide:Qa,useFactory:c3,deps:[[new fe,uy],Ze]};function o0(t,...e){return $("angularfire",He.full,"fst"),Ke([d3,u3,{provide:uy,useFactory:l3(t),multi:!0,deps:[Y,ve,ot,_t,[new fe,zn],[new fe,Tn],...e]}])}var a0=Ve(r0,!0);var c0="@firebase/database",l0="1.0.20";var c_="";function h3(t){c_=t}var _y=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),$e(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ss(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var vy=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return En(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var $0=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new _y(e)}}catch{}return new vy},Ii=$0("localStorage"),wy=$0("sessionStorage");var $s=new Nt("@firebase/database"),f3=function(){let t=1;return function(){return t++}}(),B0=function(t){let e=iS(t),n=new Ou;n.update(e);let r=n.digest();return Cs.encodeByteArray(r)},cc=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=cc.apply(null,r):typeof r=="object"?e+=$e(r):e+=r,e+=" "}return e},Ei=null,u0=!0,p3=function(t,e){M(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?($s.logLevel=le.VERBOSE,Ei=$s.log.bind($s),e&&wy.set("logging_enabled",!0)):typeof t=="function"?Ei=t:(Ei=null,wy.remove("logging_enabled"))},at=function(...t){if(u0===!0&&(u0=!1,Ei===null&&wy.get("logging_enabled")===!0&&p3(!0)),Ei){let e=cc.apply(null,t);Ei(e)}},lc=function(t){return function(...e){at(t,...e)}},Iy=function(...t){let e="FIREBASE INTERNAL ERROR: "+cc(...t);$s.error(e)},Yn=function(...t){let e=`FIREBASE FATAL ERROR: ${cc(...t)}`;throw $s.error(e),new Error(e)},Bt=function(...t){let e="FIREBASE WARNING: "+cc(...t);$s.warn(e)},g3=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Bt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},H0=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},m3=function(t){if(wn()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Hs="[MIN_NAME]",Ti="[MAX_NAME]",Ys=function(t,e){if(t===e)return 0;if(t===Hs||e===Ti)return-1;if(e===Hs||t===Ti)return 1;{let n=d0(t),r=d0(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},y3=function(t,e){return t===e?0:t<e?-1:1},Ya=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+$e(e))},l_=function(t){if(typeof t!="object"||t===null)return $e(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=$e(e[r]),n+=":",n+=l_(t[e[r]]);return n+="}",n},q0=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Xt(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var z0=function(t){M(!H0(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,s,o,c,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=c+r,o=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));let u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();let f=u.join(""),p="";for(l=0;l<64;l+=8){let m=parseInt(f.substr(l,8),2).toString(16);m.length===1&&(m="0"+m),p=p+m}return p.toLowerCase()},_3=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},v3=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};var w3=new RegExp("^-?(0*)\\d{1,10}$"),I3=-2147483648,E3=2147483647,d0=function(t){if(w3.test(t)){let e=Number(t);if(e>=I3&&e<=E3)return e}return null},uc=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw Bt("Exception was thrown by user callback.",n),e},Math.floor(0))}},T3=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},tc=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Ey=class{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,it(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Bt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Ty=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(at("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Bt(e)}},nc=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Rd="5",W0="v",G0="s",K0="r",Q0="f",Y0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Z0="ls",X0="p",by="ac",J0="websocket",eR="long_polling";var Dd=class{constructor(e,n,r,i,s=!1,o="",c=!1,l=!1,u=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=l,this.emulatorOptions=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ii.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ii.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function b3(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function tR(t,e,n){M(typeof e=="string","typeof type must == string"),M(typeof n=="object","typeof params must == object");let r;if(e===J0)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===eR)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);b3(t)&&(n.ns=t.namespace);let i=[];return Xt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var Sy=class{constructor(){this.counters_={}}incrementCounter(e,n=1){En(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Qb(this.counters_)}};var dy={},hy={};function u_(t){let e=t.toString();return dy[e]||(dy[e]=new Sy),dy[e]}function S3(t,e){let n=t.toString();return hy[n]||(hy[n]=e()),hy[n]}var Cy=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&uc(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var h0="start",C3="close",A3="pLPCommand",R3="pRTLPCB",nR="id",rR="pw",iR="ser",D3="cb",N3="seg",k3="ts",P3="d",M3="dframe",sR=1870,oR=30,x3=sR-oR,O3=25e3,L3=3e4,Ay=class t{constructor(e,n,r,i,s,o,c){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=lc(e),this.stats_=u_(n),this.urlFn=l=>(this.appCheckToken&&(l[by]=this.appCheckToken),tR(n,eR,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Cy(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(L3)),m3(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ry((...s)=>{let[o,c,l,u,f]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===h0)this.id=c,this.password=l;else if(o===C3)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,c]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,c)},()=>{this.onClosed_()},this.urlFn);let r={};r[h0]="t",r[iR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[D3]=this.scriptTagHolder.uniqueCallbackIdentifier),r[W0]=Rd,this.transportSessionId&&(r[G0]=this.transportSessionId),this.lastSessionId&&(r[Z0]=this.lastSessionId),this.applicationId&&(r[X0]=this.applicationId),this.appCheckToken&&(r[by]=this.appCheckToken),typeof location<"u"&&location.hostname&&Y0.test(location.hostname)&&(r[K0]=Q0);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return wn()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!_3()&&!v3()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=$e(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=fg(n),i=q0(r,x3);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(wn())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[M3]="t",r[nR]=e,r[rR]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=$e(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Ry=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,wn())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=f3(),window[A3+this.uniqueCallbackIdentifier]=e,window[R3+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(c){at("frame writing exception"),c.stack&&at(c.stack),at(c)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||at("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[nR]=this.myID,e[rR]=this.myPW,e[iR]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+oR+r.length<=sR;){let o=this.pendingSegs.shift();r=r+"&"+N3+i+"="+o.seg+"&"+k3+i+"="+o.ts+"&"+P3+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(O3)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){wn()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{at("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var F3=16384,V3=45e3,Nd=null;typeof MozWebSocket<"u"?Nd=MozWebSocket:typeof WebSocket<"u"&&(Nd=WebSocket);var Za=(()=>{class t{constructor(n,r,i,s,o,c,l){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=lc(this.connId),this.stats_=u_(r),this.connURL=t.connectionURL_(r,c,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){let c={};return c[W0]=Rd,!wn()&&typeof location<"u"&&location.hostname&&Y0.test(location.hostname)&&(c[K0]=Q0),r&&(c[G0]=r),i&&(c[Z0]=i),s&&(c[by]=s),o&&(c[X0]=o),tR(n,J0,c)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ii.set("previous_websocket_failure",!0);try{let i;if(wn()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Rd}/${c_}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,c=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;c&&(i.proxy={origin:c})}this.mySock=new Nd(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Nd!==null&&!t.forceDisallow_}static previouslyFailed(){return Ii.isInMemoryStorage||Ii.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ii.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Ss(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(M(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=$e(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=q0(r,F3);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(V3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),U3=(()=>{class t{static get ALL_TRANSPORTS(){return[Ay,Za]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let r=Za&&Za.isAvailable(),i=r&&!Za.previouslyFailed();if(n.webSocketOnly&&(r||Bt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Za];else{let s=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),j3=6e4,$3=5e3,B3=10*1024,H3=100*1024,fy="t",f0="d",q3="s",p0="r",z3="e",g0="o",m0="a",y0="n",_0="p",W3="h",Dy=class{constructor(e,n,r,i,s,o,c,l,u,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=c,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=lc("c:"+this.id+":"),this.transportManager_=new U3(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=tc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>H3?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>B3?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(fy in e){let n=e[fy];n===m0?this.upgradeIfSecondaryHealthy_():n===p0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===g0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Ya("t",e),r=Ya("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:_0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:m0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:y0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Ya("t",e),r=Ya("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Ya(fy,e);if(f0 in e){let r=e[f0];if(n===W3){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===y0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===q3?this.onConnectionShutdown_(r):n===p0?this.onReset_(r):n===z3?Iy("Server Error: "+r):n===g0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Iy("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Rd!==r&&Bt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),tc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(j3))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):tc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor($3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:_0,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ii.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var kd=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var Pd=class{constructor(e){this.allowedEvents_=e,this.listeners_={},M(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){M(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Md=class t extends Pd{static getInstance(){return new t}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ta()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return M(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var v0=32,w0=768,we=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function ge(){return new we("")}function se(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Dr(t){return t.pieces_.length-t.pieceNum_}function Ee(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new we(t.pieces_,e)}function aR(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function G3(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function cR(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function lR(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new we(e,0)}function qe(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof we)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new we(n,0)}function ne(t){return t.pieceNum_>=t.pieces_.length}function Yt(t,e){let n=se(t),r=se(e);if(n===null)return e;if(n===r)return Yt(Ee(t),Ee(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function uR(t,e){if(Dr(t)!==Dr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function dn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Dr(t)>Dr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var Ny=class{constructor(e,n){this.errorPrefix_=n,this.parts_=cR(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ra(this.parts_[r]);dR(this)}};function K3(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Ra(e),dR(t)}function Q3(t){let e=t.parts_.pop();t.byteLength_-=Ra(e),t.parts_.length>0&&(t.byteLength_-=1)}function dR(t){if(t.byteLength_>w0)throw new Error(t.errorPrefix_+"has a key path longer than "+w0+" bytes ("+t.byteLength_+").");if(t.parts_.length>v0)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+v0+") or object contains a cycle "+wi(t))}function wi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var ky=class t extends Pd{static getInstance(){return new t}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return M(e==="visible","Unknown event type: "+e),[this.visible_]}};var Xa=1e3,Y3=60*5*1e3,I0=30*1e3,Z3=1.3,X3=3e4,J3="server_kill",E0=3,d_=(()=>{class t extends kd{constructor(n,r,i,s,o,c,l,u){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=c,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=t.nextPersistentConnectionId_++,this.log_=lc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Xa,this.maxReconnectDelay_=Y3,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!wn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ky.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Md.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_($e(o)),M(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();let r=new vn,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:c=>{let l=c.d;c.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();let o=n._queryIdentifier,c=n._path.toString();this.log_("Listen called for "+c+" "+o),this.listens.has(c)||this.listens.set(c,new Map),M(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),M(!this.listens.get(c).has(o),"listen() called twice for same path/queryId.");let l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(c).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},c="q";n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(c,o,l=>{let u=l.d,f=l.s;t.warnOnListenWarnings_(u,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",l),f!=="ok"&&this.removeListen_(i,s),n.onComplete&&n.onComplete(f,u))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&En(n,"w")){let i=ri(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Bt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||tS(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=I0)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=eS(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,c=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),M(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);let o={p:n},c="n";s&&(o.q=i,o.t=s),this.sendRequest(c,o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,c=>{s&&setTimeout(()=>{s(c.s,c.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();let c={p:r,d:i};o!==void 0&&(c.h=o),this.outstandingPuts_.push({action:n,request:c,onComplete:s}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+$e(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Iy("Unrecognized action received from server: "+$e(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){M(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Xa,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Xa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>X3&&(this.reconnectDelay_=Xa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Z3)}this.onConnectStatus_(!1)}establishConnection_(){return I(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,c=!1,l=null,u=function(){l?l.close():(c=!0,i())},f=function(m){M(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(m)};this.realtime_={close:u,sendRequest:f};let p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[m,y]=yield Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);c?at("getToken() completed but was canceled"):(at("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=y&&y.token,l=new Dy(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,C=>{Bt(C+" ("+this.repoInfo_.toString()+")"),this.interrupt(J3)},o))}catch(m){this.log_("Failed to get token: "+m),c||(this.repoInfo_.nodeAdmin&&Bt(m),u())}}})}interrupt(n){at("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){at("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Ca(this.interruptReasons_)&&(this.reconnectDelay_=Xa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(o=>l_(o)).join("$"):i="default";let s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){let i=new we(n).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){at("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=E0&&(this.reconnectDelay_=I0,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){at("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=E0&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";wn()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+c_.replace(/\./g,"-")]=1,Ta()?n["framework.cordova"]=1:Lu()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Md.getInstance().currentlyOnline();return Ca(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),oe=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var qs=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new oe(Hs,e),i=new oe(Hs,n);return this.compare(r,i)!==0}minPost(){return oe.MIN}};var Ad,xd=class extends qs{static get __EMPTY_NODE(){return Ad}static set __EMPTY_NODE(e){Ad=e}compare(e,n){return Ys(e.name,n.name)}isDefinedOn(e){throw ti("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return oe.MIN}maxPost(){return new oe(Ti,Ad)}makePost(e,n){return M(typeof e=="string","KeyIndex indexValue must always be a string."),new oe(e,Ad)}toString(){return".key"}},Bs=new xd;var Us=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},un=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??Zt.EMPTY_NODE,this.right=o??Zt.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Zt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return Zt.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),Py=class{copy(e,n,r,i,s){return this}insert(e,n,r){return new un(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Zt=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,un.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,un.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Us(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Us(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Us(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Us(this.root_,null,this.comparator_,!0,e)}};Zt.EMPTY_NODE=new Py;function e$(t,e){return Ys(t.name,e.name)}function h_(t,e){return Ys(t,e)}var My;function t$(t){My=t}var hR=function(t){return typeof t=="number"?"number:"+z0(t):"string:"+t},fR=function(t){if(t.isLeafNode()){let e=t.val();M(typeof e=="string"||typeof e=="number"||typeof e=="object"&&En(e,".sv"),"Priority must be a string or number.")}else M(t===My||t.isEmpty(),"priority of unexpected type.");M(t===My||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var T0,zs=(()=>{class t{static set __childrenNodeConstructor(n){T0=n}static get __childrenNodeConstructor(){return T0}constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,M(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),fR(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return ne(n)?this:se(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=se(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(M(i!==".priority"||Dr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ee(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+hR(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=z0(this.value_):n+=this.value_,this.lazyHash_=B0(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(M(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return M(s>=0,"Unknown leaf type: "+r),M(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),pR,gR;function n$(t){pR=t}function r$(t){gR=t}var xy=class extends qs{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Ys(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return oe.MIN}maxPost(){return new oe(Ti,new zs("[PRIORITY-POST]",gR))}makePost(e,n){let r=pR(e);return new oe(n,new zs("[PRIORITY-POST]",r))}toString(){return".priority"}},lt=new xy;var i$=Math.log(2),Oy=class{constructor(e){let n=s=>parseInt(Math.log(s)/i$,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Od=function(t,e,n,r){t.sort(e);let i=function(l,u){let f=u-l,p,m;if(f===0)return null;if(f===1)return p=t[l],m=n?n(p):p,new un(m,p.node,un.BLACK,null,null);{let y=parseInt(f/2,10)+l,C=i(l,y),D=i(y+1,u);return p=t[y],m=n?n(p):p,new un(m,p.node,un.BLACK,C,D)}},s=function(l){let u=null,f=null,p=t.length,m=function(C,D){let N=p-C,j=p;p-=C;let G=i(N+1,j),X=t[N],me=n?n(X):X;y(new un(me,X.node,D,null,G))},y=function(C){u?(u.left=C,u=C):(f=C,u=C)};for(let C=0;C<l.count;++C){let D=l.nextBitIsOne(),N=Math.pow(2,l.count-(C+1));D?m(N,un.BLACK):(m(N,un.BLACK),m(N,un.RED))}return f},o=new Oy(t.length),c=s(o);return new Zt(r||e,c)};var py,Vs={},Ws=class t{static get Default(){return M(Vs&&lt,"ChildrenNode.ts has not been loaded"),py=py||new t({".priority":Vs},{".priority":lt}),py}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){let n=ri(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Zt?n:null}hasIndex(e){return En(this.indexSet_,e.toString())}addIndex(e,n){M(e!==Bs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=n.getIterator(oe.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let c;i?c=Od(r,e.getCompare()):c=Vs;let l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;let f=Object.assign({},this.indexes_);return f[l]=c,new t(f,u)}addToIndexes(e,n){let r=Aa(this.indexes_,(i,s)=>{let o=ri(this.indexSet_,s);if(M(o,"Missing index implementation for "+s),i===Vs)if(o.isDefinedOn(e.node)){let c=[],l=n.getIterator(oe.Wrap),u=l.getNext();for(;u;)u.name!==e.name&&c.push(u),u=l.getNext();return c.push(e),Od(c,o.getCompare())}else return Vs;else{let c=n.get(e.name),l=i;return c&&(l=l.remove(new oe(e.name,c))),l.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=Aa(this.indexes_,i=>{if(i===Vs)return i;{let s=n.get(e.name);return s?i.remove(new oe(e.name,s)):i}});return new t(r,this.indexSet_)}};var Ja,Se=(()=>{class t{static get EMPTY_NODE(){return Ja||(Ja=new t(new Zt(h_),null,Ws.Default))}constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&fR(this.priorityNode_),this.children_.isEmpty()&&M(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ja}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?Ja:r}}getChild(n){let r=se(n);return r===null?this:this.getImmediateChild(r).getChild(Ee(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(M(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new oe(n,r),s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));let c=s.isEmpty()?Ja:this.priorityNode_;return new t(s,c,o)}}updateChild(n,r){let i=se(n);if(i===null)return r;{M(se(n)!==".priority"||Dr(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(Ee(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(lt,(c,l)=>{r[c]=l.val(n),i++,o&&t.INTEGER_REGEXP_.test(c)?s=Math.max(s,Number(c)):o=!1}),!n&&o&&s<2*i){let c=[];for(let l in r)c[l]=r[l];return c}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+hR(this.getPriority().val())+":"),this.forEachChild(lt,(r,i)=>{let s=i.hash();s!==""&&(n+=":"+r+":"+s)}),this.lazyHash_=n===""?"":B0(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new oe(n,r));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new oe(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new oe(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,oe.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,oe.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===dc?-1:0}withIndex(n){if(n===Bs||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Bs||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(lt),s=r.getIterator(lt),o=i.getNext(),c=s.getNext();for(;o&&c;){if(o.name!==c.name||!o.node.equals(c.node))return!1;o=i.getNext(),c=s.getNext()}return o===null&&c===null}else return!1;else return!1}}resolveIndex_(n){return n===Bs?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),Ly=class extends Se{constructor(){super(new Zt(h_),Se.EMPTY_NODE,Ws.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Se.EMPTY_NODE}isEmpty(){return!1}},dc=new Ly;Object.defineProperties(oe,{MIN:{value:new oe(Hs,Se.EMPTY_NODE)},MAX:{value:new oe(Ti,dc)}});xd.__EMPTY_NODE=Se.EMPTY_NODE;zs.__childrenNodeConstructor=Se;t$(dc);r$(dc);var s$=!0;function ct(t,e=null){if(t===null)return Se.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),M(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new zs(n,ct(e))}if(!(t instanceof Array)&&s$){let n=[],r=!1;if(Xt(t,(o,c)=>{if(o.substring(0,1)!=="."){let l=ct(c);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new oe(o,l)))}}),n.length===0)return Se.EMPTY_NODE;let s=Od(n,e$,o=>o.name,h_);if(r){let o=Od(n,lt.getCompare());return new Se(s,ct(e),new Ws({".priority":o},{".priority":lt}))}else return new Se(s,ct(e),Ws.Default)}else{let n=Se.EMPTY_NODE;return Xt(t,(r,i)=>{if(En(t,r)&&r.substring(0,1)!=="."){let s=ct(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(ct(e))}}n$(ct);var Fy=class extends qs{constructor(e){super(),this.indexPath_=e,M(!ne(e)&&se(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Ys(e.name,n.name):s}makePost(e,n){let r=ct(e),i=Se.EMPTY_NODE.updateChild(this.indexPath_,r);return new oe(n,i)}maxPost(){let e=Se.EMPTY_NODE.updateChild(this.indexPath_,dc);return new oe(Ti,e)}toString(){return cR(this.indexPath_,0).join("/")}};var Vy=class extends qs{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Ys(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return oe.MIN}maxPost(){return oe.MAX}makePost(e,n){let r=ct(e);return new oe(n,r)}toString(){return".value"}},o$=new Vy;function a$(t){return{type:"value",snapshotNode:t}}function c$(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function l$(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function b0(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function u$(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var Uy=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=lt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return M(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return M(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Hs}hasEnd(){return this.endSet_}getIndexEndValue(){return M(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return M(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ti}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return M(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===lt}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function S0(t){let e={};if(t.isDefault())return e;let n;if(t.index_===lt?n="$priority":t.index_===o$?n="$value":t.index_===Bs?n="$key":(M(t.index_ instanceof Fy,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=$e(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=$e(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+$e(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=$e(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+$e(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function C0(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==lt&&(e.i=t.index_.toString()),e}var jy=class t extends kd{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(M(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=lc("p:rest:"),this.listens_={}}listen(e,n,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=t.getListenId_(e,r),c={};this.listens_[o]=c;let l=S0(e._queryParams);this.restRequest_(s+".json",l,(u,f)=>{let p=f;if(u===404&&(p=null,u=null),u===null&&this.onDataUpdate_(s,p,!1,r),ri(this.listens_,o)===c){let m;u?u===401?m="permission_denied":m="rest_error:"+u:m="ok",i(m,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=S0(e._queryParams),r=e._path.toString(),i=new vn;return this.restRequest_(r+".json",n,(s,o)=>{let c=o;s===404&&(c=null,s=null),s===null?(this.onDataUpdate_(r,c,!1,null),i.resolve(c)):i.reject(new Error(c))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ii(n);this.log_("Sending REST request for "+o);let c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+o+" received. status:",c.status,"response:",c.responseText);let l=null;if(c.status>=200&&c.status<300){try{l=Ss(c.responseText)}catch{Bt("Failed to parse JSON response for "+o+": "+c.responseText)}r(null,l)}else c.status!==401&&c.status!==404&&Bt("Got unsuccessful REST response for "+o+" Status: "+c.status),r(c.status);r=null}},c.open("GET",o,!0),c.send()})}};var $y=class{constructor(){this.rootNode_=Se.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Ld(){return{value:null,children:new Map}}function mR(t,e,n){if(ne(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=se(e);t.children.has(r)||t.children.set(r,Ld());let i=t.children.get(r);e=Ee(e),mR(i,e,n)}}function By(t,e,n){t.value!==null?n(e,t.value):d$(t,(r,i)=>{let s=new we(e.toString()+"/"+r);By(i,s,n)})}function d$(t,e){t.children.forEach((n,r)=>{e(r,n)})}var Hy=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Xt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var A0=10*1e3,h$=30*1e3,f$=5*60*1e3,qy=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Hy(e);let r=A0+(h$-A0)*Math.random();tc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;Xt(e,(i,s)=>{s>0&&En(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),tc(this.reportStats_.bind(this),Math.floor(Math.random()*2*f$))}};var Qn=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Qn||{});function yR(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function _R(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function vR(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var zy=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Qn.ACK_USER_WRITE,this.source=yR()}operationForChild(e){if(ne(this.path)){if(this.affectedTree.value!=null)return M(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new we(e));return new t(ge(),n,this.revert)}}else return M(se(this.path)===e,"operationForChild called for unrelated child."),new t(Ee(this.path),this.affectedTree,this.revert)}};var Gs=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Qn.OVERWRITE}operationForChild(e){return ne(this.path)?new t(this.source,ge(),this.snap.getImmediateChild(e)):new t(this.source,Ee(this.path),this.snap)}};var Fd=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Qn.MERGE}operationForChild(e){if(ne(this.path)){let n=this.children.subtree(new we(e));return n.isEmpty()?null:n.value?new Gs(this.source,ge(),n.value):new t(this.source,ge(),n)}else return M(se(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,Ee(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var sc=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ne(e))return this.isFullyInitialized()&&!this.filtered_;let n=se(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};function p$(t,e,n,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(u$(o.childName,o.snapshotNode))}),ec(t,i,"child_removed",e,r,n),ec(t,i,"child_added",e,r,n),ec(t,i,"child_moved",s,r,n),ec(t,i,"child_changed",e,r,n),ec(t,i,"value",e,r,n),i}function ec(t,e,n,r,i,s){let o=r.filter(c=>c.type===n);o.sort((c,l)=>m$(t,c,l)),o.forEach(c=>{let l=g$(t,c,s);i.forEach(u=>{u.respondsTo(c.type)&&e.push(u.createEvent(l,t.query_))})})}function g$(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function m$(t,e,n){if(e.childName==null||n.childName==null)throw ti("Should only compare child_ events.");let r=new oe(e.childName,e.snapshotNode),i=new oe(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function wR(t,e){return{eventCache:t,serverCache:e}}function rc(t,e,n,r){return wR(new sc(e,n,r),t.serverCache)}function IR(t,e,n,r){return wR(t.eventCache,new sc(e,n,r))}function Wy(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function bi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var gy,y$=()=>(gy||(gy=new Zt(y3)),gy),Mt=class t{static fromObject(e){let n=new t(null);return Xt(e,(r,i)=>{n=n.set(new we(r),i)}),n}constructor(e,n=y$()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ge(),value:this.value};if(ne(e))return null;{let r=se(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(Ee(e),n);return s!=null?{path:qe(new we(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ne(e))return this;{let n=se(e),r=this.children.get(n);return r!==null?r.subtree(Ee(e)):new t(null)}}set(e,n){if(ne(e))return new t(n,this.children);{let r=se(e),s=(this.children.get(r)||new t(null)).set(Ee(e),n),o=this.children.insert(r,s);return new t(this.value,o)}}remove(e){if(ne(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=se(e),r=this.children.get(n);if(r){let i=r.remove(Ee(e)),s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this}}get(e){if(ne(e))return this.value;{let n=se(e),r=this.children.get(n);return r?r.get(Ee(e)):null}}setTree(e,n){if(ne(e))return n;{let r=se(e),s=(this.children.get(r)||new t(null)).setTree(Ee(e),n),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new t(this.value,o)}}fold(e){return this.fold_(ge(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(qe(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ge(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(ne(e))return null;{let s=se(e),o=this.children.get(s);return o?o.findOnPath_(Ee(e),qe(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ge(),n)}foreachOnPath_(e,n,r){if(ne(e))return this;{this.value&&r(n,this.value);let i=se(e),s=this.children.get(i);return s?s.foreachOnPath_(Ee(e),qe(n,i),r):new t(null)}}foreach(e){this.foreach_(ge(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(qe(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var hn=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new Mt(null))}};function ic(t,e,n){if(ne(e))return new hn(new Mt(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=Yt(i,e);return s=s.updateChild(o,n),new hn(t.writeTree_.set(i,s))}else{let i=new Mt(n),s=t.writeTree_.setTree(e,i);return new hn(s)}}}function R0(t,e,n){let r=t;return Xt(n,(i,s)=>{r=ic(r,qe(e,i),s)}),r}function D0(t,e){if(ne(e))return hn.empty();{let n=t.writeTree_.setTree(e,new Mt(null));return new hn(n)}}function Gy(t,e){return Si(t,e)!=null}function Si(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Yt(n.path,e)):null}function N0(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(lt,(r,i)=>{e.push(new oe(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new oe(r,i.value))}),e}function Rr(t,e){if(ne(e))return t;{let n=Si(t,e);return n!=null?new hn(new Mt(n)):new hn(t.writeTree_.subtree(e))}}function Ky(t){return t.writeTree_.isEmpty()}function Ks(t,e){return ER(ge(),t.writeTree_,e)}function ER(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(M(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=ER(qe(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(qe(t,".priority"),r)),n}}function TR(t,e){return RR(e,t)}function _$(t,e,n,r,i){M(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ic(t.visibleWrites,e,n)),t.lastWriteId=r}function v$(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function w$(t,e){let n=t.allWrites.findIndex(c=>c.writeId===e);M(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){let c=t.allWrites[o];c.visible&&(o>=n&&I$(c,r.path)?i=!1:dn(r.path,c.path)&&(s=!0)),o--}if(i){if(s)return E$(t),!0;if(r.snap)t.visibleWrites=D0(t.visibleWrites,r.path);else{let c=r.children;Xt(c,l=>{t.visibleWrites=D0(t.visibleWrites,qe(r.path,l))})}return!0}else return!1}function I$(t,e){if(t.snap)return dn(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&dn(qe(t.path,n),e))return!0;return!1}function E$(t){t.visibleWrites=bR(t.allWrites,T$,ge()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function T$(t){return t.visible}function bR(t,e,n){let r=hn.empty();for(let i=0;i<t.length;++i){let s=t[i];if(e(s)){let o=s.path,c;if(s.snap)dn(n,o)?(c=Yt(n,o),r=ic(r,c,s.snap)):dn(o,n)&&(c=Yt(o,n),r=ic(r,ge(),s.snap.getChild(c)));else if(s.children){if(dn(n,o))c=Yt(n,o),r=R0(r,c,s.children);else if(dn(o,n))if(c=Yt(o,n),ne(c))r=R0(r,ge(),s.children);else{let l=ri(s.children,se(c));if(l){let u=l.getChild(Ee(c));r=ic(r,ge(),u)}}}else throw ti("WriteRecord should have .snap or .children")}}return r}function SR(t,e,n,r,i){if(!r&&!i){let s=Si(t.visibleWrites,e);if(s!=null)return s;{let o=Rr(t.visibleWrites,e);if(Ky(o))return n;if(n==null&&!Gy(o,ge()))return null;{let c=n||Se.EMPTY_NODE;return Ks(o,c)}}}else{let s=Rr(t.visibleWrites,e);if(!i&&Ky(s))return n;if(!i&&n==null&&!Gy(s,ge()))return null;{let o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(dn(u.path,e)||dn(e,u.path))},c=bR(t.allWrites,o,e),l=n||Se.EMPTY_NODE;return Ks(c,l)}}}function b$(t,e,n){let r=Se.EMPTY_NODE,i=Si(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(lt,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){let s=Rr(t.visibleWrites,e);return n.forEachChild(lt,(o,c)=>{let l=Ks(Rr(s,new we(o)),c);r=r.updateImmediateChild(o,l)}),N0(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=Rr(t.visibleWrites,e);return N0(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function S$(t,e,n,r,i){M(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=qe(e,n);if(Gy(t.visibleWrites,s))return null;{let o=Rr(t.visibleWrites,s);return Ky(o)?i.getChild(n):Ks(o,i.getChild(n))}}function C$(t,e,n,r){let i=qe(e,n),s=Si(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){let o=Rr(t.visibleWrites,i);return Ks(o,r.getNode().getImmediateChild(n))}else return null}function A$(t,e){return Si(t.visibleWrites,e)}function R$(t,e,n,r,i,s,o){let c,l=Rr(t.visibleWrites,e),u=Si(l,ge());if(u!=null)c=u;else if(n!=null)c=Ks(l,n);else return[];if(c=c.withIndex(o),!c.isEmpty()&&!c.isLeafNode()){let f=[],p=o.getCompare(),m=s?c.getReverseIteratorFrom(r,o):c.getIteratorFrom(r,o),y=m.getNext();for(;y&&f.length<i;)p(y,r)!==0&&f.push(y),y=m.getNext();return f}else return[]}function D$(){return{visibleWrites:hn.empty(),allWrites:[],lastWriteId:-1}}function Qy(t,e,n,r){return SR(t.writeTree,t.treePath,e,n,r)}function CR(t,e){return b$(t.writeTree,t.treePath,e)}function k0(t,e,n,r){return S$(t.writeTree,t.treePath,e,n,r)}function Vd(t,e){return A$(t.writeTree,qe(t.treePath,e))}function N$(t,e,n,r,i,s){return R$(t.writeTree,t.treePath,e,n,r,i,s)}function f_(t,e,n){return C$(t.writeTree,t.treePath,e,n)}function AR(t,e){return RR(qe(t.treePath,e),t.writeTree)}function RR(t,e){return{treePath:t,writeTree:e}}var Yy=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;M(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),M(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,b0(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,l$(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,c$(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,b0(r,e.snapshotNode,i.oldSnap));else throw ti("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var Zy=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},DR=new Zy,oc=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new sc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return f_(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:bi(this.viewCache_),s=N$(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}};function k$(t,e){M(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),M(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function P$(t,e,n,r,i){let s=new Yy,o,c;if(n.type===Qn.OVERWRITE){let u=n;u.source.fromUser?o=Xy(t,e,u.path,u.snap,r,i,s):(M(u.source.fromServer,"Unknown source."),c=u.source.tagged||e.serverCache.isFiltered()&&!ne(u.path),o=Ud(t,e,u.path,u.snap,r,i,c,s))}else if(n.type===Qn.MERGE){let u=n;u.source.fromUser?o=x$(t,e,u.path,u.children,r,i,s):(M(u.source.fromServer,"Unknown source."),c=u.source.tagged||e.serverCache.isFiltered(),o=Jy(t,e,u.path,u.children,r,i,c,s))}else if(n.type===Qn.ACK_USER_WRITE){let u=n;u.revert?o=F$(t,e,u.path,r,i,s):o=O$(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Qn.LISTEN_COMPLETE)o=L$(t,e,n.path,r,s);else throw ti("Unknown operation type: "+n.type);let l=s.getChanges();return M$(e,o,l),{viewCache:o,changes:l}}function M$(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Wy(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(a$(Wy(e)))}}function NR(t,e,n,r,i,s){let o=e.eventCache;if(Vd(r,n)!=null)return e;{let c,l;if(ne(n))if(M(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let u=bi(e),f=u instanceof Se?u:Se.EMPTY_NODE,p=CR(r,f);c=t.filter.updateFullNode(e.eventCache.getNode(),p,s)}else{let u=Qy(r,bi(e));c=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{let u=se(n);if(u===".priority"){M(Dr(n)===1,"Can't have a priority with additional path components");let f=o.getNode();l=e.serverCache.getNode();let p=k0(r,n,f,l);p!=null?c=t.filter.updatePriority(f,p):c=o.getNode()}else{let f=Ee(n),p;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();let m=k0(r,n,o.getNode(),l);m!=null?p=o.getNode().getImmediateChild(u).updateChild(f,m):p=o.getNode().getImmediateChild(u)}else p=f_(r,u,e.serverCache);p!=null?c=t.filter.updateChild(o.getNode(),u,p,f,i,s):c=o.getNode()}}return rc(e,c,o.isFullyInitialized()||ne(n),t.filter.filtersNodes())}}function Ud(t,e,n,r,i,s,o,c){let l=e.serverCache,u,f=o?t.filter:t.filter.getIndexedFilter();if(ne(n))u=f.updateFullNode(l.getNode(),r,null);else if(f.filtersNodes()&&!l.isFiltered()){let y=l.getNode().updateChild(n,r);u=f.updateFullNode(l.getNode(),y,null)}else{let y=se(n);if(!l.isCompleteForPath(n)&&Dr(n)>1)return e;let C=Ee(n),N=l.getNode().getImmediateChild(y).updateChild(C,r);y===".priority"?u=f.updatePriority(l.getNode(),N):u=f.updateChild(l.getNode(),y,N,C,DR,null)}let p=IR(e,u,l.isFullyInitialized()||ne(n),f.filtersNodes()),m=new oc(i,p,s);return NR(t,p,n,i,m,c)}function Xy(t,e,n,r,i,s,o){let c=e.eventCache,l,u,f=new oc(i,e,s);if(ne(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=rc(e,u,!0,t.filter.filtersNodes());else{let p=se(n);if(p===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=rc(e,u,c.isFullyInitialized(),c.isFiltered());else{let m=Ee(n),y=c.getNode().getImmediateChild(p),C;if(ne(m))C=r;else{let D=f.getCompleteChild(p);D!=null?aR(m)===".priority"&&D.getChild(lR(m)).isEmpty()?C=D:C=D.updateChild(m,r):C=Se.EMPTY_NODE}if(y.equals(C))l=e;else{let D=t.filter.updateChild(c.getNode(),p,C,m,f,o);l=rc(e,D,c.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function P0(t,e){return t.eventCache.isCompleteForChild(e)}function x$(t,e,n,r,i,s,o){let c=e;return r.foreach((l,u)=>{let f=qe(n,l);P0(e,se(f))&&(c=Xy(t,c,f,u,i,s,o))}),r.foreach((l,u)=>{let f=qe(n,l);P0(e,se(f))||(c=Xy(t,c,f,u,i,s,o))}),c}function M0(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Jy(t,e,n,r,i,s,o,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;ne(n)?u=r:u=new Mt(null).setTree(n,r);let f=e.serverCache.getNode();return u.children.inorderTraversal((p,m)=>{if(f.hasChild(p)){let y=e.serverCache.getNode().getImmediateChild(p),C=M0(t,y,m);l=Ud(t,l,new we(p),C,i,s,o,c)}}),u.children.inorderTraversal((p,m)=>{let y=!e.serverCache.isCompleteForChild(p)&&m.value===null;if(!f.hasChild(p)&&!y){let C=e.serverCache.getNode().getImmediateChild(p),D=M0(t,C,m);l=Ud(t,l,new we(p),D,i,s,o,c)}}),l}function O$(t,e,n,r,i,s,o){if(Vd(i,n)!=null)return e;let c=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(ne(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Ud(t,e,n,l.getNode().getChild(n),i,s,c,o);if(ne(n)){let u=new Mt(null);return l.getNode().forEachChild(Bs,(f,p)=>{u=u.set(new we(f),p)}),Jy(t,e,n,u,i,s,c,o)}else return e}else{let u=new Mt(null);return r.foreach((f,p)=>{let m=qe(n,f);l.isCompleteForPath(m)&&(u=u.set(f,l.getNode().getChild(m)))}),Jy(t,e,n,u,i,s,c,o)}}function L$(t,e,n,r,i){let s=e.serverCache,o=IR(e,s.getNode(),s.isFullyInitialized()||ne(n),s.isFiltered());return NR(t,o,n,r,DR,i)}function F$(t,e,n,r,i,s){let o;if(Vd(r,n)!=null)return e;{let c=new oc(r,e,i),l=e.eventCache.getNode(),u;if(ne(n)||se(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=Qy(r,bi(e));else{let p=e.serverCache.getNode();M(p instanceof Se,"serverChildren would be complete if leaf node"),f=CR(r,p)}f=f,u=t.filter.updateFullNode(l,f,s)}else{let f=se(n),p=f_(r,f,e.serverCache);p==null&&e.serverCache.isCompleteForChild(f)&&(p=l.getImmediateChild(f)),p!=null?u=t.filter.updateChild(l,f,p,Ee(n),c,s):e.eventCache.getNode().hasChild(f)?u=t.filter.updateChild(l,f,Se.EMPTY_NODE,Ee(n),c,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Qy(r,bi(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Vd(r,ge())!=null,rc(e,u,o,t.filter.filtersNodes())}}function V$(t,e){let n=bi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ne(e)&&!n.getImmediateChild(se(e)).isEmpty())?n.getChild(e):null}function x0(t,e,n,r){e.type===Qn.MERGE&&e.source.queryId!==null&&(M(bi(t.viewCache_),"We should always have a full cache before handling merges"),M(Wy(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,s=P$(t.processor_,i,e,n,r);return k$(t.processor_,s.viewCache),M(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,U$(t,s.changes,s.viewCache.eventCache.getNode(),null)}function U$(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return p$(t.eventGenerator_,e,n,i)}var O0;function j$(t){M(!O0,"__referenceConstructor has already been defined"),O0=t}function p_(t,e,n,r){let i=e.source.queryId;if(i!==null){let s=t.views.get(i);return M(s!=null,"SyncTree gave us an op for an invalid query."),x0(s,e,n,r)}else{let s=[];for(let o of t.views.values())s=s.concat(x0(o,e,n,r));return s}}function g_(t,e){let n=null;for(let r of t.views.values())n=n||V$(r,e);return n}var L0;function $$(t){M(!L0,"__referenceConstructor has already been defined"),L0=t}var jd=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Mt(null),this.pendingWriteTree_=D$(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function B$(t,e,n,r,i){return _$(t.pendingWriteTree_,e,n,r,i),i?Bd(t,new Gs(yR(),e,n)):[]}function js(t,e,n=!1){let r=v$(t.pendingWriteTree_,e);if(w$(t.pendingWriteTree_,e)){let s=new Mt(null);return r.snap!=null?s=s.set(ge(),!0):Xt(r.children,o=>{s=s.set(new we(o),!0)}),Bd(t,new zy(r.path,s,n))}else return[]}function $d(t,e,n){return Bd(t,new Gs(_R(),e,n))}function H$(t,e,n){let r=Mt.fromObject(n);return Bd(t,new Fd(_R(),e,r))}function q$(t,e,n,r){let i=xR(t,r);if(i!=null){let s=OR(i),o=s.path,c=s.queryId,l=Yt(o,e),u=new Gs(vR(c),l,n);return LR(t,o,u)}else return[]}function z$(t,e,n,r){let i=xR(t,r);if(i){let s=OR(i),o=s.path,c=s.queryId,l=Yt(o,e),u=Mt.fromObject(n),f=new Fd(vR(c),l,u);return LR(t,o,f)}else return[]}function kR(t,e,n){let i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,c)=>{let l=Yt(o,e),u=g_(c,l);if(u)return u});return SR(i,e,s,n,!0)}function Bd(t,e){return PR(e,t.syncPointTree_,null,TR(t.pendingWriteTree_,ge()))}function PR(t,e,n,r){if(ne(t.path))return MR(t,e,n,r);{let i=e.get(ge());n==null&&i!=null&&(n=g_(i,ge()));let s=[],o=se(t.path),c=t.operationForChild(o),l=e.children.get(o);if(l&&c){let u=n?n.getImmediateChild(o):null,f=AR(r,o);s=s.concat(PR(c,l,u,f))}return i&&(s=s.concat(p_(i,t,r,n))),s}}function MR(t,e,n,r){let i=e.get(ge());n==null&&i!=null&&(n=g_(i,ge()));let s=[];return e.children.inorderTraversal((o,c)=>{let l=n?n.getImmediateChild(o):null,u=AR(r,o),f=t.operationForChild(o);f&&(s=s.concat(MR(f,c,l,u)))}),i&&(s=s.concat(p_(i,t,r,n))),s}function xR(t,e){return t.tagToQueryMap.get(e)}function OR(t){let e=t.indexOf("$");return M(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new we(t.substr(0,e))}}function LR(t,e,n){let r=t.syncPointTree_.get(e);M(r,"Missing sync point for query tag that we're tracking");let i=TR(t.pendingWriteTree_,e);return p_(r,n,i,null)}var e_=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},t_=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=qe(this.path_,e);return new t(this.syncTree_,n)}node(){return kR(this.syncTree_,this.path_)}},W$=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},F0=function(t,e,n){if(!t||typeof t!="object")return t;if(M(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return G$(t[".sv"],e,n);if(typeof t[".sv"]=="object")return K$(t[".sv"],e);M(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},G$=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:M(!1,"Unexpected server value: "+t)}},K$=function(t,e,n){t.hasOwnProperty("increment")||M(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&M(!1,"Unexpected increment value: "+r);let i=e.node();if(M(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},Q$=function(t,e,n,r){return m_(e,new t_(n,t),r)},Y$=function(t,e,n){return m_(t,new e_(e),n)};function m_(t,e,n){let r=t.getPriority().val(),i=F0(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){let o=t,c=F0(o.getValue(),e,n);return c!==o.getValue()||i!==o.getPriority().val()?new zs(c,ct(i)):t}else{let o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new zs(i))),o.forEachChild(lt,(c,l)=>{let u=m_(l,e.getImmediateChild(c),n);u!==l&&(s=s.updateImmediateChild(c,u))}),s}}var ac=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function y_(t,e){let n=e instanceof we?e:new we(e),r=t,i=se(n);for(;i!==null;){let s=ri(r.node.children,i)||{children:{},childCount:0};r=new ac(i,r,s),n=Ee(n),i=se(n)}return r}function Zs(t){return t.node.value}function FR(t,e){t.node.value=e,n_(t)}function VR(t){return t.node.childCount>0}function Z$(t){return Zs(t)===void 0&&!VR(t)}function Hd(t,e){Xt(t.node.children,(n,r)=>{e(new ac(n,t,r))})}function UR(t,e,n,r){n&&!r&&e(t),Hd(t,i=>{UR(i,e,!0,r)}),n&&r&&e(t)}function X$(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function hc(t){return new we(t.parent===null?t.name:hc(t.parent)+"/"+t.name)}function n_(t){t.parent!==null&&J$(t.parent,t.name,t)}function J$(t,e,n){let r=Z$(n),i=En(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,n_(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,n_(t))}var eB=/[\[\].#$\/\u0000-\u001F\u007F]/,tB=/[\[\].#$\u0000-\u001F\u007F]/,my=10*1024*1024,jR=function(t){return typeof t=="string"&&t.length!==0&&!eB.test(t)},nB=function(t){return typeof t=="string"&&t.length!==0&&!tB.test(t)},rB=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),nB(t)};var $R=function(t,e,n){let r=n instanceof we?new Ny(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+wi(r));if(typeof e=="function")throw new Error(t+"contains a function "+wi(r)+" with contents = "+e.toString());if(H0(e))throw new Error(t+"contains "+e.toString()+" "+wi(r));if(typeof e=="string"&&e.length>my/3&&Ra(e)>my)throw new Error(t+"contains a string greater than "+my+" utf8 bytes "+wi(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Xt(e,(o,c)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!jR(o)))throw new Error(t+" contains an invalid key ("+o+") "+wi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);K3(r,o),$R(t,c,r),Q3(r)}),i&&s)throw new Error(t+' contains ".value" child '+wi(r)+" in addition to actual children.")}};var iB=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!jR(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!rB(n))throw new Error(rS(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var r_=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function sB(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();n!==null&&!uR(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Ci(t,e,n){sB(t,n),oB(t,r=>dn(r,e)||dn(e,r))}function oB(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let s=i.path;e(s)?(aB(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function aB(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();Ei&&at("event: "+n.toString()),uc(r)}}}var cB="repo_interrupt",lB=25,i_=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new r_,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ld(),this.transactionQueueTree_=new ac,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function uB(t,e,n){if(t.stats_=u_(t.repoInfo_),t.forceRestClient_||T3())t.server_=new jy(t.repoInfo_,(r,i,s,o)=>{V0(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>U0(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{$e(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new d_(t.repoInfo_,e,(r,i,s,o)=>{V0(t,r,i,s,o)},r=>{U0(t,r)},r=>{hB(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=S3(t.repoInfo_,()=>new qy(t.stats_,t.server_)),t.infoData_=new $y,t.infoSyncTree_=new jd({startListening:(r,i,s,o)=>{let c=[],l=t.infoData_.getNode(r._path);return l.isEmpty()||(c=$d(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),c},stopListening:()=>{}}),__(t,"connected",!1),t.serverSyncTree_=new jd({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(c,l)=>{let u=o(c,l);Ci(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function dB(t){let n=t.infoData_.getNode(new we(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function BR(t){return W$({timestamp:dB(t)})}function V0(t,e,n,r,i){t.dataUpdateCount++;let s=new we(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){let l=Aa(n,u=>ct(u));o=z$(t.serverSyncTree_,s,l,i)}else{let l=ct(n);o=q$(t.serverSyncTree_,s,l,i)}else if(r){let l=Aa(n,u=>ct(u));o=H$(t.serverSyncTree_,s,l)}else{let l=ct(n);o=$d(t.serverSyncTree_,s,l)}let c=s;o.length>0&&(c=w_(t,s)),Ci(t.eventQueue_,c,o)}function U0(t,e){__(t,"connected",e),e===!1&&pB(t)}function hB(t,e){Xt(e,(n,r)=>{__(t,n,r)})}function __(t,e,n){let r=new we("/.info/"+e),i=ct(n);t.infoData_.updateSnapshot(r,i);let s=$d(t.infoSyncTree_,r,i);Ci(t.eventQueue_,r,s)}function fB(t){return t.nextWriteId_++}function pB(t){HR(t,"onDisconnectEvents");let e=BR(t),n=Ld();By(t.onDisconnect_,ge(),(i,s)=>{let o=Q$(i,s,t.serverSyncTree_,e);mR(n,i,o)});let r=[];By(n,ge(),(i,s)=>{r=r.concat($d(t.serverSyncTree_,i,s));let o=_B(t,i);w_(t,o)}),t.onDisconnect_=Ld(),Ci(t.eventQueue_,ge(),r)}function gB(t){t.persistentConnection_&&t.persistentConnection_.interrupt(cB)}function HR(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),at(n,...e)}function qR(t,e,n){return kR(t.serverSyncTree_,e,n)||Se.EMPTY_NODE}function v_(t,e=t.transactionQueueTree_){if(e||qd(t,e),Zs(e)){let n=WR(t,e);M(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&mB(t,hc(e),n)}else VR(e)&&Hd(e,n=>{v_(t,n)})}function mB(t,e,n){let r=n.map(u=>u.currentWriteId),i=qR(t,e,r),s=i,o=i.hash();for(let u=0;u<n.length;u++){let f=n[u];M(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;let p=Yt(e,f.path);s=s.updateChild(p,f.currentOutputSnapshotRaw)}let c=s.val(!0),l=e;t.server_.put(l.toString(),c,u=>{HR(t,"transaction put response",{path:l.toString(),status:u});let f=[];if(u==="ok"){let p=[];for(let m=0;m<n.length;m++)n[m].status=2,f=f.concat(js(t.serverSyncTree_,n[m].currentWriteId)),n[m].onComplete&&p.push(()=>n[m].onComplete(null,!0,n[m].currentOutputSnapshotResolved)),n[m].unwatcher();qd(t,y_(t.transactionQueueTree_,e)),v_(t,t.transactionQueueTree_),Ci(t.eventQueue_,e,f);for(let m=0;m<p.length;m++)uc(p[m])}else{if(u==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{Bt("transaction at "+l.toString()+" failed: "+u);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=u}w_(t,e)}},o)}function w_(t,e){let n=zR(t,e),r=hc(n),i=WR(t,n);return yB(t,i,r),r}function yB(t,e,n){if(e.length===0)return;let r=[],i=[],o=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){let l=e[c],u=Yt(n,l.path),f=!1,p;if(M(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)f=!0,p=l.abortReason,i=i.concat(js(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=lB)f=!0,p="maxretry",i=i.concat(js(t.serverSyncTree_,l.currentWriteId,!0));else{let m=qR(t,l.path,o);l.currentInputSnapshot=m;let y=e[c].update(m.val());if(y!==void 0){$R("transaction failed: Data returned ",y,l.path);let C=ct(y);typeof y=="object"&&y!=null&&En(y,".priority")||(C=C.updatePriority(m.getPriority()));let N=l.currentWriteId,j=BR(t),G=Y$(C,m,j);l.currentOutputSnapshotRaw=C,l.currentOutputSnapshotResolved=G,l.currentWriteId=fB(t),o.splice(o.indexOf(N),1),i=i.concat(B$(t.serverSyncTree_,l.path,G,l.currentWriteId,l.applyLocally)),i=i.concat(js(t.serverSyncTree_,N,!0))}else f=!0,p="nodata",i=i.concat(js(t.serverSyncTree_,l.currentWriteId,!0))}Ci(t.eventQueue_,n,i),i=[],f&&(e[c].status=2,function(m){setTimeout(m,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(p==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(p),!1,null))))}qd(t,t.transactionQueueTree_);for(let c=0;c<r.length;c++)uc(r[c]);v_(t,t.transactionQueueTree_)}function zR(t,e){let n,r=t.transactionQueueTree_;for(n=se(e);n!==null&&Zs(r)===void 0;)r=y_(r,n),e=Ee(e),n=se(e);return r}function WR(t,e){let n=[];return GR(t,e,n),n.sort((r,i)=>r.order-i.order),n}function GR(t,e,n){let r=Zs(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Hd(e,i=>{GR(t,i,n)})}function qd(t,e){let n=Zs(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,FR(e,n.length>0?n:void 0)}Hd(e,r=>{qd(t,r)})}function _B(t,e){let n=hc(zR(t,e)),r=y_(t.transactionQueueTree_,e);return X$(r,i=>{yy(t,i)}),yy(t,r),UR(r,i=>{yy(t,i)}),n}function yy(t,e){let n=Zs(e);if(n){let r=[],i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(M(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(M(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(js(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?FR(e,void 0):n.length=s+1,Ci(t.eventQueue_,hc(e),i);for(let o=0;o<r.length;o++)uc(r[o])}}function vB(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function wB(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Bt(`Invalid query segment '${n}' in query '${t}'`)}return e}var j0=function(t,e){let n=IB(t),r=n.namespace;n.domain==="firebase.com"&&Yn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Yn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||g3();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Dd(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new we(n.pathString)}},IB=function(t){let e="",n="",r="",i="",s="",o=!0,c="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(c=t.substring(0,u-1),t=t.substring(u+2));let f=t.indexOf("/");f===-1&&(f=t.length);let p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(f,p)),f<p&&(i=vB(t.substring(f,p)));let m=wB(t.substring(Math.min(t.length,p)));u=e.indexOf(":"),u>=0?(o=c==="https"||c==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;let y=e.slice(0,u);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{let C=e.indexOf(".");r=e.substring(0,C).toLowerCase(),n=e.substring(C+1),s=r}"ns"in m&&(s=m.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:c,pathString:i,namespace:s}};var s_=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ne(this._path)?null:aR(this._path)}get ref(){return new Qs(this._repo,this._path)}get _queryIdentifier(){let e=C0(this._queryParams),n=l_(e);return n==="{}"?"default":n}get _queryObject(){return C0(this._queryParams)}isEqual(e){if(e=Ne(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=uR(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+G3(this._path)}};var Qs=class t extends s_{constructor(e,n){super(e,n,new Uy,!1)}get parent(){let e=lR(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}};j$(Qs);$$(Qs);var EB="FIREBASE_DATABASE_EMULATOR_HOST",o_={},TB=!1;function bB(t,e,n,r){let i=e.lastIndexOf(":"),s=e.substring(0,i),o=Gt(s);t.repoInfo_=new Dd(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function SB(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Yn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),at("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=j0(s,i),c=o.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[EB]),u?(l=!0,s=`http://${u}?ns=${c.namespace}`,o=j0(s,i),c=o.repoInfo):l=!o.repoInfo.secure;let f=i&&l?new nc(nc.OWNER):new Ty(t.name,t.options,e);iB("Invalid Firebase Database URL",o),ne(o.path)||Yn("Database URL must point to the root of a Firebase Database (not including a child path).");let p=AB(c,t,f,new Ey(t,n));return new a_(p,t)}function CB(t,e){let n=o_[e];(!n||n[t.key]!==t)&&Yn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),gB(t),delete n[t.key]}function AB(t,e,n,r){let i=o_[e.name];i||(i={},o_[e.name]=i);let s=i[t.toURLString()];return s&&Yn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new i_(t,TB,n,r),i[t.toURLString()]=s,s}var a_=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(uB(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Qs(this._repo,ge())),this._rootInternal}_delete(){return this._rootInternal!==null&&(CB(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Yn("Cannot call "+e+" on a deleted database.")}};function KR(t=st(),e){let n=Be(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=As("database");r&&QR(n,...r)}return n}function QR(t,e,n,r={}){t=Ne(t),t._checkNotDeleted("useEmulator");let i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&Dt(r,s.repoInfo_.emulatorOptions))return;Yn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Yn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new nc(nc.OWNER);else if(r.mockUserToken){let c=typeof r.mockUserToken=="string"?r.mockUserToken:Rs(r.mockUserToken,t.app.options.projectId);o=new nc(c)}Gt(e)&&(vr(e),wr("Database",!0)),bB(s,i,r,o)}function RB(t){h3(Kt),be(new pe("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return SB(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),$(c0,l0,t),$(c0,l0,"esm2017")}d_.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};d_.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};RB();var fc=class{constructor(e){return e}},YR="database",I_=class{constructor(){return kt(YR)}};var E_=new O("angularfire2.database-instances");function DB(t,e){let n=jt(YR,t,e);return n&&new fc(n)}function NB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new fc(r)}}var kB={provide:I_,deps:[[new fe,E_]]},PB={provide:fc,useFactory:DB,deps:[[new fe,E_],Ze]};function ZR(t,...e){return $("angularfire",He.full,"rtdb"),Ke([PB,kB,{provide:E_,useFactory:NB(t),multi:!0,deps:[Y,ve,ot,_t,[new fe,zn],[new fe,Tn],...e]}])}var XR=Ve(KR,!0);var MB="/firebase-messaging-sw.js",xB="/firebase-cloud-messaging-push-scope",sD="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",OB="https://fcmregistrations.googleapis.com/v1",oD="google.c.a.c_id",LB="google.c.a.c_l",FB="google.c.a.ts",VB="google.c.a.e",JR=1e4;var zd=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(zd||{});function Zn(t){let e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function UB(t){let e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}var T_="fcm_token_details_db",jB=5,eD="fcm_token_object_Store";function $B(t){return I(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(T_))return null;let e=null;return(yield oi(T_,jB,{upgrade:(r,i,s,o)=>I(null,null,function*(){var c;if(i<2||!r.objectStoreNames.contains(eD))return;let l=o.objectStore(eD),u=yield l.index("fcmSenderId").get(t);if(yield l.clear(),!!u){if(i===2){let f=u;if(!f.auth||!f.p256dh||!f.endpoint)return;e={token:f.fcmToken,createTime:(c=f.createTime)!==null&&c!==void 0?c:Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:typeof f.vapidKey=="string"?f.vapidKey:Zn(f.vapidKey)}}}else if(i===3){let f=u;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Zn(f.auth),p256dh:Zn(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Zn(f.vapidKey)}}}else if(i===4){let f=u;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Zn(f.auth),p256dh:Zn(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Zn(f.vapidKey)}}}}})})).close(),yield ju(T_),yield ju("fcm_vapid_details_db"),yield ju("undefined"),BB(e)?e:null})}function BB(t){if(!t||!t.subscriptionOptions)return!1;let{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}var HB="firebase-messaging-database",qB=1,pc="firebase-messaging-store",b_=null;function aD(){return b_||(b_=oi(HB,qB,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(pc)}}})),b_}function zB(t){return I(this,null,function*(){let e=cD(t),r=yield(yield aD()).transaction(pc).objectStore(pc).get(e);if(r)return r;{let i=yield $B(t.appConfig.senderId);if(i)return yield A_(t,i),i}})}function A_(t,e){return I(this,null,function*(){let n=cD(t),i=(yield aD()).transaction(pc,"readwrite");return yield i.objectStore(pc).put(e,n),yield i.done,e})}function cD({appConfig:t}){return t.appId}var WB={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},wt=new Qe("messaging","Messaging",WB);function GB(t,e){return I(this,null,function*(){let n=yield D_(t),r=lD(e),i={method:"POST",headers:n,body:JSON.stringify(r)},s;try{s=yield(yield fetch(R_(t.appConfig),i)).json()}catch(o){throw wt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error){let o=s.error.message;throw wt.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw wt.create("token-subscribe-no-token");return s.token})}function KB(t,e){return I(this,null,function*(){let n=yield D_(t),r=lD(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},s;try{s=yield(yield fetch(`${R_(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw wt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error){let o=s.error.message;throw wt.create("token-update-failed",{errorInfo:o})}if(!s.token)throw wt.create("token-update-no-token");return s.token})}function QB(t,e){return I(this,null,function*(){let r={method:"DELETE",headers:yield D_(t)};try{let s=yield(yield fetch(`${R_(t.appConfig)}/${e}`,r)).json();if(s.error){let o=s.error.message;throw wt.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw wt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})}function R_({projectId:t}){return`${OB}/projects/${t}/registrations`}function D_(n){return I(this,arguments,function*({appConfig:t,installations:e}){let r=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})})}function lD({p256dh:t,auth:e,endpoint:n,vapidKey:r}){let i={web:{endpoint:n,auth:e,p256dh:t}};return r!==sD&&(i.web.applicationPubKey=r),i}var YB=7*24*60*60*1e3;function ZB(t){return I(this,null,function*(){let e=yield JB(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Zn(e.getKey("auth")),p256dh:Zn(e.getKey("p256dh"))},r=yield zB(t.firebaseDependencies);if(r){if(e6(r.subscriptionOptions,n))return Date.now()>=r.createTime+YB?XB(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield QB(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return tD(t.firebaseDependencies,n)}else return tD(t.firebaseDependencies,n)})}function XB(t,e){return I(this,null,function*(){try{let n=yield KB(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield A_(t.firebaseDependencies,r),n}catch(n){throw n}})}function tD(t,e){return I(this,null,function*(){let r={token:yield GB(t,e),createTime:Date.now(),subscriptionOptions:e};return yield A_(t,r),r.token})}function JB(t,e){return I(this,null,function*(){let n=yield t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:UB(e)})})}function e6(t,e){let n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&r&&i&&s}function nD(t){let e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return t6(e,t),n6(e,t),r6(e,t),e}function t6(t,e){if(!e.notification)return;t.notification={};let n=e.notification.title;n&&(t.notification.title=n);let r=e.notification.body;r&&(t.notification.body=r);let i=e.notification.image;i&&(t.notification.image=i);let s=e.notification.icon;s&&(t.notification.icon=s)}function n6(t,e){e.data&&(t.data=e.data)}function r6(t,e){var n,r,i,s,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};let c=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(s=e.notification)===null||s===void 0?void 0:s.click_action;c&&(t.fcmOptions.link=c);let l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}function i6(t){return typeof t=="object"&&!!t&&oD in t}s6("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function s6(t,e){let n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function o6(t){if(!t||!t.options)throw S_("App Configuration Object");if(!t.name)throw S_("App Name");let e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(let r of e)if(!n[r])throw S_(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function S_(t){return wt.create("missing-app-config-values",{valueName:t})}var C_=class{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let i=o6(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}};function a6(t){return I(this,null,function*(){try{t.swRegistration=yield navigator.serviceWorker.register(MB,{scope:xB}),t.swRegistration.update().catch(()=>{}),yield c6(t.swRegistration)}catch(e){throw wt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})}function c6(t){return I(this,null,function*(){return new Promise((e,n)=>{let r=setTimeout(()=>n(new Error(`Service worker not registered after ${JR} ms`)),JR),i=t.installing||t.waiting;t.active?(clearTimeout(r),e()):i?i.onstatechange=s=>{var o;((o=s.target)===null||o===void 0?void 0:o.state)==="activated"&&(i.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})})}function l6(t,e){return I(this,null,function*(){if(!e&&!t.swRegistration&&(yield a6(t)),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw wt.create("invalid-sw-registration");t.swRegistration=e}})}function u6(t,e){return I(this,null,function*(){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=sD)})}function d6(t,e){return I(this,null,function*(){if(!navigator)throw wt.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw wt.create("permission-blocked");return yield u6(t,e?.vapidKey),yield l6(t,e?.serviceWorkerRegistration),ZB(t)})}function h6(t,e,n){return I(this,null,function*(){let r=f6(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[oD],message_name:n[LB],message_time:n[FB],message_device_time:Math.floor(Date.now()/1e3)})})}function f6(t){switch(t){case zd.NOTIFICATION_CLICKED:return"notification_open";case zd.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function p6(t,e){return I(this,null,function*(){let n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===zd.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(nD(n)):t.onMessageHandler.next(nD(n)));let r=n.data;i6(r)&&r[VB]==="1"&&(yield h6(t,n.messageType,r))})}var rD="@firebase/messaging",iD="0.12.22";var g6=t=>{let e=new C_(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>p6(e,n)),e},m6=t=>{let e=t.getProvider("messaging").getImmediate();return{getToken:r=>d6(e,r)}};function y6(){be(new pe("messaging",g6,"PUBLIC")),be(new pe("messaging-internal",m6,"PRIVATE")),$(rD,iD),$(rD,iD,"esm2017")}function uD(){return I(this,null,function*(){try{yield ni()}catch{return!1}return typeof window<"u"&&In()&&Sa()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function dD(t=st()){return uD().then(e=>{if(!e)throw wt.create("unsupported-browser")},e=>{throw wt.create("indexed-db-unsupported")}),Be(Ne(t),"messaging").getImmediate()}y6();var gc=class{constructor(e){return e}},hD="messaging",N_=class{constructor(){return kt(hD)}};var k_=new O("angularfire2.messaging-instances");function _6(t,e,n){if(Qr(n))return null;let r=jt(hD,t,e);return r&&new gc(r)}function v6(t){return(e,n,r)=>{if(Qr(r))return null;let i=e.runOutsideAngular(()=>t(n));return new gc(i)}}var w6={provide:N_,deps:[[new fe,k_]]},I6={provide:gc,useFactory:_6,deps:[[new fe,k_],Ze,Ft]};function fD(t,...e){return $("angularfire",He.full,"fcm"),Ke([I6,w6,{provide:k_,useFactory:v6(t),multi:!0,deps:[Y,ve,Ft,ot,_t,...e]}])}var pD=Ve(dD,!0);var wD="firebasestorage.googleapis.com",E6="storageBucket",T6=2*60*1e3,b6=10*60*1e3;var An=class t extends Fe{constructor(e,n,r=0){super(P_(e),`Firebase Storage: ${n} (${P_(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return P_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Jn=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Jn||{});function P_(t){return"storage/"+t}function S6(){let t="An unknown error occurred, please check the error payload for server response.";return new An(Jn.UNKNOWN,t)}function C6(){return new An(Jn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function A6(){return new An(Jn.CANCELED,"User canceled the upload/download.")}function R6(t){return new An(Jn.INVALID_URL,"Invalid URL '"+t+"'.")}function D6(t){return new An(Jn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function gD(t){return new An(Jn.INVALID_ARGUMENT,t)}function ID(){return new An(Jn.APP_DELETED,"The Firebase app was deleted.")}function N6(t){return new An(Jn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var Xn=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw D6(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(me){me.path.charAt(me.path.length-1)==="/"&&(me.path_=me.path_.slice(0,-1))}let o="(/(.*))?$",c=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(me){me.path_=decodeURIComponent(me.path)}let f="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp(`^https?://${p}/${f}/b/${i}/o${m}`,"i"),C={bucket:1,path:3},D=n===wD?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",j=new RegExp(`^https?://${D}/${i}/${N}`,"i"),X=[{regex:c,indices:l,postModify:s},{regex:y,indices:C,postModify:u},{regex:j,indices:{bucket:1,path:2},postModify:u}];for(let me=0;me<X.length;me++){let Ht=X[me],Ue=Ht.regex.exec(e);if(Ue){let b=Ue[Ht.indices.bucket],_=Ue[Ht.indices.path];_||(_=""),r=new t(b,_),Ht.postModify(r);break}}if(r==null)throw R6(e);return r}},M_=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function k6(t,e,n){let r=1,i=null,s=null,o=!1,c=0;function l(){return c===2}let u=!1;function f(...N){u||(u=!0,e.apply(null,N))}function p(N){i=setTimeout(()=>{i=null,t(y,l())},N)}function m(){s&&clearTimeout(s)}function y(N,...j){if(u){m();return}if(N){m(),f.call(null,N,...j);return}if(l()||o){m(),f.call(null,N,...j);return}r<64&&(r*=2);let X;c===1?(c=2,X=0):X=(r+Math.random())*1e3,p(X)}let C=!1;function D(N){C||(C=!0,m(),!u&&(i!==null?(N||(c=2),clearTimeout(i),p(0)):N||(c=1)))}return p(0),s=setTimeout(()=>{o=!0,D(!0)},n),D}function P6(t){t(!1)}function M6(t){return t!==void 0}function mD(t,e,n,r){if(r<e)throw gD(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw gD(`Invalid value for '${t}'. Expected ${n} or less.`)}function x6(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var x_=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(x_||{});function O6(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var O_=class{constructor(e,n,r,i,s,o,c,l,u,f,p,m=!0,y=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=f,this.connectionFactory_=p,this.retry=m,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,D)=>{this.resolve_=C,this.reject_=D,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Xs(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=c=>{let l=c.loaded,u=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let c=s.getErrorCode()===x_.NO_ERROR,l=s.getStatus();if(!c||O6(l,this.additionalRetryCodes_)&&this.retry){let f=s.getErrorCode()===x_.ABORT;r(!1,new Xs(!1,null,f));return}let u=this.successCodes_.indexOf(l)!==-1;r(!0,new Xs(u,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,c=i.connection;if(i.wasSuccessCode)try{let l=this.callback_(c,c.getResponse());M6(l)?s(l):s()}catch(l){o(l)}else if(c!==null){let l=S6();l.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,l)):o(l)}else if(i.canceled){let l=this.appDelete_?ID():A6();o(l)}else{let l=C6();o(l)}};this.canceled_?n(!1,new Xs(!1,null,!0)):this.backoffId_=k6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&P6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Xs=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function L6(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function F6(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function V6(t,e){e&&(t["X-Firebase-GMPID"]=e)}function U6(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function j6(t,e,n,r,i,s,o=!0,c=!1){let l=x6(t.urlParams),u=t.url+l,f=Object.assign({},t.headers);return V6(f,e),L6(f,n),F6(f,s),U6(f,r),new O_(u,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,c)}function $6(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function B6(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}var mee=256*1024;var L_=class t{constructor(e,n){this._service=e,n instanceof Xn?this._location=n:this._location=Xn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new Xn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return B6(this._location.path)}get storage(){return this._service}get parent(){let e=$6(this._location.path);if(e===null)return null;let n=new Xn(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw N6(e)}};function yD(t,e){let n=e?.[E6];return n==null?null:Xn.makeFromBucketSpec(n,t)}function H6(t,e,n,r={}){t.host=`${e}:${n}`;let i=Gt(e);i&&(vr(`https://${t.host}/b`),wr("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";let{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:Rs(s,t.app.options.projectId))}var F_=class{constructor(e,n,r,i,s,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=wD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=T6,this._maxUploadRetryTime=b6,this._requests=new Set,i!=null?this._bucket=Xn.makeFromBucketSpec(i,this._host):this._bucket=yD(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Xn.makeFromBucketSpec(this._url,e):this._bucket=yD(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){mD("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){mD("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return I(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return I(this,null,function*(){if(it(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new L_(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new M_(ID());{let o=j6(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return I(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},_D="@firebase/storage",vD="0.13.14";var ED="storage";function TD(t=st(),e){t=Ne(t);let r=Be(t,ED).getImmediate({identifier:e}),i=As("storage");return i&&bD(r,...i),r}function bD(t,e,n,r={}){H6(t,e,n,r)}function q6(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new F_(n,r,i,e,Kt)}function z6(){be(new pe(ED,q6,"PUBLIC").setMultipleInstances(!0)),$(_D,vD,""),$(_D,vD,"esm2017")}z6();var mc=class{constructor(e){return e}},SD="storage",V_=class{constructor(){return kt(SD)}};var U_=new O("angularfire2.storage-instances");function W6(t,e){let n=jt(SD,t,e);return n&&new mc(n)}function G6(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new mc(r)}}var K6={provide:V_,deps:[[new fe,U_]]},Q6={provide:mc,useFactory:W6,deps:[[new fe,U_],Ze]};function CD(t,...e){return $("angularfire",He.full,"gcs"),Ke([Q6,K6,{provide:U_,useFactory:G6(t),multi:!0,deps:[Y,ve,ot,_t,[new fe,zn],[new fe,Tn],...e]}])}var AD=Ve(TD,!0);var RD={providers:[NT({eventCoalescing:!0}),cg(qb),wS(()=>IS({projectId:"my-tutors-click",appId:"1:786942767642:web:59559405eae7f2432817a3",storageBucket:"my-tutors-click.firebasestorage.app",apiKey:"AIzaSyC7TXHUA6fk2F6F1jf8OKTQCLl69ucoeDY",authDomain:"my-tutors-click.firebaseapp.com",messagingSenderId:"786942767642",measurementId:"G-QYWRHLS8PG"})),EC(()=>bC()),uA(()=>aA()),lA,jm,o0(()=>a0()),ZR(()=>XR()),fD(()=>pD()),CD(()=>AD())]};var Y6=()=>({title:"Explore the Docs",link:"https://angular.dev"}),Z6=()=>({title:"Learn with Tutorials",link:"https://angular.dev/tutorials"}),X6=()=>({title:"CLI Docs",link:"https://angular.dev/tools/cli"}),J6=()=>({title:"Angular Language Service",link:"https://angular.dev/tools/language-service"}),e5=()=>({title:"Angular DevTools",link:"https://angular.dev/tools/devtools"}),t5=(t,e,n,r,i)=>[t,e,n,r,i],n5=(t,e)=>e.title;function r5(t,e){if(t&1&&(Le(0,"a",21)(1,"span"),Jl(2),yt(),os(),Le(3,"svg",32),At(4,"path",33),yt()()),t&2){let n=e.$implicit;Cp("href",n.link,FE),Wl(2),Ap(n.title)}}var Wd=class t{title="angular-material-3-frontend-v2";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Zl({type:t,selectors:[["app-root"]],decls:39,vars:12,consts:[[1,"main"],[1,"content"],[1,"left-side"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 982 239","fill","none",1,"angular-logo"],["clip-path","url(#a)"],["fill","url(#b)","d","M388.676 191.625h30.849L363.31 31.828h-35.758l-56.215 159.797h30.848l13.174-39.356h60.061l13.256 39.356Zm-65.461-62.675 21.602-64.311h1.227l21.602 64.311h-44.431Zm126.831-7.527v70.202h-28.23V71.839h27.002v20.374h1.392c2.782-6.71 7.2-12.028 13.255-15.956 6.056-3.927 13.584-5.89 22.503-5.89 8.264 0 15.465 1.8 21.684 5.318 6.137 3.518 10.964 8.673 14.319 15.382 3.437 6.71 5.074 14.81 4.992 24.383v76.175h-28.23v-71.92c0-8.019-2.046-14.237-6.219-18.819-4.173-4.5-9.819-6.791-17.102-6.791-4.91 0-9.328 1.063-13.174 3.272-3.846 2.128-6.792 5.237-9.001 9.328-2.046 4.009-3.191 8.918-3.191 14.728ZM589.233 239c-10.147 0-18.82-1.391-26.103-4.091-7.282-2.7-13.092-6.382-17.511-10.964-4.418-4.582-7.528-9.655-9.164-15.219l25.448-6.136c1.145 2.372 2.782 4.663 4.991 6.954 2.209 2.291 5.155 4.255 8.837 5.81 3.683 1.554 8.428 2.291 14.074 2.291 8.019 0 14.647-1.964 19.884-5.81 5.237-3.845 7.856-10.227 7.856-19.064v-22.665h-1.391c-1.473 2.946-3.601 5.892-6.383 9.001-2.782 3.109-6.464 5.645-10.965 7.691-4.582 2.046-10.228 3.109-17.101 3.109-9.165 0-17.511-2.209-25.039-6.545-7.446-4.337-13.42-10.883-17.757-19.474-4.418-8.673-6.628-19.473-6.628-32.565 0-13.091 2.21-24.301 6.628-33.383 4.419-9.082 10.311-15.955 17.839-20.7 7.528-4.746 15.874-7.037 25.039-7.037 7.037 0 12.846 1.145 17.347 3.518 4.582 2.373 8.182 5.236 10.883 8.51 2.7 3.272 4.746 6.382 6.137 9.327h1.554v-19.8h27.821v121.749c0 10.228-2.454 18.737-7.364 25.447-4.91 6.709-11.538 11.7-20.048 15.055-8.509 3.355-18.165 4.991-28.884 4.991Zm.245-71.266c5.974 0 11.047-1.473 15.302-4.337 4.173-2.945 7.446-7.118 9.573-12.519 2.21-5.482 3.274-12.027 3.274-19.637 0-7.609-1.064-14.155-3.274-19.8-2.127-5.646-5.318-10.064-9.491-13.255-4.174-3.11-9.329-4.746-15.384-4.746s-11.537 1.636-15.792 4.91c-4.173 3.272-7.365 7.772-9.492 13.418-2.128 5.727-3.191 12.191-3.191 19.392 0 7.2 1.063 13.745 3.273 19.228 2.127 5.482 5.318 9.736 9.573 12.764 4.174 3.027 9.41 4.582 15.629 4.582Zm141.56-26.51V71.839h28.23v119.786h-27.412v-21.273h-1.227c-2.7 6.709-7.119 12.191-13.338 16.446-6.137 4.255-13.747 6.382-22.748 6.382-7.855 0-14.81-1.718-20.783-5.237-5.974-3.518-10.72-8.591-14.075-15.382-3.355-6.709-5.073-14.891-5.073-24.464V71.839h28.312v71.921c0 7.609 2.046 13.664 6.219 18.083 4.173 4.5 9.655 6.709 16.365 6.709 4.173 0 8.183-.982 12.111-3.028 3.927-2.045 7.118-5.072 9.655-9.082 2.537-4.091 3.764-9.164 3.764-15.218Zm65.707-109.395v159.796h-28.23V31.828h28.23Zm44.841 162.169c-7.61 0-14.402-1.391-20.457-4.091-6.055-2.7-10.883-6.791-14.32-12.109-3.518-5.319-5.237-11.946-5.237-19.801 0-6.791 1.228-12.355 3.765-16.773 2.536-4.419 5.891-7.937 10.228-10.637 4.337-2.618 9.164-4.664 14.647-6.055 5.4-1.391 11.046-2.373 16.856-3.027 7.037-.737 12.683-1.391 17.102-1.964 4.337-.573 7.528-1.555 9.574-2.782 1.963-1.309 3.027-3.273 3.027-5.973v-.491c0-5.891-1.718-10.391-5.237-13.664-3.518-3.191-8.51-4.828-15.056-4.828-6.955 0-12.356 1.473-16.447 4.5-4.009 3.028-6.71 6.546-8.183 10.719l-26.348-3.764c2.046-7.282 5.483-13.336 10.31-18.328 4.746-4.909 10.638-8.59 17.511-11.045 6.955-2.455 14.565-3.682 22.912-3.682 5.809 0 11.537.654 17.265 2.045s10.965 3.6 15.711 6.71c4.746 3.109 8.51 7.282 11.455 12.6 2.864 5.318 4.337 11.946 4.337 19.883v80.184h-27.166v-16.446h-.9c-1.719 3.355-4.092 6.464-7.201 9.328-3.109 2.864-6.955 5.237-11.619 6.955-4.828 1.718-10.229 2.536-16.529 2.536Zm7.364-20.701c5.646 0 10.556-1.145 14.729-3.354 4.173-2.291 7.364-5.237 9.655-9.001 2.292-3.763 3.355-7.854 3.355-12.273v-14.155c-.9.737-2.373 1.391-4.5 2.046-2.128.654-4.419 1.145-7.037 1.636-2.619.491-5.155.9-7.692 1.227-2.537.328-4.746.655-6.628.901-4.173.572-8.019 1.472-11.292 2.781-3.355 1.31-5.973 3.11-7.855 5.401-1.964 2.291-2.864 5.318-2.864 8.918 0 5.237 1.882 9.164 5.728 11.782 3.682 2.782 8.51 4.091 14.401 4.091Zm64.643 18.328V71.839h27.412v19.965h1.227c2.21-6.955 5.974-12.274 11.292-16.038 5.319-3.763 11.456-5.645 18.329-5.645 1.555 0 3.355.082 5.237.163 1.964.164 3.601.328 4.91.573v25.938c-1.227-.41-3.109-.819-5.646-1.146a58.814 58.814 0 0 0-7.446-.49c-5.155 0-9.738 1.145-13.829 3.354-4.091 2.209-7.282 5.236-9.655 9.164-2.373 3.927-3.519 8.427-3.519 13.5v70.448h-28.312ZM222.077 39.192l-8.019 125.923L137.387 0l84.69 39.192Zm-53.105 162.825-57.933 33.056-57.934-33.056 11.783-28.556h92.301l11.783 28.556ZM111.039 62.675l30.357 73.803H80.681l30.358-73.803ZM7.937 165.115 0 39.192 84.69 0 7.937 165.115Z"],["fill","url(#c)","d","M388.676 191.625h30.849L363.31 31.828h-35.758l-56.215 159.797h30.848l13.174-39.356h60.061l13.256 39.356Zm-65.461-62.675 21.602-64.311h1.227l21.602 64.311h-44.431Zm126.831-7.527v70.202h-28.23V71.839h27.002v20.374h1.392c2.782-6.71 7.2-12.028 13.255-15.956 6.056-3.927 13.584-5.89 22.503-5.89 8.264 0 15.465 1.8 21.684 5.318 6.137 3.518 10.964 8.673 14.319 15.382 3.437 6.71 5.074 14.81 4.992 24.383v76.175h-28.23v-71.92c0-8.019-2.046-14.237-6.219-18.819-4.173-4.5-9.819-6.791-17.102-6.791-4.91 0-9.328 1.063-13.174 3.272-3.846 2.128-6.792 5.237-9.001 9.328-2.046 4.009-3.191 8.918-3.191 14.728ZM589.233 239c-10.147 0-18.82-1.391-26.103-4.091-7.282-2.7-13.092-6.382-17.511-10.964-4.418-4.582-7.528-9.655-9.164-15.219l25.448-6.136c1.145 2.372 2.782 4.663 4.991 6.954 2.209 2.291 5.155 4.255 8.837 5.81 3.683 1.554 8.428 2.291 14.074 2.291 8.019 0 14.647-1.964 19.884-5.81 5.237-3.845 7.856-10.227 7.856-19.064v-22.665h-1.391c-1.473 2.946-3.601 5.892-6.383 9.001-2.782 3.109-6.464 5.645-10.965 7.691-4.582 2.046-10.228 3.109-17.101 3.109-9.165 0-17.511-2.209-25.039-6.545-7.446-4.337-13.42-10.883-17.757-19.474-4.418-8.673-6.628-19.473-6.628-32.565 0-13.091 2.21-24.301 6.628-33.383 4.419-9.082 10.311-15.955 17.839-20.7 7.528-4.746 15.874-7.037 25.039-7.037 7.037 0 12.846 1.145 17.347 3.518 4.582 2.373 8.182 5.236 10.883 8.51 2.7 3.272 4.746 6.382 6.137 9.327h1.554v-19.8h27.821v121.749c0 10.228-2.454 18.737-7.364 25.447-4.91 6.709-11.538 11.7-20.048 15.055-8.509 3.355-18.165 4.991-28.884 4.991Zm.245-71.266c5.974 0 11.047-1.473 15.302-4.337 4.173-2.945 7.446-7.118 9.573-12.519 2.21-5.482 3.274-12.027 3.274-19.637 0-7.609-1.064-14.155-3.274-19.8-2.127-5.646-5.318-10.064-9.491-13.255-4.174-3.11-9.329-4.746-15.384-4.746s-11.537 1.636-15.792 4.91c-4.173 3.272-7.365 7.772-9.492 13.418-2.128 5.727-3.191 12.191-3.191 19.392 0 7.2 1.063 13.745 3.273 19.228 2.127 5.482 5.318 9.736 9.573 12.764 4.174 3.027 9.41 4.582 15.629 4.582Zm141.56-26.51V71.839h28.23v119.786h-27.412v-21.273h-1.227c-2.7 6.709-7.119 12.191-13.338 16.446-6.137 4.255-13.747 6.382-22.748 6.382-7.855 0-14.81-1.718-20.783-5.237-5.974-3.518-10.72-8.591-14.075-15.382-3.355-6.709-5.073-14.891-5.073-24.464V71.839h28.312v71.921c0 7.609 2.046 13.664 6.219 18.083 4.173 4.5 9.655 6.709 16.365 6.709 4.173 0 8.183-.982 12.111-3.028 3.927-2.045 7.118-5.072 9.655-9.082 2.537-4.091 3.764-9.164 3.764-15.218Zm65.707-109.395v159.796h-28.23V31.828h28.23Zm44.841 162.169c-7.61 0-14.402-1.391-20.457-4.091-6.055-2.7-10.883-6.791-14.32-12.109-3.518-5.319-5.237-11.946-5.237-19.801 0-6.791 1.228-12.355 3.765-16.773 2.536-4.419 5.891-7.937 10.228-10.637 4.337-2.618 9.164-4.664 14.647-6.055 5.4-1.391 11.046-2.373 16.856-3.027 7.037-.737 12.683-1.391 17.102-1.964 4.337-.573 7.528-1.555 9.574-2.782 1.963-1.309 3.027-3.273 3.027-5.973v-.491c0-5.891-1.718-10.391-5.237-13.664-3.518-3.191-8.51-4.828-15.056-4.828-6.955 0-12.356 1.473-16.447 4.5-4.009 3.028-6.71 6.546-8.183 10.719l-26.348-3.764c2.046-7.282 5.483-13.336 10.31-18.328 4.746-4.909 10.638-8.59 17.511-11.045 6.955-2.455 14.565-3.682 22.912-3.682 5.809 0 11.537.654 17.265 2.045s10.965 3.6 15.711 6.71c4.746 3.109 8.51 7.282 11.455 12.6 2.864 5.318 4.337 11.946 4.337 19.883v80.184h-27.166v-16.446h-.9c-1.719 3.355-4.092 6.464-7.201 9.328-3.109 2.864-6.955 5.237-11.619 6.955-4.828 1.718-10.229 2.536-16.529 2.536Zm7.364-20.701c5.646 0 10.556-1.145 14.729-3.354 4.173-2.291 7.364-5.237 9.655-9.001 2.292-3.763 3.355-7.854 3.355-12.273v-14.155c-.9.737-2.373 1.391-4.5 2.046-2.128.654-4.419 1.145-7.037 1.636-2.619.491-5.155.9-7.692 1.227-2.537.328-4.746.655-6.628.901-4.173.572-8.019 1.472-11.292 2.781-3.355 1.31-5.973 3.11-7.855 5.401-1.964 2.291-2.864 5.318-2.864 8.918 0 5.237 1.882 9.164 5.728 11.782 3.682 2.782 8.51 4.091 14.401 4.091Zm64.643 18.328V71.839h27.412v19.965h1.227c2.21-6.955 5.974-12.274 11.292-16.038 5.319-3.763 11.456-5.645 18.329-5.645 1.555 0 3.355.082 5.237.163 1.964.164 3.601.328 4.91.573v25.938c-1.227-.41-3.109-.819-5.646-1.146a58.814 58.814 0 0 0-7.446-.49c-5.155 0-9.738 1.145-13.829 3.354-4.091 2.209-7.282 5.236-9.655 9.164-2.373 3.927-3.519 8.427-3.519 13.5v70.448h-28.312ZM222.077 39.192l-8.019 125.923L137.387 0l84.69 39.192Zm-53.105 162.825-57.933 33.056-57.934-33.056 11.783-28.556h92.301l11.783 28.556ZM111.039 62.675l30.357 73.803H80.681l30.358-73.803ZM7.937 165.115 0 39.192 84.69 0 7.937 165.115Z"],["id","c","cx","0","cy","0","r","1","gradientTransform","rotate(118.122 171.182 60.81) scale(205.794)","gradientUnits","userSpaceOnUse"],["stop-color","#FF41F8"],["offset",".707","stop-color","#FF41F8","stop-opacity",".5"],["offset","1","stop-color","#FF41F8","stop-opacity","0"],["id","b","x1","0","x2","982","y1","192","y2","192","gradientUnits","userSpaceOnUse"],["stop-color","#F0060B"],["offset","0","stop-color","#F0070C"],["offset",".526","stop-color","#CC26D5"],["offset","1","stop-color","#7702FF"],["id","a"],["fill","#fff","d","M0 0h982v239H0z"],["role","separator","aria-label","Divider",1,"divider"],[1,"right-side"],[1,"pill-group"],["target","_blank","rel","noopener",1,"pill",3,"href"],[1,"social-links"],["href","https://github.com/angular/angular","aria-label","Github","target","_blank","rel","noopener"],["width","25","height","24","viewBox","0 0 25 24","fill","none","xmlns","http://www.w3.org/2000/svg","alt","Github"],["d","M12.3047 0C5.50634 0 0 5.50942 0 12.3047C0 17.7423 3.52529 22.3535 8.41332 23.9787C9.02856 24.0946 9.25414 23.7142 9.25414 23.3871C9.25414 23.0949 9.24389 22.3207 9.23876 21.2953C5.81601 22.0377 5.09414 19.6444 5.09414 19.6444C4.53427 18.2243 3.72524 17.8449 3.72524 17.8449C2.61064 17.082 3.81137 17.0973 3.81137 17.0973C5.04697 17.1835 5.69604 18.3647 5.69604 18.3647C6.79321 20.2463 8.57636 19.7029 9.27978 19.3881C9.39052 18.5924 9.70736 18.0499 10.0591 17.7423C7.32641 17.4347 4.45429 16.3765 4.45429 11.6618C4.45429 10.3185 4.9311 9.22133 5.72065 8.36C5.58222 8.04931 5.16694 6.79833 5.82831 5.10337C5.82831 5.10337 6.85883 4.77319 9.2121 6.36459C10.1965 6.09082 11.2424 5.95546 12.2883 5.94931C13.3342 5.95546 14.3801 6.09082 15.3644 6.36459C17.7023 4.77319 18.7328 5.10337 18.7328 5.10337C19.3942 6.79833 18.9789 8.04931 18.8559 8.36C19.6403 9.22133 20.1171 10.3185 20.1171 11.6618C20.1171 16.3888 17.2409 17.4296 14.5031 17.7321C14.9338 18.1012 15.3337 18.8559 15.3337 20.0084C15.3337 21.6552 15.3183 22.978 15.3183 23.3779C15.3183 23.7009 15.5336 24.0854 16.1642 23.9623C21.0871 22.3484 24.6094 17.7341 24.6094 12.3047C24.6094 5.50942 19.0999 0 12.3047 0Z"],["href","https://twitter.com/angular","aria-label","Twitter","target","_blank","rel","noopener"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg","alt","Twitter"],["d","M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"],["href","https://www.youtube.com/channel/UCbn1OgGei-DV7aSRo_HaAiw","aria-label","Youtube","target","_blank","rel","noopener"],["width","29","height","20","viewBox","0 0 29 20","fill","none","xmlns","http://www.w3.org/2000/svg","alt","Youtube"],["fill-rule","evenodd","clip-rule","evenodd","d","M27.4896 1.52422C27.9301 1.96749 28.2463 2.51866 28.4068 3.12258C29.0004 5.35161 29.0004 10 29.0004 10C29.0004 10 29.0004 14.6484 28.4068 16.8774C28.2463 17.4813 27.9301 18.0325 27.4896 18.4758C27.0492 18.9191 26.5 19.2389 25.8972 19.4032C23.6778 20 14.8068 20 14.8068 20C14.8068 20 5.93586 20 3.71651 19.4032C3.11363 19.2389 2.56449 18.9191 2.12405 18.4758C1.68361 18.0325 1.36732 17.4813 1.20683 16.8774C0.613281 14.6484 0.613281 10 0.613281 10C0.613281 10 0.613281 5.35161 1.20683 3.12258C1.36732 2.51866 1.68361 1.96749 2.12405 1.52422C2.56449 1.08095 3.11363 0.76113 3.71651 0.596774C5.93586 0 14.8068 0 14.8068 0C14.8068 0 23.6778 0 25.8972 0.596774C26.5 0.76113 27.0492 1.08095 27.4896 1.52422ZM19.3229 10L11.9036 5.77905V14.221L19.3229 10Z"],["xmlns","http://www.w3.org/2000/svg","height","14","viewBox","0 -960 960 960","width","14","fill","currentColor"],["d","M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h280v80H200v560h560v-280h80v280q0 33-23.5 56.5T760-120H200Zm188-212-56-56 372-372H560v-80h280v280h-80v-144L388-332Z"]],template:function(n,r){n&1&&(Le(0,"main",0)(1,"div",1)(2,"div",2),os(),Le(3,"svg",3)(4,"g",4),At(5,"path",5)(6,"path",6),yt(),Le(7,"defs")(8,"radialGradient",7),At(9,"stop",8)(10,"stop",9)(11,"stop",10),yt(),Le(12,"linearGradient",11),At(13,"stop",12)(14,"stop",13)(15,"stop",14)(16,"stop",15),yt(),Le(17,"clipPath",16),At(18,"path",17),yt()()(),qo(),Le(19,"h1"),Jl(20),yt(),Le(21,"p"),Jl(22,"Congratulations! Your app is running. \u{1F389}"),yt()(),At(23,"div",18),Le(24,"div",19)(25,"div",20),bT(26,r5,5,2,"a",21,n5),yt(),Le(28,"div",22)(29,"a",23),os(),Le(30,"svg",24),At(31,"path",25),yt()(),qo(),Le(32,"a",26),os(),Le(33,"svg",27),At(34,"path",28),yt()(),qo(),Le(35,"a",29),os(),Le(36,"svg",30),At(37,"path",31),yt()()()()()(),qo(),At(38,"router-outlet")),n&2&&(Wl(20),eu("Hello, ",r.title,""),Wl(6),ST(CT(6,t5,ls(1,Y6),ls(2,Z6),ls(3,X6),ls(4,J6),ls(5,e5))))},dependencies:[ma],styles:['[_nghost-%COMP%]{--bright-blue: oklch(51.01% .274 263.83);--electric-violet: oklch(53.18% .28 296.97);--french-violet: oklch(47.66% .246 305.88);--vivid-pink: oklch(69.02% .277 332.77);--hot-red: oklch(61.42% .238 15.34);--orange-red: oklch(63.32% .24 31.68);--gray-900: oklch(19.37% .006 300.98);--gray-700: oklch(36.98% .014 302.71);--gray-400: oklch(70.9% .015 304.04);--red-to-pink-to-purple-vertical-gradient: linear-gradient( 180deg, var(--orange-red) 0%, var(--vivid-pink) 50%, var(--electric-violet) 100% );--red-to-pink-to-purple-horizontal-gradient: linear-gradient( 90deg, var(--orange-red) 0%, var(--vivid-pink) 50%, var(--electric-violet) 100% );--pill-accent: var(--bright-blue);font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1[_ngcontent-%COMP%]{font-size:3.125rem;color:var(--gray-900);font-weight:500;line-height:100%;letter-spacing:-.125rem;margin:0;font-family:Inter Tight,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol}p[_ngcontent-%COMP%]{margin:0;color:var(--gray-700)}main[_ngcontent-%COMP%]{width:100%;min-height:100%;display:flex;justify-content:center;align-items:center;padding:1rem;box-sizing:inherit;position:relative}.angular-logo[_ngcontent-%COMP%]{max-width:9.2rem}.content[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:100%;max-width:700px;margin-bottom:3rem}.content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:1.75rem}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1.5rem}.divider[_ngcontent-%COMP%]{width:1px;background:var(--red-to-pink-to-purple-vertical-gradient);margin-inline:.5rem}.pill-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:start;flex-wrap:wrap;gap:1.25rem}.pill[_ngcontent-%COMP%]{display:flex;align-items:center;--pill-accent: var(--bright-blue);background:color-mix(in srgb,var(--pill-accent) 5%,transparent);color:var(--pill-accent);padding-inline:.75rem;padding-block:.375rem;border-radius:2.75rem;border:0;transition:background .3s ease;font-family:var(--inter-font);font-size:.875rem;font-style:normal;font-weight:500;line-height:1.4rem;letter-spacing:-.00875rem;text-decoration:none}.pill[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--pill-accent) 15%,transparent)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+1){--pill-accent: var(--bright-blue)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+2){--pill-accent: var(--french-violet)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+3), .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+4), .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+5){--pill-accent: var(--hot-red)}.pill-group[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-inline-start:.25rem}.social-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.73rem;margin-top:1.5rem}.social-links[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{transition:fill .3s ease;fill:var(--gray-400)}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:var(--gray-900)}@media screen and (max-width: 650px){.content[_ngcontent-%COMP%]{flex-direction:column;width:max-content}.divider[_ngcontent-%COMP%]{height:1px;width:100%;background:var(--red-to-pink-to-purple-horizontal-gradient);margin-block:1.5rem}}']})};Up(Wd,RD).catch(t=>console.error(t));
